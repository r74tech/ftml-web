var e=Object.defineProperty,t=(t,n,r)=>(((t,n,r)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r})(t,"symbol"!=typeof n?n+"":n,r),r);!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class n extends HTMLElement{constructor(){super(),this.addEventListener("keydown",(e=>this.baseKeydownHandler(e))),this.addEventListener("click",(e=>this.baseClickHandler(e)));new MutationObserver((()=>this.baseEnsureAttributes())).observe(this,{attributes:!0})}get disabled(){return this.hasAttribute("disabled")}baseEnsureAttributes(){this.hasAttribute("tab-index")||this.setAttribute("tab-index","0"),this.hasAttribute("role")||this.setAttribute("role","button")}baseKeydownHandler(e){this.disabled||("Enter"===e.key||" "===e.key?(this.click(),e.preventDefault()):this.whenKeydown&&this.whenKeydown(e))}baseClickHandler(e){!this.disabled&&this.whenClicked&&(this.whenClicked(e),e.preventDefault())}connectedCallback(){this.baseEnsureAttributes()}}var r="top",s="bottom",o="right",i="left",a="auto",c=[r,s,o,i],l="start",u="end",f="clippingParents",h="viewport",d="popper",p="reference",m=c.reduce((function(e,t){return e.concat([t+"-"+l,t+"-"+u])}),[]),g=[].concat(c,[a]).reduce((function(e,t){return e.concat([t,t+"-"+l,t+"-"+u])}),[]),y=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function v(e){return e?(e.nodeName||"").toLowerCase():null}function b(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function w(e){return e instanceof b(e).Element||e instanceof Element}function k(e){return e instanceof b(e).HTMLElement||e instanceof HTMLElement}function x(e){return"undefined"!=typeof ShadowRoot&&(e instanceof b(e).ShadowRoot||e instanceof ShadowRoot)}const E={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];k(s)&&v(s)&&(Object.assign(s.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],s=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});k(r)&&v(r)&&(Object.assign(r.style,o),Object.keys(s).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function S(e){return e.split("-")[0]}var _=Math.max,A=Math.min,O=Math.round;function N(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function C(){return!/^((?!chrome|android).)*safari/i.test(N())}function T(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),s=1,o=1;t&&k(e)&&(s=e.offsetWidth>0&&O(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&O(r.height)/e.offsetHeight||1);var i=(w(e)?b(e):window).visualViewport,a=!C()&&n,c=(r.left+(a&&i?i.offsetLeft:0))/s,l=(r.top+(a&&i?i.offsetTop:0))/o,u=r.width/s,f=r.height/o;return{width:u,height:f,top:l,right:c+u,bottom:l+f,left:c,x:c,y:l}}function B(e){var t=T(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function I(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&x(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function L(e){return b(e).getComputedStyle(e)}function j(e){return["table","td","th"].indexOf(v(e))>=0}function M(e){return((w(e)?e.ownerDocument:e.document)||window.document).documentElement}function D(e){return"html"===v(e)?e:e.assignedSlot||e.parentNode||(x(e)?e.host:null)||M(e)}function P(e){return k(e)&&"fixed"!==L(e).position?e.offsetParent:null}function $(e){for(var t=b(e),n=P(e);n&&j(n)&&"static"===L(n).position;)n=P(n);return n&&("html"===v(n)||"body"===v(n)&&"static"===L(n).position)?t:n||function(e){var t=/firefox/i.test(N());if(/Trident/i.test(N())&&k(e)&&"fixed"===L(e).position)return null;var n=D(e);for(x(n)&&(n=n.host);k(n)&&["html","body"].indexOf(v(n))<0;){var r=L(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function R(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e,t,n){return _(e,A(t,n))}function F(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function H(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function K(e){return e.split("-")[1]}var U={top:"auto",right:"auto",bottom:"auto",left:"auto"};function W(e){var t,n=e.popper,a=e.popperRect,c=e.placement,l=e.variation,f=e.offsets,h=e.position,d=e.gpuAcceleration,p=e.adaptive,m=e.roundOffsets,g=e.isFixed,y=f.x,v=void 0===y?0:y,w=f.y,k=void 0===w?0:w,x="function"==typeof m?m({x:v,y:k}):{x:v,y:k};v=x.x,k=x.y;var E=f.hasOwnProperty("x"),S=f.hasOwnProperty("y"),_=i,A=r,N=window;if(p){var C=$(n),T="clientHeight",B="clientWidth";if(C===b(n)&&"static"!==L(C=M(n)).position&&"absolute"===h&&(T="scrollHeight",B="scrollWidth"),c===r||(c===i||c===o)&&l===u)A=s,k-=(g&&C===N&&N.visualViewport?N.visualViewport.height:C[T])-a.height,k*=d?1:-1;if(c===i||(c===r||c===s)&&l===u)_=o,v-=(g&&C===N&&N.visualViewport?N.visualViewport.width:C[B])-a.width,v*=d?1:-1}var I,j=Object.assign({position:h},p&&U),D=!0===m?function(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:O(n*s)/s||0,y:O(r*s)/s||0}}({x:v,y:k},b(n)):{x:v,y:k};return v=D.x,k=D.y,d?Object.assign({},j,((I={})[A]=S?"0":"",I[_]=E?"0":"",I.transform=(N.devicePixelRatio||1)<=1?"translate("+v+"px, "+k+"px)":"translate3d("+v+"px, "+k+"px, 0)",I)):Object.assign({},j,((t={})[A]=S?k+"px":"",t[_]=E?v+"px":"",t.transform="",t))}var z={passive:!0};var V={left:"right",right:"left",bottom:"top",top:"bottom"};function G(e){return e.replace(/left|right|bottom|top/g,(function(e){return V[e]}))}var J={start:"end",end:"start"};function Y(e){return e.replace(/start|end/g,(function(e){return J[e]}))}function X(e){var t=b(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Q(e){return T(M(e)).left+X(e).scrollLeft}function Z(e){var t=L(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function ee(e){return["html","body","#document"].indexOf(v(e))>=0?e.ownerDocument.body:k(e)&&Z(e)?e:ee(D(e))}function te(e,t){var n;void 0===t&&(t=[]);var r=ee(e),s=r===(null==(n=e.ownerDocument)?void 0:n.body),o=b(r),i=s?[o].concat(o.visualViewport||[],Z(r)?r:[]):r,a=t.concat(i);return s?a:a.concat(te(D(i)))}function ne(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function re(e,t,n){return t===h?ne(function(e,t){var n=b(e),r=M(e),s=n.visualViewport,o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;var l=C();(l||!l&&"fixed"===t)&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a+Q(e),y:c}}(e,n)):w(t)?function(e,t){var n=T(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ne(function(e){var t,n=M(e),r=X(e),s=null==(t=e.ownerDocument)?void 0:t.body,o=_(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=_(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+Q(e),c=-r.scrollTop;return"rtl"===L(s||n).direction&&(a+=_(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:i,x:a,y:c}}(M(e)))}function se(e,t,n,r){var s="clippingParents"===t?function(e){var t=te(D(e)),n=["absolute","fixed"].indexOf(L(e).position)>=0&&k(e)?$(e):e;return w(n)?t.filter((function(e){return w(e)&&I(e,n)&&"body"!==v(e)})):[]}(e):[].concat(t),o=[].concat(s,[n]),i=o[0],a=o.reduce((function(t,n){var s=re(e,n,r);return t.top=_(s.top,t.top),t.right=A(s.right,t.right),t.bottom=A(s.bottom,t.bottom),t.left=_(s.left,t.left),t}),re(e,i,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function oe(e){var t,n=e.reference,a=e.element,c=e.placement,f=c?S(c):null,h=c?K(c):null,d=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2;switch(f){case r:t={x:d,y:n.y-a.height};break;case s:t={x:d,y:n.y+n.height};break;case o:t={x:n.x+n.width,y:p};break;case i:t={x:n.x-a.width,y:p};break;default:t={x:n.x,y:n.y}}var m=f?R(f):null;if(null!=m){var g="y"===m?"height":"width";switch(h){case l:t[m]=t[m]-(n[g]/2-a[g]/2);break;case u:t[m]=t[m]+(n[g]/2-a[g]/2)}}return t}function ie(e,t){void 0===t&&(t={});var n=t,i=n.placement,a=void 0===i?e.placement:i,l=n.strategy,u=void 0===l?e.strategy:l,m=n.boundary,g=void 0===m?f:m,y=n.rootBoundary,v=void 0===y?h:y,b=n.elementContext,k=void 0===b?d:b,x=n.altBoundary,E=void 0!==x&&x,S=n.padding,_=void 0===S?0:S,A=F("number"!=typeof _?_:H(_,c)),O=k===d?p:d,N=e.rects.popper,C=e.elements[E?O:k],B=se(w(C)?C:C.contextElement||M(e.elements.popper),g,v,u),I=T(e.elements.reference),L=oe({reference:I,element:N,strategy:"absolute",placement:a}),j=ne(Object.assign({},N,L)),D=k===d?j:I,P={top:B.top-D.top+A.top,bottom:D.bottom-B.bottom+A.bottom,left:B.left-D.left+A.left,right:D.right-B.right+A.right},$=e.modifiersData.offset;if(k===d&&$){var R=$[a];Object.keys(P).forEach((function(e){var t=[o,s].indexOf(e)>=0?1:-1,n=[r,s].indexOf(e)>=0?"y":"x";P[e]+=R[n]*t}))}return P}function ae(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ce(e){return[r,o,s,i].some((function(t){return e[t]>=0}))}function le(e,t,n){void 0===n&&(n=!1);var r,s,o=k(t),i=k(t)&&function(e){var t=e.getBoundingClientRect(),n=O(t.width)/e.offsetWidth||1,r=O(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=M(t),c=T(e,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==v(t)||Z(a))&&(l=(r=t)!==b(r)&&k(r)?{scrollLeft:(s=r).scrollLeft,scrollTop:s.scrollTop}:X(r)),k(t)?((u=T(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Q(a))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function ue(e){var t=new Map,n=new Set,r=[];function s(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&s(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||s(e)})),r}var fe={placement:"bottom",modifiers:[],strategy:"absolute"};function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function de(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,s=t.defaultOptions,o=void 0===s?fe:s;return function(e,t,n){void 0===n&&(n=o);var s,i,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},fe,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:function(n){var s="function"==typeof n?n(a.options):n;f(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:w(e)?te(e):e.contextElement?te(e.contextElement):[],popper:te(t)};var i,l,h=function(e){var t=ue(e);return y.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(r,a.options.modifiers),l=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return a.orderedModifiers=h.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"==typeof s){var o=s({state:a,name:t,instance:u,options:r}),i=function(){};c.push(o||i)}})),u.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(he(t,n)){a.rects={reference:le(t,$(n),"fixed"===a.options.strategy),popper:B(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var s=a.orderedModifiers[r],o=s.fn,i=s.options,c=void 0===i?{}:i,f=s.name;"function"==typeof o&&(a=o({state:a,options:c,name:f,instance:u})||a)}else a.reset=!1,r=-1}}},update:(s=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return i||(i=new Promise((function(e){Promise.resolve().then((function(){i=void 0,e(s())}))}))),i}),destroy:function(){f(),l=!0}};if(!he(e,t))return u;function f(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var pe=de({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,o=void 0===s||s,i=r.resize,a=void 0===i||i,c=b(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,z)})),a&&c.addEventListener("resize",n.update,z),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,z)})),a&&c.removeEventListener("resize",n.update,z)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=oe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=void 0===r||r,o=n.adaptive,i=void 0===o||o,a=n.roundOffsets,c=void 0===a||a,l={placement:S(t.placement),variation:K(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,W(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,W(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},E,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,s=e.name,a=n.offset,c=void 0===a?[0,0]:a,l=g.reduce((function(e,n){return e[n]=function(e,t,n){var s=S(e),a=[i,r].indexOf(s)>=0?-1:1,c="function"==typeof n?n(Object.assign({},t,{placement:e})):n,l=c[0],u=c[1];return l=l||0,u=(u||0)*a,[i,o].indexOf(s)>=0?{x:u,y:l}:{x:l,y:u}}(n,t.rects,c),e}),{}),u=l[t.placement],f=u.x,h=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[s]=l}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,u=e.name;if(!t.modifiersData[u]._skip){for(var f=n.mainAxis,h=void 0===f||f,d=n.altAxis,p=void 0===d||d,y=n.fallbackPlacements,v=n.padding,b=n.boundary,w=n.rootBoundary,k=n.altBoundary,x=n.flipVariations,E=void 0===x||x,_=n.allowedAutoPlacements,A=t.options.placement,O=S(A),N=y||(O===A||!E?[G(A)]:function(e){if(S(e)===a)return[];var t=G(e);return[Y(e),t,Y(t)]}(A)),C=[A].concat(N).reduce((function(e,n){return e.concat(S(n)===a?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=n.boundary,o=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?g:l,f=K(r),h=f?a?m:m.filter((function(e){return K(e)===f})):c,d=h.filter((function(e){return u.indexOf(e)>=0}));0===d.length&&(d=h);var p=d.reduce((function(t,n){return t[n]=ie(e,{placement:n,boundary:s,rootBoundary:o,padding:i})[S(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:b,rootBoundary:w,padding:v,flipVariations:E,allowedAutoPlacements:_}):n)}),[]),T=t.rects.reference,B=t.rects.popper,I=new Map,L=!0,j=C[0],M=0;M<C.length;M++){var D=C[M],P=S(D),$=K(D)===l,R=[r,s].indexOf(P)>=0,q=R?"width":"height",F=ie(t,{placement:D,boundary:b,rootBoundary:w,altBoundary:k,padding:v}),H=R?$?o:i:$?s:r;T[q]>B[q]&&(H=G(H));var U=G(H),W=[];if(h&&W.push(F[P]<=0),p&&W.push(F[H]<=0,F[U]<=0),W.every((function(e){return e}))){j=D,L=!1;break}I.set(D,W)}if(L)for(var z=function(e){var t=C.find((function(t){var n=I.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},V=E?3:1;V>0;V--){if("break"===z(V))break}t.placement!==j&&(t.modifiersData[u]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,c=n.mainAxis,u=void 0===c||c,f=n.altAxis,h=void 0!==f&&f,d=n.boundary,p=n.rootBoundary,m=n.altBoundary,g=n.padding,y=n.tether,v=void 0===y||y,b=n.tetherOffset,w=void 0===b?0:b,k=ie(t,{boundary:d,rootBoundary:p,padding:g,altBoundary:m}),x=S(t.placement),E=K(t.placement),O=!E,N=R(x),C="x"===N?"y":"x",T=t.modifiersData.popperOffsets,I=t.rects.reference,L=t.rects.popper,j="function"==typeof w?w(Object.assign({},t.rects,{placement:t.placement})):w,M="number"==typeof j?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(T){if(u){var F,H="y"===N?r:i,U="y"===N?s:o,W="y"===N?"height":"width",z=T[N],V=z+k[H],G=z-k[U],J=v?-L[W]/2:0,Y=E===l?I[W]:L[W],X=E===l?-L[W]:-I[W],Q=t.elements.arrow,Z=v&&Q?B(Q):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[H],ne=ee[U],re=q(0,I[W],Z[W]),se=O?I[W]/2-J-re-te-M.mainAxis:Y-re-te-M.mainAxis,oe=O?-I[W]/2+J+re+ne+M.mainAxis:X+re+ne+M.mainAxis,ae=t.elements.arrow&&$(t.elements.arrow),ce=ae?"y"===N?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(F=null==D?void 0:D[N])?F:0,ue=z+oe-le,fe=q(v?A(V,z+se-le-ce):V,z,v?_(G,ue):G);T[N]=fe,P[N]=fe-z}if(h){var he,de="x"===N?r:i,pe="x"===N?s:o,me=T[C],ge="y"===C?"height":"width",ye=me+k[de],ve=me-k[pe],be=-1!==[r,i].indexOf(x),we=null!=(he=null==D?void 0:D[C])?he:0,ke=be?ye:me-I[ge]-L[ge]-we+M.altAxis,xe=be?me+I[ge]+L[ge]-we-M.altAxis:ve,Ee=v&&be?(_e=q(ke,me,Se=xe))>Se?Se:_e:q(v?ke:ye,me,v?xe:ve);T[C]=Ee,P[C]=Ee-me}var Se,_e;t.modifiersData[a]=P}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,l=e.options,u=n.elements.arrow,f=n.modifiersData.popperOffsets,h=S(n.placement),d=R(h),p=[i,o].indexOf(h)>=0?"height":"width";if(u&&f){var m=function(e,t){return F("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:H(e,c))}(l.padding,n),g=B(u),y="y"===d?r:i,v="y"===d?s:o,b=n.rects.reference[p]+n.rects.reference[d]-f[d]-n.rects.popper[p],w=f[d]-n.rects.reference[d],k=$(u),x=k?"y"===d?k.clientHeight||0:k.clientWidth||0:0,E=b/2-w/2,_=m[y],A=x-g[p]-m[v],O=x/2-g[p]/2+E,N=q(_,O,A),C=d;n.modifiersData[a]=((t={})[C]=N,t.centerOffset=N-O,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&I(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,o=t.modifiersData.preventOverflow,i=ie(t,{elementContext:"reference"}),a=ie(t,{altBoundary:!0}),c=ae(i,r),l=ae(a,s,o),u=ce(c),f=ce(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}}]});let me;globalThis.idleCallbackShim=function(){var e,t,n,r,s=globalThis.window?globalThis.window:globalThis,o=s.cancelRequestAnimationFrame&&s.requestAnimationFrame||setTimeout,i=s.cancelRequestAnimationFrame||clearTimeout,a=[],c=0,l=!1,u=7,f=35,h=125,d=0,p=0,m=0,g={get didTimeout(){return!1},timeRemaining:function(){var e=u-(performance.now()-p);return Math.max(0,e)}},y=v((function(){u=22,h=66,f=0}));function v(e){var t,n,r=99,s=function(){var o=performance.now()-n;o<r?t=setTimeout(s,r-o):(t=null,e())};return function(){n=performance.now(),t||(t=setTimeout(s,r))}}function b(){l&&(r&&i(r),n&&clearTimeout(n),l=!1)}function w(){125!=h&&(u=7,h=125,f=35,l&&(b(),E())),y()}function k(){r=null,n=setTimeout(S,0)}function x(){n=null,o(k)}function E(){l||(t=h-(performance.now()-p),e=performance.now(),l=!0,f&&t<f&&(t=f),t>9?n=setTimeout(x,t):(t=0,x()))}function S(){var r,s,o,i=u>9?9:1;if(p=performance.now(),l=!1,n=null,c>2||p-t-50<e)for(s=0,o=a.length;s<o&&g.timeRemaining()>i;s++)r=a.shift(),m++,r&&r(g);a.length?E():c=0}function _(e){return d++,a.push(e),E(),d}function A(e){var t=e-1-m;a[t]&&(a[t]=null)}if(s.requestIdleCallback&&s.cancelIdleCallback)try{s.requestIdleCallback((function(){}),{timeout:0})}catch(O){!function(e){var t,n;if(s.requestIdleCallback=function(t,n){return n&&"number"==typeof n.timeout?e(t,n.timeout):e(t)},s.IdleCallbackDeadline&&(t=IdleCallbackDeadline.prototype)){if(!(n=Object.getOwnPropertyDescriptor(t,"timeRemaining"))||!n.configurable||!n.get)return;Object.defineProperty(t,"timeRemaining",{value:function(){return n.get.call(this)},enumerable:!0,configurable:!0})}}(s.requestIdleCallback)}else s.requestIdleCallback=_,s.cancelIdleCallback=A,s!==globalThis&&(globalThis.requestIdleCallback=_,globalThis.cancelIdleCallback=A),s.document&&document.addEventListener&&(s.addEventListener("scroll",w,!0),s.addEventListener("resize",w),document.addEventListener("focus",w,!0),document.addEventListener("mouseover",w,!0),["click","keypress","touchstart","mousedown"].forEach((function(e){document.addEventListener(e,w,{capture:!0,passive:!0})})),s.MutationObserver&&new MutationObserver(w).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));return{request:_,cancel:A}}();try{me=new DOMParser}catch{}class ge{constructor(e,t,n=!0){this.reset(e,t),n||this.clear()}get running(){return void 0!==this.timeout}then(e){return this.promise.then(e)}remaining(){if(!this.ends||!this.started)return 0;const e=this.ends.getTime()-(new Date).getTime();return e>0?e:0}expired(){return void 0===this.timeout}clear(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}extend(e){this.expired()||this.reset(this.remaining()+e)}reset(e,t){if(t&&"function"!=typeof t)throw console.error("Avoided potential string eval in timeout!"),new Error("Timeout callback must be a function");!this.expired()&&this.promise||(this.promise=new Promise((e=>{this.promiseResolve=e}))),"number"==typeof e?this.delay=e:null===e&&(this.delay=0),t?this.cb=()=>{const e=t();this.value=e,this.promiseResolve(e)}:null===t&&(this.cb=void 0),this.expired()&&(this.started=new Date),this.ends=new Date(this.started.getTime()+this.delay),this.value=void 0,this.clear(),this.timeout=setTimeout((()=>{this.cb&&this.cb(),this.timeout=void 0}),this.delay)}}function ye(e,t){return new ge(e,t)}function ve(e){e&&e.clear()}const be=Symbol("timedout");async function we(e,t){const n=ye(t,(()=>be)),r=await Promise.race([e,n.promise]);return r!==be&&n.clear(),r}function ke(e){return new Promise(e?t=>requestAnimationFrame((()=>{const n=e();n instanceof Promise?n.then((e=>t(e))):t(n)})):e=>requestAnimationFrame((()=>e())))}new TextDecoder,new TextEncoder;const xe="function"==typeof globalThis.matchMedia?matchMedia("(any-hover: hover), (hover: hover)"):{matches:!0};class Ee{constructor(e,n){t(this,"hovered",!1),t(this,"focused",!1),this.target=e,this.opts=n,this.pointerover=this.pointerover.bind(this),this.pointerout=this.pointerout.bind(this),this.focusin=this.focusin.bind(this),this.focusout=this.focusout.bind(this),this.move=this.move.bind(this),e.addEventListener("pointerover",this.pointerover,{passive:!0}),e.addEventListener("pointerout",this.pointerout,{passive:!0}),e.addEventListener("focusin",this.focusin,{passive:!0}),e.addEventListener("focusout",this.focusout,{passive:!0}),e.addEventListener("pointermove",this.move,{passive:!0})}pointerover(e){xe.matches&&(this.sameTree(e)||(this.hovered=!0,this.opts.on&&!this.focused&&this.opts.on()))}pointerout(e){(this.hovered||xe.matches)&&(this.sameTree(e)||(this.hovered=!1,this.opts.off&&!this.focused&&this.opts.off()))}focusin(e){this.opts.alsoOnFocus&&(this.focused&&this.sameTree(e)||(this.focused=!0,this.opts.on&&!this.hovered&&this.opts.on()))}focusout(e){this.opts.alsoOnFocus&&(this.sameTree(e)||(this.focused=!1,this.opts.off&&!this.hovered&&this.opts.off()))}move(){this.opts.move&&this.opts.move()}sameTree(e){return this.target.contains(e.relatedTarget)}update(e){this.opts=e}destroy(){this.target.removeEventListener("pointerover",this.pointerover),this.target.removeEventListener("pointerout",this.pointerout),this.target.removeEventListener("focusin",this.focusin),this.target.removeEventListener("focusout",this.focusout),this.target.removeEventListener("pointermove",this.move)}}class Se extends n{baseWhenHovered(){if(!this.disabled){if(this.whenHovered){if(!1===this.whenHovered())return}this.tooltip.classList.add("is-hovered"),this.popperInstance||(this.popperInstance=pe(this.parent,this.tooltip,{placement:"bottom"}))}}baseWhenUnhovered(){this.disabled&&!this.tooltip.classList.contains("is-hovered")||(this.whenUnhovered&&this.whenUnhovered(),this.tooltip.classList.remove("is-hovered"),this.popperInstance&&(this.offTimer=ye(100,(()=>{this.popperInstance.destroy(),this.popperInstance=void 0}))))}connectedCallback(){super.connectedCallback(),this.hoverObserver=new Ee(this.parent,{on:()=>{ve(this.offTimer),this.onTimer=ye(50,(()=>this.baseWhenHovered()))},off:()=>{ve(this.onTimer),this.offTimer=ye(50,(()=>this.baseWhenUnhovered()))}})}disconnectedCallback(){this.hoverObserver.destroy(),ve(this.onTimer),ve(this.offTimer)}}function _e(e,t){customElements.get(e.tag)||customElements.define(e.tag,e),t&&(globalThis[t]=e)}const Ae={childList:!0,subtree:!0,attributes:!0,characterData:!0};function Oe(e,t){const n=new MutationObserver(t);return n.observe(e,Ae),n}function Ne(e,t,n){const r=n.value;if("AsyncFunction"===r.constructor.name){let e=0;n.value=async function(...t){this.observer.disconnect(),e++;const n=await r.apply(this,t);return e--,e||this.observer.observe(this,Ae),n}}else n.value=function(...e){this.observer.disconnect();const t=r.apply(this,e);return this.observer.observe(this,Ae),t}}var Ce,Te;(Te=Ce||(Ce={})).mouseX=0,Te.mouseY=0,Te.scroll=0,Te.isMobile=/Mobi|Android/i.test(navigator.userAgent),window.addEventListener("mousemove",(e=>{Te.mouseX=e.clientX/window.innerWidth,Te.mouseY=e.clientY/window.innerHeight})),window.addEventListener("scroll",(()=>{Te.scroll=document.documentElement.scrollTop/(document.body.scrollHeight-window.innerHeight)}));
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const Be=Symbol("Comlink.proxy"),Ie=Symbol("Comlink.endpoint"),Le=Symbol("Comlink.releaseProxy"),je=Symbol("Comlink.finalizer"),Me=Symbol("Comlink.thrown"),De=e=>"object"==typeof e&&null!==e||"function"==typeof e,Pe=new Map([["proxy",{canHandle:e=>De(e)&&e[Be],serialize(e){const{port1:t,port2:n}=new MessageChannel;return $e(e,t),[n,[n]]},deserialize:e=>(e.start(),qe(e))}],["throw",{canHandle:e=>De(e)&&Me in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function $e(e,t=globalThis,n=["*"]){t.addEventListener("message",(function r(s){if(!s||!s.data)return;if(!function(e,t){for(const n of e){if(t===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}return!1}(n,s.origin))return void console.warn(`Invalid origin '${s.origin}' for comlink proxy`);const{id:o,type:i,path:a}=Object.assign({path:[]},s.data),c=(s.data.argumentList||[]).map(Je);let l;try{const t=a.slice(0,-1).reduce(((e,t)=>e[t]),e),n=a.reduce(((e,t)=>e[t]),e);switch(i){case"GET":l=n;break;case"SET":t[a.slice(-1)[0]]=Je(s.data.value),l=!0;break;case"APPLY":l=n.apply(t,c);break;case"CONSTRUCT":l=function(e){return Object.assign(e,{[Be]:!0})}(new n(...c));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;$e(e,n),l=function(e,t){return Ve.set(e,t),e}(t,[t])}break;case"RELEASE":l=void 0;break;default:return}}catch(u){l={value:u,[Me]:0}}Promise.resolve(l).catch((e=>({value:e,[Me]:0}))).then((n=>{const[s,a]=Ge(n);t.postMessage(Object.assign(Object.assign({},s),{id:o}),a),"RELEASE"===i&&(t.removeEventListener("message",r),Re(t),je in e&&"function"==typeof e[je]&&e[je]())})).catch((e=>{const[n,r]=Ge({value:new TypeError("Unserializable return value"),[Me]:0});t.postMessage(Object.assign(Object.assign({},n),{id:o}),r)}))})),t.start&&t.start()}function Re(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function qe(e,t){return We(e,[],t)}function Fe(e){if(e)throw new Error("Proxy has been released and is not useable")}function He(e){return Ye(e,{type:"RELEASE"}).then((()=>{Re(e)}))}const Ke=new WeakMap,Ue="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(Ke.get(e)||0)-1;Ke.set(e,t),0===t&&He(e)}));function We(e,t=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(n,o){if(Fe(r),o===Le)return()=>{!function(e){Ue&&Ue.unregister(e)}(s),He(e),r=!0};if("then"===o){if(0===t.length)return{then:()=>s};const n=Ye(e,{type:"GET",path:t.map((e=>e.toString()))}).then(Je);return n.then.bind(n)}return We(e,[...t,o])},set(n,s,o){Fe(r);const[i,a]=Ge(o);return Ye(e,{type:"SET",path:[...t,s].map((e=>e.toString())),value:i},a).then(Je)},apply(n,s,o){Fe(r);const i=t[t.length-1];if(i===Ie)return Ye(e,{type:"ENDPOINT"}).then(Je);if("bind"===i)return We(e,t.slice(0,-1));const[a,c]=ze(o);return Ye(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:a},c).then(Je)},construct(n,s){Fe(r);const[o,i]=ze(s);return Ye(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:o},i).then(Je)}});return function(e,t){const n=(Ke.get(t)||0)+1;Ke.set(t,n),Ue&&Ue.register(e,t,e)}(s,e),s}function ze(e){const t=e.map(Ge);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const Ve=new WeakMap;function Ge(e){for(const[t,n]of Pe)if(n.canHandle(e)){const[r,s]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},s]}return[{type:"RAW",value:e},Ve.get(e)||[]]}function Je(e){switch(e.type){case"HANDLER":return Pe.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Ye(e,t,n){return new Promise((r=>{const s=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===s&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:s},t),n)}))}function Xe(e){e[Le]&&e[Le]()}class Qe{constructor(){t(this,"_baseDefaults"),t(this,"_baseMethodTimeout"),t(this,"_workerInstance")}static of(e){const t=class extends Qe{};for(const n of e)t.prototype[n]=async function(...e){if(this.starting&&await this.starting,this.worker||await this.start(),!this.worker)return await this._baseTryToGetDefault(n,e);if(0!==this._baseMethodTimeout){const t=await we(this.worker[n](...e),this._baseMethodTimeout??5e3);if(t!==be)return t;throw this.stop(),new Error(`Method "${n}" timed out!`)}};return t}async _baseTryToGetDefault(e,t){if(!this._baseDefaults||!this._baseDefaults.hasOwnProperty(e))throw this.worker?new Error(`Method "${e}" could not be called!`):new Error("Worker could not be started!");const n=this._baseDefaults[e];return"function"==typeof n?await n.apply(this,t):n}get loaded(){return Boolean(this.worker)}async start(e){if(!e&&this.worker)return;if(this.starting&&(await this.starting,this.starting=void 0,!e))return;const t=[this.worker,this._workerInstance],n=this._baseGetWorker();n instanceof Promise&&(this.starting=n.then());const r=await n;r&&(r instanceof Worker?(this.worker=qe(r),this._workerInstance=r):(this.worker=r,this._workerInstance=void 0),this._baseInitalize&&await this._baseInitalize(),t[0]&&Xe(t[0]),t[1]&&t[1].terminate(),this.starting=void 0)}stop(){this.worker&&Xe(this.worker),this._workerInstance&&this._workerInstance.terminate(),this.worker=void 0,this._workerInstance=void 0}}class Ze extends(Qe.of(["disableWorkerMessageHandler","getLanguages","highlight","manual"])){_baseGetWorker(){return new Worker(new URL("/worker-8577ed5f.js",self.location),{type:"module"})}}const et=new Ze;var tt=Object.defineProperty,nt=Object.getOwnPropertyDescriptor;class rt extends HTMLElement{constructor(){super(),this.language=null,this.content="",this.observer=Oe(this,(()=>this.update()))}getLanguageFromClass(){const e=Array.from(this.classList);for(const t of e)if(t.startsWith("wj-language-"))return t.substring(12);return null}async update(){const e=this.querySelector("code");if(!e)return;const t=this.getLanguageFromClass();t?await ke((async()=>{const n=e.innerText;this.html&&this.content===n&&this.language===t||(this.language=t,this.content=n,this.html=await et.highlight(n,t)),await ke((()=>e.innerHTML=this.html))})):this.language&&(this.language=null,await ke((()=>{this.content=e.innerText,this.html=this.content,e.innerHTML=this.content})))}connectedCallback(){this.update()}}t(rt,"tag","wj-code"),((e,t,n,r)=>{for(var s,o=r>1?void 0:r?nt(t,n):t,i=e.length-1;i>=0;i--)(s=e[i])&&(o=(r?s(t,n,o):s(o))||o);r&&o&&tt(t,n,o)})([Ne],rt.prototype,"update",1);class st extends n{whenClicked(){const e=this.closest(".wj-code")?.querySelector("code");if(!e)return;const t=e.innerText;navigator.clipboard.writeText(t).then((()=>{this.classList.add("wj-code-copy-success"),ye(1e3,(()=>this.classList.remove("wj-code-copy-success")))}))}}t(st,"tag","wj-code-copy"),_e(rt,"CodeElement"),_e(st,"CodeCopyElement");class ot extends n{get details(){const e=this.closest("details.wj-collapsible");if(!e)throw new Error("No details found");return e}whenClicked(){this.details.removeAttribute("open")}}t(ot,"tag","wj-collapsible-button-bottom"),_e(ot,"CollapsibleBottomButtonElement");class it extends Se{get parent(){if(!this.parentElement)throw new Error("No parent element");return this.parentElement}get tooltip(){const e=this.parent.querySelector(".wj-footnote-ref-tooltip");if(!e)throw new Error("No contents element");return e}whenClicked(){const e=this.findFootnote();e.scrollIntoView(),e.focus()}findFootnote(){const e=this.closest(".wj-body");if(!e)throw new Error("No parent body");const t=parseInt(this.dataset.id??"0",10),n=e.querySelector(`.wj-footnote-list-item[data-id="${t}"]`);if(!n)throw new Error("No footnote");return n}}t(it,"tag","wj-footnote-ref-marker");class at extends n{whenClicked(){const e=this.findFootnote();e.scrollIntoView(),e.focus()}findFootnote(){const e=this.closest(".wj-body");if(!e)throw new Error("No parent body");const t=parseInt(this.parentElement?.dataset.id??"0",10),n=e.querySelector(`.wj-footnote-ref-marker[data-id="${t}"]`);if(!n)throw new Error("No footnote");return n}}t(at,"tag","wj-footnote-list-item-marker"),_e(it,"FootnoteRefMarkerElement"),_e(at,"FootnoteListMarkerElement");const ct={};var lt=Object.defineProperty,ut=Object.getOwnPropertyDescriptor;const ft=!function(){let e,t=document.createElement("div");return t.innerHTML="<math><mspace height='23px' width='77px'/></math>",document.body.appendChild(t),e=t.firstChild.firstChild.getBoundingClientRect(),document.body.removeChild(t),Math.abs(e.height-23)<=1&&Math.abs(e.width-77)<=1}();let ht=null;ft&&(ht=(async()=>(await function(e,t,n){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in ct)return;ct[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(n)for(let n=r.length-1;n>=0;n--){const s=r[n];if(s.href===e&&(!t||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${e}"]${s}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))}((()=>import("./hfmath-279bb214.js")),[])).hfmath)());class dt extends HTMLElement{constructor(){if(super(),!ft)throw new Error("shouldn't have been created if no polyfill was needed");this.root=this.attachShadow({mode:"open"}),this.container=document.createElement("span"),this.container.setAttribute("style","display: inline-block;"),this.container.setAttribute("aria-hidden","true"),this.root.appendChild(this.container),this.root.append(document.createElement("slot")),this.observer=Oe(this,(()=>this.update()))}get sourceLatex(){return this.parentElement?.querySelector(".wj-math-source")?.innerText}async update(){this.classList.add("wj-math-ml-polyfilled");const e=await ke((()=>this.sourceLatex));if(e)try{const t=await ht;await ke((()=>{const n=new t(e).svg({SCALE_X:7.5,SCALE_Y:7.5,MARGIN_X:0,MARGIN_Y:0});this.container.innerHTML=n;this.container.querySelector("svg").setAttribute("style","vertical-align: text-bottom; stroke: currentColor;")}))}catch(t){const e=t instanceof Error?t.message:"unknown error",n=document.createElement("span");n.setAttribute("class",`wj-error-${this.display}`),n.innerText=e,this.container.innerHTML="",this.container.append(n)}}connectedCallback(){this.display="DIV"===this.parentElement?.tagName?"block":"inline",this.update()}}t(dt,"tag","wj-math-ml"),((e,t,n,r)=>{for(var s,o=r>1?void 0:r?ut(t,n):t,i=e.length-1;i>=0;i--)(s=e[i])&&(o=(r?s(t,n,o):s(o))||o);r&&o&&lt(t,n,o)})([Ne],dt.prototype,"update",1);class pt extends Se{get parent(){if(!this.parentElement)throw new Error("No parent element");return this.parentElement}get tooltip(){const e=this.parent.querySelector(".wj-equation-ref-tooltip");if(!e)throw new Error("No tooltip element");return e}whenClicked(){const e=this.getUpdatedEquation();e&&(e.scrollIntoView({block:"center"}),e.focus())}whenHovered(){if(!this.getUpdatedEquation())return!1}getUpdatedEquation(){const e=this.getAttribute("data-name");if(!e)return this.classList.toggle("is-no-equation",!0),null;const t=this.closest(".wj-body")?.querySelector(`.wj-math[data-name="${e}"]`);if(!t)return this.classList.toggle("is-no-equation",!0),null;const n=t.querySelector(".wj-math-source").cloneNode(!0),r=t.querySelector(".wj-math-ml").cloneNode(!0);return this.tooltip.replaceChildren(n,r),this.classList.toggle("is-no-equation",!1),t}connectedCallback(){super.connectedCallback(),this.getUpdatedEquation()}}t(pt,"tag","wj-equation-ref-marker"),ft&&_e(dt,"MathElement"),_e(pt,"EquationRefMarkerElement");var mt=Object.defineProperty,gt=Object.getOwnPropertyDescriptor;class yt extends HTMLElement{static get observedAttributes(){return["panel-selected"]}constructor(){super(),this.observer=Oe(this,(()=>this.update()))}get buttons(){const e=this.querySelector(".wj-tabs-button-list");if(!e)throw new Error("No button list found");return Array.from(e.querySelectorAll(".wj-tabs-button"))}get tabs(){const e=this.querySelector(".wj-tabs-panel-list");if(!e)throw new Error("No panel list found");const t=Array.from(e.children);return this.buttons.map(((e,n)=>[e,t[n]]))}update(){if(!this.hasAttribute("panel-selected")){let e=0;this.buttons.forEach(((t,n)=>{"true"===t.getAttribute("aria-selected")&&(e=n)})),this.setAttribute("panel-selected",String(e))}const e=parseInt(this.getAttribute("panel-selected"),10);this.tabs.forEach((([t,n],r)=>{r===e?(t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"),n.removeAttribute("hidden")):(t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1"),n.setAttribute("hidden","true"))}))}connectedCallback(){this.update()}attributeChangedCallback(){this.update()}}t(yt,"tag","wj-tabs"),((e,t,n,r)=>{for(var s,o=r>1?void 0:r?gt(t,n):t,i=e.length-1;i>=0;i--)(s=e[i])&&(o=(r?s(t,n,o):s(o))||o);r&&o&&mt(t,n,o)})([Ne],yt.prototype,"update",1);class vt extends n{get parent(){const e=this.closest(".wj-tabs-button-list");if(!e)throw new Error("No button list found");return e}get index(){return Array.from(this.parent.children).indexOf(this)}whenClicked(){const e=this.closest(".wj-tabs");if(!e)throw new Error("No tabview found");e.setAttribute("panel-selected",String(this.index))}whenKeydown(e){if(["ArrowRight","ArrowLeft","Home","End"].includes(e.key)){const t=this.relativeList();switch(e.key){case"ArrowRight":t.next.focus();break;case"ArrowLeft":t.prev.focus();break;case"Home":t.start.focus();break;case"End":t.end.focus()}e.preventDefault()}}relativeList(){const e=Array.from(this.parent.children),t=e.indexOf(this);return{start:e[0],end:e[e.length-1],prev:e[t-1],next:e[t+1]}}}t(vt,"tag","wj-tabs-button"),_e(yt,"TabviewElement"),_e(vt,"TabviewButtonElement");function bt(e,t,n){var r,s,o;void 0===t&&(t=50),void 0===n&&(n={});var i=null!=(r=n.isImmediate)&&r,a=null!=(s=n.callback)&&s,c=n.maxWait,l=Date.now(),u=[];var f=function(){var n=[].slice.call(arguments),r=this;return new Promise((function(s,f){var h=i&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout((function(){if(o=void 0,l=Date.now(),!i){var t=e.apply(r,n);a&&a(t),u.forEach((function(e){return(0,e.resolve)(t)})),u=[]}}),function(){if(void 0!==c){var e=Date.now()-l;if(e+t>=c)return c-e}return t}()),h){var d=e.apply(r,n);return a&&a(d),s(d)}u.push({resolve:s,reject:f})}))};return f.cancel=function(e){void 0!==o&&clearTimeout(o),u.forEach((function(t){return(0,t.reject)(e)})),u=[]},f}var wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xt(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var Et={exports:{}},St=1;var _t,At,Ot,Nt={nextValue:function(){return(St=(9301*St+49297)%233280)/233280},seed:function(e){St=e}},Ct="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function Tt(){Ot=!1}function Bt(e){if(e){if(e!==_t){if(e.length!==Ct.length)throw new Error("Custom alphabet for shortid must be "+Ct.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+Ct.length+" unique characters. These characters were not unique: "+t.join(", "));_t=e,Tt()}}else _t!==Ct&&(_t=Ct,Tt())}function It(){return Ot||(Ot=function(){_t||Bt(Ct);for(var e,t=_t.split(""),n=[],r=Nt.nextValue();t.length>0;)r=Nt.nextValue(),e=Math.floor(r*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}var Lt,jt={get:function(){return _t||Ct},characters:function(e){return Bt(e),_t},seed:function(e){Nt.seed(e),At!==e&&(Tt(),At=e)},lookup:function(e){return It()[e]},shuffled:It},Mt="object"==typeof window&&(window.crypto||window.msCrypto);Lt=Mt&&Mt.getRandomValues?function(e){return Mt.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t};var Dt=jt,Pt=Lt,$t=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,s=-~(1.6*r*n/t.length),o="";;)for(var i=e(s),a=s;a--;)if((o+=t[i[a]&r]||"").length===+n)return o};var Rt,qt,Ft=function(e){for(var t,n=0,r="";!t;)r+=$t(Pt,Dt.get(),1),t=e<Math.pow(16,n+1),n++;return r};var Ht=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===qt?Rt++:(Rt=0,qt=n),t+=Ft(7),t+=Ft(e),Rt>0&&(t+=Ft(Rt)),t+=Ft(n)},Kt=jt;var Ut=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+Kt.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)};!function(e){var t=jt,n=Ht,r=Ut,s=0;function o(){return n(s)}e.exports=o,e.exports.generate=o,e.exports.seed=function(n){return t.seed(n),e.exports},e.exports.worker=function(t){return s=t,e.exports},e.exports.characters=function(e){return void 0!==e&&t.characters(e),t.shuffled()},e.exports.isValid=r}(Et);const Wt=kt(Et.exports);var zt={exports:{}};var Vt={exports:{}};const Gt=xt(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Jt;function Yt(){return Jt||(Jt=1,Vt.exports=(e=e||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==wt&&wt.crypto&&(n=wt.crypto),!n)try{n=Gt}catch(m){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},i=o.lib={},a=i.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=i.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,s=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<s;o++){var i=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=i<<24-(r+o)%4*8}else for(var a=0;a<s;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new c.init(t,e)}}),l=o.enc={},u=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],s=0;s<n;s++){var o=t[s>>>2]>>>24-s%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},f=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],s=0;s<n;s++){var o=t[s>>>2]>>>24-s%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,s=r.words,o=r.sigBytes,i=this.blockSize,a=o/(4*i),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,u=e.min(4*l,o);if(l){for(var f=0;f<l;f+=i)this._doProcessBlock(s,f);n=s.splice(0,l),r.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=o.algo={};return o}(Math),e)),Vt.exports;var e}var Xt,Qt={exports:{}};function Zt(){return Xt||(Xt=1,Qt.exports=(i=Yt(),n=(t=i).lib,r=n.Base,s=n.WordArray,(o=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return s.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,s=0;s<n;s++)t[s]=t[s].clone();return e}}),i)),Qt.exports;var e,t,n,r,s,o,i}var en,tn={exports:{}};function nn(){return en||(en=1,tn.exports=(e=Yt(),function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,r=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],s=0;s<t;s++)r[s>>>2]|=e[s]<<24-s%4*8;n.call(this,r,t)}else n.apply(this,arguments)};r.prototype=t}}(),e.lib.WordArray)),tn.exports;var e}var rn,sn={exports:{}};function on(){return rn?sn.exports:(rn=1,sn.exports=(e=Yt(),function(){var t=e,n=t.lib.WordArray,r=t.enc;function s(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],s=0;s<n;s+=2){var o=t[s>>>2]>>>16-s%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,r=[],s=0;s<t;s++)r[s>>>1]|=e.charCodeAt(s)<<16-s%2*16;return n.create(r,2*t)}},r.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var i=s(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,r=[],o=0;o<t;o++)r[o>>>1]|=s(e.charCodeAt(o)<<16-o%2*16);return n.create(r,2*t)}}}(),e.enc.Utf16));var e}var an,cn={exports:{}};function ln(){return an||(an=1,cn.exports=(e=Yt(),function(){var t=e,n=t.lib.WordArray;function r(e,t,r){for(var s=[],o=0,i=0;i<t;i++)if(i%4){var a=r[e.charCodeAt(i-1)]<<i%4*2|r[e.charCodeAt(i)]>>>6-i%4*2;s[o>>>2]|=a<<24-o%4*8,o++}return n.create(s,o)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var s=[],o=0;o<n;o+=3)for(var i=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)s.push(r.charAt(i>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(e){var t=e.length,n=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var o=0;o<n.length;o++)s[n.charCodeAt(o)]=o}var i=n.charAt(64);if(i){var a=e.indexOf(i);-1!==a&&(t=a)}return r(e,t,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)),cn.exports;var e}var un,fn={exports:{}};function hn(){return un?fn.exports:(un=1,fn.exports=(e=Yt(),function(){var t=e,n=t.lib.WordArray;function r(e,t,r){for(var s=[],o=0,i=0;i<t;i++)if(i%4){var a=r[e.charCodeAt(i-1)]<<i%4*2|r[e.charCodeAt(i)]>>>6-i%4*2;s[o>>>2]|=a<<24-o%4*8,o++}return n.create(s,o)}t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,s=t?this._safe_map:this._map;e.clamp();for(var o=[],i=0;i<r;i+=3)for(var a=(n[i>>>2]>>>24-i%4*8&255)<<16|(n[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|n[i+2>>>2]>>>24-(i+2)%4*8&255,c=0;c<4&&i+.75*c<r;c++)o.push(s.charAt(a>>>6*(3-c)&63));var l=s.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,s=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<s.length;i++)o[s.charCodeAt(i)]=i}var a=s.charAt(64);if(a){var c=e.indexOf(a);-1!==c&&(n=c)}return r(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url));var e}var dn,pn={exports:{}};function mn(){return dn||(dn=1,pn.exports=(e=Yt(),function(t){var n=e,r=n.lib,s=r.WordArray,o=r.Hasher,i=n.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=i.MD5=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,s=e[r];e[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var o=this._hash.words,i=e[t+0],c=e[t+1],d=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],w=e[t+9],k=e[t+10],x=e[t+11],E=e[t+12],S=e[t+13],_=e[t+14],A=e[t+15],O=o[0],N=o[1],C=o[2],T=o[3];O=l(O,N,C,T,i,7,a[0]),T=l(T,O,N,C,c,12,a[1]),C=l(C,T,O,N,d,17,a[2]),N=l(N,C,T,O,p,22,a[3]),O=l(O,N,C,T,m,7,a[4]),T=l(T,O,N,C,g,12,a[5]),C=l(C,T,O,N,y,17,a[6]),N=l(N,C,T,O,v,22,a[7]),O=l(O,N,C,T,b,7,a[8]),T=l(T,O,N,C,w,12,a[9]),C=l(C,T,O,N,k,17,a[10]),N=l(N,C,T,O,x,22,a[11]),O=l(O,N,C,T,E,7,a[12]),T=l(T,O,N,C,S,12,a[13]),C=l(C,T,O,N,_,17,a[14]),O=u(O,N=l(N,C,T,O,A,22,a[15]),C,T,c,5,a[16]),T=u(T,O,N,C,y,9,a[17]),C=u(C,T,O,N,x,14,a[18]),N=u(N,C,T,O,i,20,a[19]),O=u(O,N,C,T,g,5,a[20]),T=u(T,O,N,C,k,9,a[21]),C=u(C,T,O,N,A,14,a[22]),N=u(N,C,T,O,m,20,a[23]),O=u(O,N,C,T,w,5,a[24]),T=u(T,O,N,C,_,9,a[25]),C=u(C,T,O,N,p,14,a[26]),N=u(N,C,T,O,b,20,a[27]),O=u(O,N,C,T,S,5,a[28]),T=u(T,O,N,C,d,9,a[29]),C=u(C,T,O,N,v,14,a[30]),O=f(O,N=u(N,C,T,O,E,20,a[31]),C,T,g,4,a[32]),T=f(T,O,N,C,b,11,a[33]),C=f(C,T,O,N,x,16,a[34]),N=f(N,C,T,O,_,23,a[35]),O=f(O,N,C,T,c,4,a[36]),T=f(T,O,N,C,m,11,a[37]),C=f(C,T,O,N,v,16,a[38]),N=f(N,C,T,O,k,23,a[39]),O=f(O,N,C,T,S,4,a[40]),T=f(T,O,N,C,i,11,a[41]),C=f(C,T,O,N,p,16,a[42]),N=f(N,C,T,O,y,23,a[43]),O=f(O,N,C,T,w,4,a[44]),T=f(T,O,N,C,E,11,a[45]),C=f(C,T,O,N,A,16,a[46]),O=h(O,N=f(N,C,T,O,d,23,a[47]),C,T,i,6,a[48]),T=h(T,O,N,C,v,10,a[49]),C=h(C,T,O,N,_,15,a[50]),N=h(N,C,T,O,g,21,a[51]),O=h(O,N,C,T,E,6,a[52]),T=h(T,O,N,C,p,10,a[53]),C=h(C,T,O,N,k,15,a[54]),N=h(N,C,T,O,c,21,a[55]),O=h(O,N,C,T,b,6,a[56]),T=h(T,O,N,C,A,10,a[57]),C=h(C,T,O,N,y,15,a[58]),N=h(N,C,T,O,S,21,a[59]),O=h(O,N,C,T,m,6,a[60]),T=h(T,O,N,C,x,10,a[61]),C=h(C,T,O,N,d,15,a[62]),N=h(N,C,T,O,w,21,a[63]),o[0]=o[0]+O|0,o[1]=o[1]+N|0,o[2]=o[2]+C|0,o[3]=o[3]+T|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,s=8*e.sigBytes;n[s>>>5]|=128<<24-s%32;var o=t.floor(r/4294967296),i=r;n[15+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(s+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,s,o,i){var a=e+(t&n|~t&r)+s+i;return(a<<o|a>>>32-o)+t}function u(e,t,n,r,s,o,i){var a=e+(t&r|n&~r)+s+i;return(a<<o|a>>>32-o)+t}function f(e,t,n,r,s,o,i){var a=e+(t^n^r)+s+i;return(a<<o|a>>>32-o)+t}function h(e,t,n,r,s,o,i){var a=e+(n^(t|~r))+s+i;return(a<<o|a>>>32-o)+t}n.MD5=o._createHelper(c),n.HmacMD5=o._createHmacHelper(c)}(Math),e.MD5)),pn.exports;var e}var gn,yn={exports:{}};function vn(){return gn||(gn=1,yn.exports=(a=Yt(),t=(e=a).lib,n=t.WordArray,r=t.Hasher,s=e.algo,o=[],i=s.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],s=n[1],i=n[2],a=n[3],c=n[4],l=0;l<80;l++){if(l<16)o[l]=0|e[t+l];else{var u=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=u<<1|u>>>31}var f=(r<<5|r>>>27)+c+o[l];f+=l<20?1518500249+(s&i|~s&a):l<40?1859775393+(s^i^a):l<60?(s&i|s&a|i&a)-1894007588:(s^i^a)-899497514,c=a,a=i,i=s<<30|s>>>2,s=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+s|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=r._createHelper(i),e.HmacSHA1=r._createHmacHelper(i),a.SHA1)),yn.exports;var e,t,n,r,s,o,i,a}var bn,wn={exports:{}};function kn(){return bn||(bn=1,wn.exports=(e=Yt(),function(t){var n=e,r=n.lib,s=r.WordArray,o=r.Hasher,i=n.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,s=0;s<64;)e(r)&&(s<8&&(a[s]=n(t.pow(r,.5))),c[s]=n(t.pow(r,1/3)),s++),r++}();var l=[],u=i.SHA256=o.extend({_doReset:function(){this._hash=new s.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],s=n[1],o=n[2],i=n[3],a=n[4],u=n[5],f=n[6],h=n[7],d=0;d<64;d++){if(d<16)l[d]=0|e[t+d];else{var p=l[d-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[d-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[d]=m+l[d-7]+y+l[d-16]}var v=r&s^r&o^s&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&f)+c[d]+l[d];h=f,f=u,u=a,a=i+w|0,i=o,o=s,s=r,r=w+(b+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+s|0,n[2]=n[2]+o|0,n[3]=n[3]+i|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,s=8*e.sigBytes;return n[s>>>5]|=128<<24-s%32,n[14+(s+64>>>9<<4)]=t.floor(r/4294967296),n[15+(s+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(u),n.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256)),wn.exports;var e}var xn,En={exports:{}};var Sn,_n={exports:{}};function An(){return Sn||(Sn=1,_n.exports=(e=Yt(),Zt(),function(){var t=e,n=t.lib.Hasher,r=t.x64,s=r.Word,o=r.WordArray,i=t.algo;function a(){return s.create.apply(s,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=a()}();var u=i.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],s=n[1],o=n[2],i=n[3],a=n[4],u=n[5],f=n[6],h=n[7],d=r.high,p=r.low,m=s.high,g=s.low,y=o.high,v=o.low,b=i.high,w=i.low,k=a.high,x=a.low,E=u.high,S=u.low,_=f.high,A=f.low,O=h.high,N=h.low,C=d,T=p,B=m,I=g,L=y,j=v,M=b,D=w,P=k,$=x,R=E,q=S,F=_,H=A,K=O,U=N,W=0;W<80;W++){var z,V,G=l[W];if(W<16)V=G.high=0|e[t+2*W],z=G.low=0|e[t+2*W+1];else{var J=l[W-15],Y=J.high,X=J.low,Q=(Y>>>1|X<<31)^(Y>>>8|X<<24)^Y>>>7,Z=(X>>>1|Y<<31)^(X>>>8|Y<<24)^(X>>>7|Y<<25),ee=l[W-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,se=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=l[W-7],ie=oe.high,ae=oe.low,ce=l[W-16],le=ce.high,ue=ce.low;V=(V=(V=Q+ie+((z=Z+ae)>>>0<Z>>>0?1:0))+re+((z+=se)>>>0<se>>>0?1:0))+le+((z+=ue)>>>0<ue>>>0?1:0),G.high=V,G.low=z}var fe,he=P&R^~P&F,de=$&q^~$&H,pe=C&B^C&L^B&L,me=T&I^T&j^I&j,ge=(C>>>28|T<<4)^(C<<30|T>>>2)^(C<<25|T>>>7),ye=(T>>>28|C<<4)^(T<<30|C>>>2)^(T<<25|C>>>7),ve=(P>>>14|$<<18)^(P>>>18|$<<14)^(P<<23|$>>>9),be=($>>>14|P<<18)^($>>>18|P<<14)^($<<23|P>>>9),we=c[W],ke=we.high,xe=we.low,Ee=K+ve+((fe=U+be)>>>0<U>>>0?1:0),Se=ye+me;K=F,U=H,F=R,H=q,R=P,q=$,P=M+(Ee=(Ee=(Ee=Ee+he+((fe+=de)>>>0<de>>>0?1:0))+ke+((fe+=xe)>>>0<xe>>>0?1:0))+V+((fe+=z)>>>0<z>>>0?1:0))+(($=D+fe|0)>>>0<D>>>0?1:0)|0,M=L,D=j,L=B,j=I,B=C,I=T,C=Ee+(ge+pe+(Se>>>0<ye>>>0?1:0))+((T=fe+Se|0)>>>0<fe>>>0?1:0)|0}p=r.low=p+T,r.high=d+C+(p>>>0<T>>>0?1:0),g=s.low=g+I,s.high=m+B+(g>>>0<I>>>0?1:0),v=o.low=v+j,o.high=y+L+(v>>>0<j>>>0?1:0),w=i.low=w+D,i.high=b+M+(w>>>0<D>>>0?1:0),x=a.low=x+$,a.high=k+P+(x>>>0<$>>>0?1:0),S=u.low=S+q,u.high=E+R+(S>>>0<q>>>0?1:0),A=f.low=A+H,f.high=_+F+(A>>>0<H>>>0?1:0),N=h.low=N+U,h.high=O+K+(N>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(u),t.HmacSHA512=n._createHmacHelper(u)}(),e.SHA512)),_n.exports;var e}var On,Nn={exports:{}};var Cn,Tn={exports:{}};function Bn(){return Cn?Tn.exports:(Cn=1,Tn.exports=(e=Yt(),Zt(),function(t){var n=e,r=n.lib,s=r.WordArray,o=r.Hasher,i=n.x64.Word,a=n.algo,c=[],l=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var s=1,o=0;o<24;o++){for(var a=0,f=0,h=0;h<7;h++){if(1&s){var d=(1<<h)-1;d<32?f^=1<<d:a^=1<<d-32}128&s?s=s<<1^113:s<<=1}u[o]=i.create(a,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=i.create()}();var h=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,s=0;s<r;s++){var o=e[t+2*s],i=e[t+2*s+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),(N=n[s]).high^=i,N.low^=o}for(var a=0;a<24;a++){for(var h=0;h<5;h++){for(var d=0,p=0,m=0;m<5;m++)d^=(N=n[h+5*m]).high,p^=N.low;var g=f[h];g.high=d,g.low=p}for(h=0;h<5;h++){var y=f[(h+4)%5],v=f[(h+1)%5],b=v.high,w=v.low;for(d=y.high^(b<<1|w>>>31),p=y.low^(w<<1|b>>>31),m=0;m<5;m++)(N=n[h+5*m]).high^=d,N.low^=p}for(var k=1;k<25;k++){var x=(N=n[k]).high,E=N.low,S=c[k];S<32?(d=x<<S|E>>>32-S,p=E<<S|x>>>32-S):(d=E<<S-32|x>>>64-S,p=x<<S-32|E>>>64-S);var _=f[l[k]];_.high=d,_.low=p}var A=f[0],O=n[0];for(A.high=O.high,A.low=O.low,h=0;h<5;h++)for(m=0;m<5;m++){var N=n[k=h+5*m],C=f[k],T=f[(h+1)%5+5*m],B=f[(h+2)%5+5*m];N.high=C.high^~T.high&B.high,N.low=C.low^~T.low&B.low}N=n[0];var I=u[a];N.high^=I.high,N.low^=I.low}},_doFinalize:function(){var e=this._data,n=e.words;this._nDataBytes;var r=8*e.sigBytes,o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var i=this._state,a=this.cfg.outputLength/8,c=a/8,l=[],u=0;u<c;u++){var f=i[u],h=f.high,d=f.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l.push(d),l.push(h)}return new s.init(l,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=o._createHelper(h),n.HmacSHA3=o._createHmacHelper(h)}(Math),e.SHA3));var e}var In,Ln={exports:{}};var jn,Mn={exports:{}};function Dn(){return jn||(jn=1,Mn.exports=(e=Yt(),n=(t=e).lib.Base,r=t.enc.Utf8,void(t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,s=4*n;t.sigBytes>s&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),a=o.words,c=i.words,l=0;l<n;l++)a[l]^=1549556828,c[l]^=909522486;o.sigBytes=i.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))),Mn.exports;var e,t,n,r}var Pn,$n={exports:{}};var Rn,qn={exports:{}};function Fn(){return Rn||(Rn=1,qn.exports=(a=Yt(),vn(),Dn(),t=(e=a).lib,n=t.Base,r=t.WordArray,s=e.algo,o=s.MD5,i=s.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,s=this.cfg,o=s.hasher.create(),i=r.create(),a=i.words,c=s.keySize,l=s.iterations;a.length<c;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var u=1;u<l;u++)n=o.finalize(n),o.reset();i.concat(n)}return i.sigBytes=4*c,i}}),e.EvpKDF=function(e,t,n){return i.create(n).compute(e,t)},a.EvpKDF)),qn.exports;var e,t,n,r,s,o,i,a}var Hn,Kn={exports:{}};function Un(){return Hn||(Hn=1,Kn.exports=(e=Yt(),Fn(),void(e.lib.Cipher||function(t){var n=e,r=n.lib,s=r.Base,o=r.WordArray,i=r.BufferedBlockAlgorithm,a=n.enc;a.Utf8;var c=a.Base64,l=n.algo.EvpKDF,u=r.Cipher=i.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:y}return function(t){return{encrypt:function(n,r,s){return e(r).encrypt(t,n,r,s)},decrypt:function(n,r,s){return e(r).decrypt(t,n,r,s)}}}}()});r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=n.mode={},h=r.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=f.CBC=function(){var e=h.extend();function n(e,n,r){var s,o=this._iv;o?(s=o,this._iv=t):s=this._prevBlock;for(var i=0;i<r;i++)e[n+i]^=s[i]}return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,s=r.blockSize;n.call(this,e,t,s),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+s)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,s=r.blockSize,o=e.slice(t,t+s);r.decryptBlock(e,t),n.call(this,e,t,s),this._prevBlock=o}}),e}(),p=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,s=r<<24|r<<16|r<<8|r,i=[],a=0;a<r;a+=4)i.push(s);var c=o.create(i,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:d,padding:p}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var m=r.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?o.create([1398893684,1701076831]).concat(n).concat(t):t).toString(c)},parse:function(e){var t,n=c.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=o.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},y=r.SerializableCipher=s.extend({cfg:s.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var s=e.createEncryptor(n,r),o=s.finalize(t),i=s.cfg;return m.create({ciphertext:o,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(n.kdf={}).OpenSSL={execute:function(e,t,n,r,s){if(r||(r=o.random(8)),s)i=l.create({keySize:t+n,hasher:s}).compute(e,r);else var i=l.create({keySize:t+n}).compute(e,r);var a=o.create(i.words.slice(t),4*n);return i.sigBytes=4*t,m.create({key:i,iv:a,salt:r})}},b=r.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:v}),encrypt:function(e,t,n,r){var s=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=s.iv;var o=y.encrypt.call(this,e,t,s.key,r);return o.mixIn(s),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var s=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=s.iv,y.decrypt.call(this,e,t,s.key,r)}})}()))),Kn.exports;var e}var Wn,zn={exports:{}};var Vn,Gn={exports:{}};var Jn,Yn={exports:{}};function Xn(){return Jn?Yn.exports:(Jn=1,Yn.exports=(e=Yt(),Un(),
/** @preserve
       * Counter block mode compatible with  Dr Brian Gladman fileenc.c
       * derived from CryptoJS.mode.CTR
       * Jan Hruby jhruby.web@gmail.com
       */
e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}function r(e){return 0===(e[0]=n(e[0]))&&(e[1]=n(e[1])),e}var s=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,s=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0),r(i);var a=i.slice(0);n.encryptBlock(a,0);for(var c=0;c<s;c++)e[t+c]^=a[c]}});return t.Decryptor=s,t}(),e.mode.CTRGladman));var e}var Qn,Zn={exports:{}};var er,tr={exports:{}};var nr,rr={exports:{}};var sr,or={exports:{}};var ir,ar={exports:{}};var cr,lr={exports:{}};var ur,fr={exports:{}};var hr,dr={exports:{}};var pr,mr={exports:{}};var gr,yr={exports:{}};function vr(){return gr?yr.exports:(gr=1,yr.exports=(e=Yt(),ln(),mn(),Fn(),Un(),function(){var t=e,n=t.lib,r=n.WordArray,s=n.BlockCipher,o=t.algo,i=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=s.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=i[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var s=this._subKeys=[],o=0;o<16;o++){var l=s[o]=[],u=c[o];for(n=0;n<24;n++)l[n/6|0]|=t[(a[n]-1+u)%28]<<31-n%6,l[4+(n/6|0)]|=t[28+(a[n+24]-1+u)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=s[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){for(var s=n[r],o=this._lBlock,i=this._rBlock,a=0,c=0;c<8;c++)a|=l[c][((i^s[c])&u[c])>>>0];this._lBlock=i,this._rBlock=o^a}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function d(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=s._createHelper(f);var p=o.TripleDES=s.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),s=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(r.create(t)),this._des2=f.createEncryptor(r.create(n)),this._des3=f.createEncryptor(r.create(s))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=s._createHelper(p)}(),e.TripleDES));var e}var br,wr={exports:{}};var kr,xr={exports:{}};var Er,Sr={exports:{}};var _r,Ar,Or,Nr,Cr,Tr,Br,Ir={exports:{}};function Lr(){return _r?Ir.exports:(_r=1,Ir.exports=(e=Yt(),ln(),mn(),Fn(),Un(),function(){var t=e,n=t.lib.BlockCipher,r=t.algo;const s=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],i=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var a={pbox:[],sbox:[]};function c(e,t){let n=t>>24&255,r=t>>16&255,s=t>>8&255,o=255&t,i=e.sbox[0][n]+e.sbox[1][r];return i^=e.sbox[2][s],i+=e.sbox[3][o],i}function l(e,t,n){let r,o=t,i=n;for(let a=0;a<s;++a)o^=e.pbox[a],i=c(e,o)^i,r=o,o=i,i=r;return r=o,o=i,i=r,i^=e.pbox[s],o^=e.pbox[s+1],{left:o,right:i}}function u(e,t,n){let r,o=t,i=n;for(let a=s+1;a>1;--a)o^=e.pbox[a],i=c(e,o)^i,r=o,o=i,i=r;return r=o,o=i,i=r,i^=e.pbox[1],o^=e.pbox[0],{left:o,right:i}}function f(e,t,n){for(let s=0;s<4;s++){e.sbox[s]=[];for(let t=0;t<256;t++)e.sbox[s][t]=i[s][t]}let r=0;for(let i=0;i<s+2;i++)e.pbox[i]=o[i]^t[r],r++,r>=n&&(r=0);let a=0,c=0,u=0;for(let o=0;o<s+2;o+=2)u=l(e,a,c),a=u.left,c=u.right,e.pbox[o]=a,e.pbox[o+1]=c;for(let s=0;s<4;s++)for(let t=0;t<256;t+=2)u=l(e,a,c),a=u.left,c=u.right,e.sbox[s][t]=a,e.sbox[s][t+1]=c;return!0}var h=r.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;f(a,t,n)}},encryptBlock:function(e,t){var n=l(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=u(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(h)}(),e.Blowfish));var e}var jr=zt.exports=function(e){return e}(Yt(),Zt(),nn(),on(),ln(),hn(),mn(),vn(),kn(),xn||(xn=1,En.exports=(Br=Yt(),kn(),Or=(Ar=Br).lib.WordArray,Nr=Ar.algo,Cr=Nr.SHA256,Tr=Nr.SHA224=Cr.extend({_doReset:function(){this._hash=new Or.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=Cr._doFinalize.call(this);return e.sigBytes-=4,e}}),Ar.SHA224=Cr._createHelper(Tr),Ar.HmacSHA224=Cr._createHmacHelper(Tr),Br.SHA224)),An(),function(){return On?Nn.exports:(On=1,Nn.exports=(a=Yt(),Zt(),An(),t=(e=a).x64,n=t.Word,r=t.WordArray,s=e.algo,o=s.SHA512,i=s.SHA384=o.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}}),e.SHA384=o._createHelper(i),e.HmacSHA384=o._createHmacHelper(i),a.SHA384));var e,t,n,r,s,o,i,a}(),Bn(),function(){return In?Ln.exports:(In=1,Ln.exports=(e=Yt(),
/** @preserve
      			(c) 2012 by Cédric Mesnil. All rights reserved.
      
      			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
      
      			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
      			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
      
      			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
      			*/
function(t){var n=e,r=n.lib,s=r.WordArray,o=r.Hasher,i=n.algo,a=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=s.create([0,1518500249,1859775393,2400959708,2840853838]),h=s.create([1352829926,1548603684,1836072691,2053994217,0]),d=i.RIPEMD160=o.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,s=e[r];e[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var o,i,d,w,k,x,E,S,_,A,O,N=this._hash.words,C=f.words,T=h.words,B=a.words,I=c.words,L=l.words,j=u.words;for(x=o=N[0],E=i=N[1],S=d=N[2],_=w=N[3],A=k=N[4],n=0;n<80;n+=1)O=o+e[t+B[n]]|0,O+=n<16?p(i,d,w)+C[0]:n<32?m(i,d,w)+C[1]:n<48?g(i,d,w)+C[2]:n<64?y(i,d,w)+C[3]:v(i,d,w)+C[4],O=(O=b(O|=0,L[n]))+k|0,o=k,k=w,w=b(d,10),d=i,i=O,O=x+e[t+I[n]]|0,O+=n<16?v(E,S,_)+T[0]:n<32?y(E,S,_)+T[1]:n<48?g(E,S,_)+T[2]:n<64?m(E,S,_)+T[3]:p(E,S,_)+T[4],O=(O=b(O|=0,j[n]))+A|0,x=A,A=_,_=b(S,10),S=E,E=O;O=N[1]+d+_|0,N[1]=N[2]+w+A|0,N[2]=N[3]+k+x|0,N[3]=N[4]+o+E|0,N[4]=N[0]+i+S|0,N[0]=O},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var s=this._hash,o=s.words,i=0;i<5;i++){var a=o[i];o[i]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function y(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}n.RIPEMD160=o._createHelper(d),n.HmacRIPEMD160=o._createHmacHelper(d)}(),e.RIPEMD160));var e}(),Dn(),function(){return Pn?$n.exports:(Pn=1,$n.exports=(c=Yt(),kn(),Dn(),t=(e=c).lib,n=t.Base,r=t.WordArray,s=e.algo,o=s.SHA256,i=s.HMAC,a=s.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,s=i.create(n.hasher,e),o=r.create(),a=r.create([1]),c=o.words,l=a.words,u=n.keySize,f=n.iterations;c.length<u;){var h=s.update(t).finalize(a);s.reset();for(var d=h.words,p=d.length,m=h,g=1;g<f;g++){m=s.finalize(m),s.reset();for(var y=m.words,v=0;v<p;v++)d[v]^=y[v]}o.concat(h),l[0]++}return o.sigBytes=4*u,o}}),e.PBKDF2=function(e,t,n){return a.create(n).compute(e,t)},c.PBKDF2));var e,t,n,r,s,o,i,a,c}(),Fn(),Un(),function(){return Wn?zn.exports:(Wn=1,zn.exports=(e=Yt(),Un(),e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,r){var s,o=this._iv;o?(s=o.slice(0),this._iv=void 0):s=this._prevBlock,r.encryptBlock(s,0);for(var i=0;i<n;i++)e[t+i]^=s[i]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,s=r.blockSize;n.call(this,e,t,s,r),this._prevBlock=e.slice(t,t+s)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,s=r.blockSize,o=e.slice(t,t+s);n.call(this,e,t,s,r),this._prevBlock=o}}),t}(),e.mode.CFB));var e}(),function(){return Vn?Gn.exports:(Vn=1,Gn.exports=(n=Yt(),Un(),n.mode.CTR=(e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,s=this._iv,o=this._counter;s&&(o=this._counter=s.slice(0),this._iv=void 0);var i=o.slice(0);n.encryptBlock(i,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=i[a]}}),e.Decryptor=t,e),n.mode.CTR));var e,t,n}(),Xn(),function(){return Qn?Zn.exports:(Qn=1,Zn.exports=(n=Yt(),Un(),n.mode.OFB=(e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,s=this._iv,o=this._keystream;s&&(o=this._keystream=s.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var i=0;i<r;i++)e[t+i]^=o[i]}}),e.Decryptor=t,e),n.mode.OFB));var e,t,n}(),function(){return er?tr.exports:(er=1,tr.exports=(t=Yt(),Un(),t.mode.ECB=((e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e),t.mode.ECB));var e,t}(),function(){return nr?rr.exports:(nr=1,rr.exports=(e=Yt(),Un(),e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,s=r-n%r,o=n+s-1;e.clamp(),e.words[o>>>2]|=s<<24-o%4*8,e.sigBytes+=s},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923));var e}(),function(){return sr?or.exports:(sr=1,or.exports=(e=Yt(),Un(),e.pad.Iso10126={pad:function(t,n){var r=4*n,s=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126));var e}(),function(){return ir?ar.exports:(ir=1,ar.exports=(e=Yt(),Un(),e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971));var e}(),function(){return cr?lr.exports:(cr=1,lr.exports=(e=Yt(),Un(),e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding));var e}(),function(){return ur?fr.exports:(ur=1,fr.exports=(e=Yt(),Un(),e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding));var e}(),function(){return hr?dr.exports:(hr=1,dr.exports=(r=Yt(),Un(),t=(e=r).lib.CipherParams,n=e.enc.Hex,e.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var r=n.parse(e);return t.create({ciphertext:r})}},r.format.Hex));var e,t,n,r}(),function(){return pr?mr.exports:(pr=1,mr.exports=(e=Yt(),ln(),mn(),Fn(),Un(),function(){var t=e,n=t.lib.BlockCipher,r=t.algo,s=[],o=[],i=[],a=[],c=[],l=[],u=[],f=[],h=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,s[n]=p,o[p]=n;var m=e[n],g=e[m],y=e[g],v=257*e[p]^16843008*p;i[n]=v<<24|v>>>8,a[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,l[n]=v,v=16843009*y^65537*g^257*m^16843008*n,u[p]=v<<24|v>>>8,f[p]=v<<16|v>>>16,h[p]=v<<8|v>>>24,d[p]=v,n?(n=m^e[e[e[y^m]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],i=0;i<r;i++)i<n?o[i]=t[i]:(l=o[i-1],i%n?n>6&&i%n==4&&(l=s[l>>>24]<<24|s[l>>>16&255]<<16|s[l>>>8&255]<<8|s[255&l]):(l=s[(l=l<<8|l>>>24)>>>24]<<24|s[l>>>16&255]<<16|s[l>>>8&255]<<8|s[255&l],l^=p[i/n|0]<<24),o[i]=o[i-n]^l);for(var a=this._invKeySchedule=[],c=0;c<r;c++){if(i=r-c,c%4)var l=o[i];else l=o[i-4];a[c]=c<4||i<=4?l:u[s[l>>>24]]^f[s[l>>>16&255]]^h[s[l>>>8&255]]^d[s[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,a,c,l,s)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,f,h,d,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,s,o,i,a){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],f=e[t+2]^n[2],h=e[t+3]^n[3],d=4,p=1;p<c;p++){var m=r[l>>>24]^s[u>>>16&255]^o[f>>>8&255]^i[255&h]^n[d++],g=r[u>>>24]^s[f>>>16&255]^o[h>>>8&255]^i[255&l]^n[d++],y=r[f>>>24]^s[h>>>16&255]^o[l>>>8&255]^i[255&u]^n[d++],v=r[h>>>24]^s[l>>>16&255]^o[u>>>8&255]^i[255&f]^n[d++];l=m,u=g,f=y,h=v}m=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[f>>>8&255]<<8|a[255&h])^n[d++],g=(a[u>>>24]<<24|a[f>>>16&255]<<16|a[h>>>8&255]<<8|a[255&l])^n[d++],y=(a[f>>>24]<<24|a[h>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^n[d++],v=(a[h>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&f])^n[d++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8});t.AES=n._createHelper(m)}(),e.AES));var e}(),vr(),function(){return br?wr.exports:(br=1,wr.exports=(e=Yt(),ln(),mn(),Fn(),Un(),function(){var t=e,n=t.lib.StreamCipher,r=t.algo,s=r.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],s=0;s<256;s++)r[s]=s;s=0;for(var o=0;s<256;s++){var i=s%n,a=t[i>>>2]>>>24-i%4*8&255;o=(o+r[s]+a)%256;var c=r[s];r[s]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,s=0;s<4;s++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*s}return this._i=t,this._j=n,r}t.RC4=n._createHelper(s);var i=r.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=n._createHelper(i)}(),e.RC4));var e}(),function(){return kr?xr.exports:(kr=1,xr.exports=(e=Yt(),ln(),mn(),Fn(),Un(),function(){var t=e,n=t.lib.StreamCipher,r=t.algo,s=[],o=[],i=[],a=r.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],s=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)s[n]^=r[n+4&7];if(t){var o=t.words,i=o[0],a=o[1],l=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=l>>>16|4294901760&u,h=u<<16|65535&l;for(s[0]^=l,s[1]^=f,s[2]^=u,s[3]^=h,s[4]^=l,s[5]^=f,s[6]^=u,s[7]^=h,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),s[0]=n[0]^n[5]>>>16^n[3]<<16,s[1]=n[2]^n[7]>>>16^n[5]<<16,s[2]=n[4]^n[1]>>>16^n[7]<<16,s[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)s[r]=16711935&(s[r]<<8|s[r]>>>24)|4278255360&(s[r]<<24|s[r]>>>8),e[t+r]^=s[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],s=65535&r,a=r>>>16,c=((s*s>>>17)+s*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);i[n]=c^l}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.Rabbit=n._createHelper(a)}(),e.Rabbit));var e}(),function(){return Er?Sr.exports:(Er=1,Sr.exports=(e=Yt(),ln(),mn(),Fn(),Un(),function(){var t=e,n=t.lib.StreamCipher,r=t.algo,s=[],o=[],i=[],a=r.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var s=0;s<4;s++)c.call(this);for(s=0;s<8;s++)r[s]^=n[s+4&7];if(t){var o=t.words,i=o[0],a=o[1],l=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=l>>>16|4294901760&u,h=u<<16|65535&l;for(r[0]^=l,r[1]^=f,r[2]^=u,r[3]^=h,r[4]^=l,r[5]^=f,r[6]^=u,r[7]^=h,s=0;s<4;s++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),s[0]=n[0]^n[5]>>>16^n[3]<<16,s[1]=n[2]^n[7]>>>16^n[5]<<16,s[2]=n[4]^n[1]>>>16^n[7]<<16,s[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)s[r]=16711935&(s[r]<<8|s[r]>>>24)|4278255360&(s[r]<<24|s[r]>>>8),e[t+r]^=s[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],s=65535&r,a=r>>>16,c=((s*s>>>17)+s*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);i[n]=c^l}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.RabbitLegacy=n._createHelper(a)}(),e.RabbitLegacy));var e}(),Lr());const Mr=()=>Wt.generate(),Dr=()=>{const e="accountShortId";let t=localStorage.getItem(e);return t||(t=Mr(),localStorage.setItem(e,t)),t};function Pr(){const e=window.location.pathname;if(e.startsWith("/share/pw/")){return e.substring(10)}if(e.startsWith("/share/")){return e.substring(7)}return null}const $r=(e,t)=>{e&&(e.innerHTML=t)},Rr=(e,t)=>{const n=document.querySelector(e);n&&(n.textContent=t)},qr=e=>jr.SHA256(e).toString();const Fr=e=>{let t=e.target;if(t instanceof HTMLElement&&("A"!==t?.tagName||"#"===t.href||t.href.startsWith("javascript:"))){for(;t&&"li"!==t.tagName.toLowerCase();)t=t.parentNode;if(t&&(t.classList.contains("folded")||t.classList.contains("unfolded")))if(t.classList.contains("folded")){t.classList.replace("folded","unfolded");const e=t.querySelector("ul");e&&(e.style.display="")}else{t.classList.replace("unfolded","folded");const e=t.querySelector("ul");e&&(e.style.display="none")}}},Hr=new Worker("../ftml.web.worker.js",{type:"module"});Hr.onmessage=e=>{const{html:t,styles:n,type:r}=e.data;console.log("Received message from worker:",e.data);const s=document.getElementById({page:"page-content",side:"side-bar",top:"top-bar"}[r])||document.getElementById("page-content"),o=t.replace(/<wj-body class="wj-body">/g,"").replace(/<\/wj-body>/g,""),i=document.getElementById("page-styles");n.length>0&&i&&$r(i,n.map((e=>`<style>\n${e.replace(/</g,"&lt;")}\n</style>`)).join("\n\n")),$r(s,o),document.querySelectorAll(".foldable-list-container").forEach((e=>{e.addEventListener("click",Fr)}))};const Kr="https://script.google.com/macros/s/AKfycbxtEu4pZuQowfI0940Z4yTq77TLCZiL36wYZvq37Rv-knLteWMz9r95y5BN9abUrcmIbQ/exec";async function Ur(e){const t=`${Kr}?${new URLSearchParams(e).toString()}`;try{const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch data from GAS. Status: ${e.status}`);return await e.json()}catch(n){return console.error("Error fetching data from GAS:",n),{error:"Failed to fetch data from GAS"}}}async function Wr(e){return Ur({shortid:e})}async function zr(e,t){return Ur({shortid:e,revisionid:t,revision:!0})}async function Vr(e,t){const n=await zr(e,t);if(console.debug(n.data),n.data.source&&Hr.postMessage({value:n.data.source,type:"page"}),n.data.title){const e=document.querySelector("#page-title");e&&(e.innerHTML=n.data.title)}!function(e){const t=document.getElementById("main-content"),n=document.createElement("div");n.id="page-version-info",n.style.top="0px";const r=document.createElement("table"),s=document.createElement("tbody"),o=[["Revision no.:",e.revisionNum],["Date created:",e.createdAt?Gr(e.createdAt):"N/A"],["By:",e.createdBy||"N/A"],["Page name:",e.title||"N/A"]];o.forEach((e=>{const t=document.createElement("tr");e.forEach((e=>{const n=document.createElement("td");n.textContent=e,t.appendChild(n)})),s.appendChild(t)})),r.appendChild(s),n.appendChild(r);const i=document.createElement("a");i.href="javascript:void(0)",i.textContent="Close this box",i.addEventListener("click",(()=>{t?.removeChild(n)})),n.appendChild(i),t?.appendChild(n)}(n.data)}function Gr(e){return e?new Date(e).toISOString().slice(0,19).replace("T"," ").replace(/-/g,"/"):"N/A"}class Jr{constructor(e,t){this.pageId=e,this.source=t}getPageId(){return this.pageId}getSource(){return this.source}}class Yr{constructor(e){t(this,"conf",{base:"/path/to/scripts/"}),t(this,"regex",/^\[\[include ([a-zA-Z0-9\s\-:]+?)(\s+.*?)?(?:\]\])$/ims),t(this,"includedPages",[]),this.wiki=e,this.updateIncludedPages()}async parse(){this.updateIncludedPages(),await this.checkForNewIncludes(),this.saveIncludedPagesToLocalStorage();let e,t=0;do{e=this.wiki.source;const n=this.regex.exec(this.wiki.source);if(n){const e=await this.process(n.slice(1));this.wiki.source=this.wiki.source.replace(this.regex,e)}this.updateIncludedPages(),await this.checkForNewIncludes(),this.saveIncludedPagesToLocalStorage(),t++}while(e!==this.wiki.source&&t<=10);this.saveIncludedPagesToLocalStorage()}async process(e){const[t,n]=e,r=this.toUnixName(t.trim()),s=this.getCachedPages()[t],o=s?new Jr(s.pageId,s.source):await this.getPageFromDb(r);if(!o){const e=`\n\n[[div class="error-block"]]\nPage to be included ${r} cannot be found!\n[[/div]]\n\n`;return this.wiki.vars.inclusionsNotExist={...this.wiki.vars.inclusionsNotExist,[r]:r},e}let i=o.getSource();if(n&&i){const e=n.split("|");for(const t of e){const[e,n]=t.split("=").map((e=>e.trim()));n&&e&&/^[a-z0-9\-_]+$/i.test(e)&&(i=i.replace(new RegExp(`{\\$${e}}`,"g"),n))}}return this.wiki.vars.inclusions={...this.wiki.vars.inclusions,[o.getPageId()]:o.getPageId()},`${i}`}toUnixName(e){return e.replace(/\s+/g,"_")}async getPageFromDb(e){try{const t=await Wr(e);return new Jr(t.data.shortId,t.data.source)}catch(t){return console.error("Failed to get page from DB:",t),null}}updateIncludedPages(){const e=/\[\[include ([a-zA-Z0-9\s\-:]+?)(\s+.*?)?\]\]/gims;let t;for(;null!==(t=e.exec(this.wiki.source));){const e=t[1].trim();this.includedPages.includes(e)||this.includedPages.push(e)}}saveIncludedPagesToLocalStorage(){localStorage.setItem("includedPages",JSON.stringify(this.includedPages))}static loadIncludedPagesFromLocalStorage(){const e=localStorage.getItem("includedPages");if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}return[]}async onEdit(e){const t=e.target.value;this.wiki.source=t,await this.parse()}async checkForNewIncludes(){const e=this.getCachedPages(),t=this.includedPages.filter((t=>!e[t]));t.length>0&&await this.fetchPagesFromGAS(t)}async fetchPagesFromGAS(e){for(const n of e)try{const e=await Wr(n);this.cachePage(n,e)}catch(t){console.error("Failed to fetch page:",n,t)}}cachePage(e,t){const n=this.getCachedPages();n[e]={pageId:t.data.shortId,source:t.data.source},localStorage.setItem("cachedPages",JSON.stringify(n))}getCachedPages(){const e=localStorage.getItem("cachedPages");return e?JSON.parse(e):{}}}const Xr=document.getElementById("edit-page-textarea"),Qr=document.getElementById("edit-page-title"),Zr=document.getElementById("edit-side-textarea"),es=document.getElementById("actionarea-save"),ts=document.getElementById("actionarea-share"),ns=document.getElementById("actionarea-history"),rs=document.getElementById("lang-select"),ss=Symbol.for("yaml.alias"),os=Symbol.for("yaml.document"),is=Symbol.for("yaml.map"),as=Symbol.for("yaml.pair"),cs=Symbol.for("yaml.scalar"),ls=Symbol.for("yaml.seq"),us=Symbol.for("yaml.node.type"),fs=e=>!!e&&"object"==typeof e&&e[us]===ss,hs=e=>!!e&&"object"==typeof e&&e[us]===os,ds=e=>!!e&&"object"==typeof e&&e[us]===is,ps=e=>!!e&&"object"==typeof e&&e[us]===as,ms=e=>!!e&&"object"==typeof e&&e[us]===cs,gs=e=>!!e&&"object"==typeof e&&e[us]===ls;function ys(e){if(e&&"object"==typeof e)switch(e[us]){case is:case ls:return!0}return!1}function vs(e){if(e&&"object"==typeof e)switch(e[us]){case ss:case is:case cs:case ls:return!0}return!1}const bs=e=>(ms(e)||ys(e))&&!!e.anchor,ws=Symbol("break visit"),ks=Symbol("skip children"),xs=Symbol("remove node");function Es(e,t){const n=Os(t);if(hs(e)){Ss(null,e.contents,n,Object.freeze([e]))===xs&&(e.contents=null)}else Ss(null,e,n,Object.freeze([]))}function Ss(e,t,n,r){const s=Ns(e,t,n,r);if(vs(s)||ps(s))return Cs(e,r,s),Ss(e,s,n,r);if("symbol"!=typeof s)if(ys(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const s=Ss(e,t.items[e],n,r);if("number"==typeof s)e=s-1;else{if(s===ws)return ws;s===xs&&(t.items.splice(e,1),e-=1)}}}else if(ps(t)){r=Object.freeze(r.concat(t));const e=Ss("key",t.key,n,r);if(e===ws)return ws;e===xs&&(t.key=null);const s=Ss("value",t.value,n,r);if(s===ws)return ws;s===xs&&(t.value=null)}return s}async function _s(e,t){const n=Os(t);if(hs(e)){await As(null,e.contents,n,Object.freeze([e]))===xs&&(e.contents=null)}else await As(null,e,n,Object.freeze([]))}async function As(e,t,n,r){const s=await Ns(e,t,n,r);if(vs(s)||ps(s))return Cs(e,r,s),As(e,s,n,r);if("symbol"!=typeof s)if(ys(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const s=await As(e,t.items[e],n,r);if("number"==typeof s)e=s-1;else{if(s===ws)return ws;s===xs&&(t.items.splice(e,1),e-=1)}}}else if(ps(t)){r=Object.freeze(r.concat(t));const e=await As("key",t.key,n,r);if(e===ws)return ws;e===xs&&(t.key=null);const s=await As("value",t.value,n,r);if(s===ws)return ws;s===xs&&(t.value=null)}return s}function Os(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function Ns(e,t,n,r){return"function"==typeof n?n(e,t,r):ds(t)?n.Map?.(e,t,r):gs(t)?n.Seq?.(e,t,r):ps(t)?n.Pair?.(e,t,r):ms(t)?n.Scalar?.(e,t,r):fs(t)?n.Alias?.(e,t,r):void 0}function Cs(e,t,n){const r=t[t.length-1];if(ys(r))r.items[e]=n;else if(ps(r))"key"===e?r.key=n:r.value=n;else{if(!hs(r)){const e=fs(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}r.contents=n}}Es.BREAK=ws,Es.SKIP=ks,Es.REMOVE=xs,_s.BREAK=ws,_s.SKIP=ks,_s.REMOVE=xs;const Ts={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class Bs{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Bs.defaultYaml,e),this.tags=Object.assign({},Bs.defaultTags,t)}clone(){const e=new Bs(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Bs(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Bs.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Bs.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Bs.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Bs.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),r=n.shift();switch(r){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,r]=n;return this.tags[e]=r,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;return t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,r]=e.match(/^(.*!)([^!]*)$/s);r||t(`The ${e} tag has no suffix`);const s=this.tags[n];if(s)try{return s+decodeURIComponent(r)}catch(o){return t(String(o)),null}return"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>Ts[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let r;if(e&&n.length>0&&vs(e.contents)){const t={};Es(e.contents,((e,n)=>{vs(n)&&n.tag&&(t[n.tag]=!0)})),r=Object.keys(t)}else r=[];for(const[s,o]of n)"!!"===s&&"tag:yaml.org,2002:"===o||e&&!r.some((e=>e.startsWith(o)))||t.push(`%TAG ${s} ${o}`);return t.join("\n")}}function Is(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function Ls(e){const t=new Set;return Es(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function js(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Ms(e,t,n,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let s=0,o=r.length;s<o;++s){const t=r[s],n=Ms(e,r,String(s),t);void 0===n?delete r[s]:n!==t&&(r[s]=n)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const t=r.get(s),n=Ms(e,r,s,t);void 0===n?r.delete(s):n!==t&&r.set(s,n)}else if(r instanceof Set)for(const s of Array.from(r)){const t=Ms(e,r,s,s);void 0===t?r.delete(s):t!==s&&(r.delete(s),r.add(t))}else for(const[s,o]of Object.entries(r)){const t=Ms(e,r,s,o);void 0===t?delete r[s]:t!==o&&(r[s]=t)}return e.call(t,n,r)}function Ds(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>Ds(e,String(t),n)));if(e&&"function"==typeof e.toJSON){if(!n||!bs(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=e=>{r.res=e,delete n.onCreate};const s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return"bigint"!=typeof e||n?.keep?e:Number(e)}Bs.defaultYaml={explicit:!1,version:"1.2"},Bs.defaultTags={"!!":"tag:yaml.org,2002:"};class Ps{constructor(e){Object.defineProperty(this,us,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:r,reviver:s}={}){if(!hs(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},i=Ds(this,"",o);if("function"==typeof r)for(const{count:a,res:c}of o.anchors.values())r(c,a);return"function"==typeof s?Ms(s,{"":i},"",i):i}}class $s extends Ps{constructor(e){super(ss),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Es(e,{Node:(e,n)=>{if(n===this)return Es.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:r,maxAliasCount:s}=t,o=this.resolve(r);if(!o){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}let i=n.get(o);if(i||(Ds(o,null,t),i=n.get(o)),!i||void 0===i.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(s>=0&&(i.count+=1,0===i.aliasCount&&(i.aliasCount=Rs(r,o,n)),i.count*i.aliasCount>s)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return i.res}toString(e,t,n){const r=`*${this.source}`;if(e){if(Is(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${r} `}return r}}function Rs(e,t,n){if(fs(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}if(ys(t)){let r=0;for(const s of t.items){const t=Rs(e,s,n);t>r&&(r=t)}return r}if(ps(t)){const r=Rs(e,t.key,n),s=Rs(e,t.value,n);return Math.max(r,s)}return 1}const qs=e=>!e||"function"!=typeof e&&"object"!=typeof e;class Fs extends Ps{constructor(e){super(cs),this.value=e}toJSON(e,t){return t?.keep?this.value:Ds(this.value,e,t)}toString(){return String(this.value)}}Fs.BLOCK_FOLDED="BLOCK_FOLDED",Fs.BLOCK_LITERAL="BLOCK_LITERAL",Fs.PLAIN="PLAIN",Fs.QUOTE_DOUBLE="QUOTE_DOUBLE",Fs.QUOTE_SINGLE="QUOTE_SINGLE";const Hs="tag:yaml.org,2002:";function Ks(e,t,n){if(hs(e)&&(e=e.contents),vs(e))return e;if(ps(e)){const t=n.schema[is].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:o,schema:i,sourceObjects:a}=n;let c;if(r&&e&&"object"==typeof e){if(c=a.get(e),c)return c.anchor||(c.anchor=s(e)),new $s(c.anchor);c={anchor:null,node:null},a.set(e,c)}t?.startsWith("!!")&&(t=Hs+t.slice(2));let l=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),r=e.find((e=>!e.format))??e[0];if(!r)throw new Error(`Tag ${t} not found`);return r}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,i.tags);if(!l){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new Fs(e);return c&&(c.node=t),t}l=e instanceof Map?i[is]:Symbol.iterator in Object(e)?i[ls]:i[is]}o&&(o(l),delete n.onTagObj);const u=l?.createNode?l.createNode(n.schema,e,n):"function"==typeof l?.nodeClass?.from?l.nodeClass.from(n.schema,e,n):new Fs(e);return t?u.tag=t:l.default||(u.tag=l.tag),c&&(c.node=u),u}function Us(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){const e=t[s];if("number"==typeof e&&Number.isInteger(e)&&e>=0){const t=[];t[e]=r,r=t}else r=new Map([[e,r]])}return Ks(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Ws=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class zs extends Ps{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>vs(t)||ps(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Ws(e))this.add(t);else{const[n,...r]=e,s=this.get(n,!0);if(ys(s))s.addIn(r,t);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,Us(this.schema,r,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const r=this.get(t,!0);if(ys(r))return r.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...r]=e,s=this.get(n,!0);return 0===r.length?!t&&ms(s)?s.value:s:ys(s)?s.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!ps(t))return!1;const n=t.value;return null==n||e&&ms(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const r=this.get(t,!0);return!!ys(r)&&r.hasIn(n)}setIn(e,t){const[n,...r]=e;if(0===r.length)this.set(n,t);else{const e=this.get(n,!0);if(ys(e))e.setIn(r,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,Us(this.schema,r,t))}}}}zs.maxFlowStringSingleLineLength=60;const Vs=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Gs(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Js=(e,t,n)=>e.endsWith("\n")?Gs(n,t):n.includes("\n")?"\n"+Gs(n,t):(e.endsWith(" ")?"":" ")+n,Ys="flow",Xs="block",Qs="quoted";function Zs(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:o=20,onFold:i,onOverflow:a}={}){if(!s||s<0)return e;const c=Math.max(1+o,1+s-t.length);if(e.length<=c)return e;const l=[],u={};let f,h,d=s-t.length;"number"==typeof r&&(r>s-Math.max(2,o)?l.push(0):d=s-r);let p=!1,m=-1,g=-1,y=-1;n===Xs&&(m=eo(e,m,t.length),-1!==m&&(d=m+c));for(let b;b=e[m+=1];){if(n===Qs&&"\\"===b){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}y=m}if("\n"===b)n===Xs&&(m=eo(e,m,t.length)),d=m+t.length+c,f=void 0;else{if(" "===b&&h&&" "!==h&&"\n"!==h&&"\t"!==h){const t=e[m+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=m)}if(m>=d)if(f)l.push(f),d=f+c,f=void 0;else if(n===Qs){for(;" "===h||"\t"===h;)h=b,b=e[m+=1],p=!0;const t=m>y+1?m-2:g-1;if(u[t])return e;l.push(t),u[t]=!0,d=t+c,f=void 0}else p=!0}h=b}if(p&&a&&a(),0===l.length)return e;i&&i();let v=e.slice(0,l[0]);for(let b=0;b<l.length;++b){const r=l[b],s=l[b+1]||e.length;0===r?v=`\n${t}${e.slice(0,s)}`:(n===Qs&&u[r]&&(v+=`${e[r]}\\`),v+=`\n${t}${e.slice(r+1,s)}`)}return v}function eo(e,t,n){let r=t,s=t+1,o=e[s];for(;" "===o||"\t"===o;)if(t<s+n)o=e[++t];else{do{o=e[++t]}while(o&&"\n"!==o);r=t,s=t+1,o=e[s]}return r}const to=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),no=e=>/^(%|---|\.\.\.)/m.test(e);function ro(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(no(e)?"  ":"");let i="",a=0;for(let c=0,l=n[c];l;l=n[++c])if(" "===l&&"\\"===n[c+1]&&"n"===n[c+2]&&(i+=n.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),"\\"===l)switch(n[c+1]){case"u":{i+=n.slice(a,c);const e=n.substr(c+2,4);switch(e){case"0000":i+="\\0";break;case"0007":i+="\\a";break;case"000b":i+="\\v";break;case"001b":i+="\\e";break;case"0085":i+="\\N";break;case"00a0":i+="\\_";break;case"2028":i+="\\L";break;case"2029":i+="\\P";break;default:"00"===e.substr(0,2)?i+="\\x"+e.substr(2):i+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(r||'"'===n[c+2]||n.length<s)c+=1;else{for(i+=n.slice(a,c)+"\n\n";"\\"===n[c+2]&&"n"===n[c+3]&&'"'!==n[c+4];)i+="\n",c+=2;i+=o," "===n[c+2]&&(i+="\\"),c+=1,a=c+1}break;default:c+=1}return i=a?i+n.slice(a):n,r?i:Zs(i,o,Qs,to(t,!1))}function so(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return ro(e,t);const n=t.indent||(no(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?r:Zs(r,n,Ys,to(t,!1))}function oo(e,t){const{singleQuote:n}=t.options;let r;if(!1===n)r=ro;else{const t=e.includes('"'),s=e.includes("'");r=t&&!s?so:s&&!t?ro:n?so:ro}return r(e,t)}let io;try{io=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{io=/\n+(?!\n|$)/g}function ao({comment:e,type:t,value:n},r,s,o){const{blockQuote:i,commentString:a,lineWidth:c}=r.options;if(!i||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return oo(n,r);const l=r.indent||(r.forceBlockIndent||no(n)?"  ":""),u="literal"===i||"folded"!==i&&t!==Fs.BLOCK_FOLDED&&(t===Fs.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let o=0,i=0;o<s;++o)if("\n"===e[o]){if(o-i>r)return!0;if(i=o+1,s-i<=r)return!1}return!0}(n,c,l.length));if(!n)return u?"|\n":">\n";let f,h;for(h=n.length;h>0;--h){const e=n[h-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let d=n.substring(h);const p=d.indexOf("\n");-1===p?f="-":n===d||p!==d.length-1?(f="+",o&&o()):f="",d&&(n=n.slice(0,-d.length),"\n"===d[d.length-1]&&(d=d.slice(0,-1)),d=d.replace(io,`$&${l}`));let m,g=!1,y=-1;for(m=0;m<n.length;++m){const e=n[m];if(" "===e)g=!0;else{if("\n"!==e)break;y=m}}let v=n.substring(0,y<m?y+1:m);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${l}`));let b=(u?"|":">")+(g?l?"2":"1":"")+f;if(e&&(b+=" "+a(e.replace(/ ?[\r\n]+/g," ")),s&&s()),u)return`${b}\n${l}${v}${n=n.replace(/\n+/g,`$&${l}`)}${d}`;return`${b}\n${l}${Zs(`${v}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`)}${d}`,l,Xs,to(r,!0))}`}function co(e,t,n,r){const{implicitKey:s,inFlow:o}=t,i="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Fs.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(i.value)&&(a=Fs.QUOTE_DOUBLE);const c=e=>{switch(e){case Fs.BLOCK_FOLDED:case Fs.BLOCK_LITERAL:return s||o?oo(i.value,t):ao(i,t,n,r);case Fs.QUOTE_DOUBLE:return ro(i.value,t);case Fs.QUOTE_SINGLE:return so(i.value,t);case Fs.PLAIN:return function(e,t,n,r){const{type:s,value:o}=e,{actualString:i,implicitKey:a,indent:c,indentStep:l,inFlow:u}=t;if(a&&o.includes("\n")||u&&/[[\]{},]/.test(o))return oo(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||u||!o.includes("\n")?oo(o,t):ao(e,t,n,r);if(!a&&!u&&s!==Fs.PLAIN&&o.includes("\n"))return ao(e,t,n,r);if(no(o)){if(""===c)return t.forceBlockIndent=!0,ao(e,t,n,r);if(a&&c===l)return oo(o,t)}const f=o.replace(/\n+/g,`$&\n${c}`);if(i){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(f),{compat:n,tags:r}=t.doc.schema;if(r.some(e)||n?.some(e))return oo(o,t)}return a?f:Zs(f,c,Ys,to(t,!1))}(i,t,n,r);default:return null}};let l=c(a);if(null===l){const{defaultKeyType:e,defaultStringType:n}=t.options,r=s&&e||n;if(l=c(r),null===l)throw new Error(`Unsupported default string type ${r}`)}return l}function lo(e,t){const n=Object.assign({blockQuote:!0,commentString:Vs,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function uo(e,t,n,r){if(ps(e))return e.toString(t,n,r);if(fs(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const o=vs(e)?e:t.doc.createNode(e,{onTagObj:e=>s=e});s||(s=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,r;if(ms(t)){r=t.value;const s=e.filter((e=>e.identify?.(r)));n=s.find((e=>e.format===t.format))??s.find((e=>!e.format))}else r=t,n=e.find((e=>e.nodeClass&&r instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${r?.constructor?.name??typeof r} value`);return n}(t.doc.schema.tags,o));const i=function(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],o=(ms(e)||ys(e))&&e.anchor;o&&Is(o)&&(n.add(o),s.push(`&${o}`));const i=e.tag?e.tag:t.default?null:t.tag;return i&&s.push(r.directives.tagString(i)),s.join(" ")}(o,s,t);i.length>0&&(t.indentAtStart=(t.indentAtStart??0)+i.length+1);const a="function"==typeof s.stringify?s.stringify(o,t,n,r):ms(o)?co(o,t,n,r):o.toString(t,n,r);return i?ms(o)||"{"===a[0]||"["===a[0]?`${i} ${a}`:`${i}\n${t.indent}${a}`:a}function fo(e,t){"debug"!==e&&"warn"!==e||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(t):console.warn(t))}function ho(e,t,{key:n,value:r}){if(e?.doc.schema.merge&&po(n))if(r=fs(r)?r.resolve(e.doc):r,gs(r))for(const s of r.items)mo(e,t,s);else if(Array.isArray(r))for(const s of r)mo(e,t,s);else mo(e,t,r);else{const s=Ds(n,"",e);if(t instanceof Map)t.set(s,Ds(r,s,e));else if(t instanceof Set)t.add(s);else{const o=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(vs(e)&&n?.doc){const t=lo(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const r=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(r);e.length>40&&(e=e.substring(0,36)+'..."'),fo(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(t)}(n,s,e),i=Ds(r,o,e);o in t?Object.defineProperty(t,o,{value:i,writable:!0,enumerable:!0,configurable:!0}):t[o]=i}}return t}const po=e=>"<<"===e||ms(e)&&"<<"===e.value&&(!e.type||e.type===Fs.PLAIN);function mo(e,t,n){const r=e&&fs(n)?n.resolve(e.doc):n;if(!ds(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[o,i]of s)t instanceof Map?t.has(o)||t.set(o,i):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:i,writable:!0,enumerable:!0,configurable:!0});return t}function go(e,t,n){const r=Ks(e,void 0,n),s=Ks(t,void 0,n);return new yo(r,s)}class yo{constructor(e,t=null){Object.defineProperty(this,us,{value:as}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return vs(t)&&(t=t.clone(e)),vs(n)&&(n=n.clone(e)),new yo(t,n)}toJSON(e,t){return ho(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,r,s){const{allNullValues:o,doc:i,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:f}}=n;let h=vs(e)&&e.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(ys(e)||!vs(e)&&"object"==typeof e)throw new Error("With simple keys, collection cannot be used as a key value")}let d=!f&&(!e||h&&null==t&&!n.inFlow||ys(e)||(ms(e)?e.type===Fs.BLOCK_FOLDED||e.type===Fs.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(f||!o),indent:a+c});let p,m,g,y=!1,v=!1,b=uo(e,n,(()=>y=!0),(()=>v=!0));if(!d&&!n.inFlow&&b.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(o||null==t)return y&&r&&r(),""===b?"?":d?`? ${b}`:b}else if(o&&!f||null==t&&d)return b=`? ${b}`,h&&!y?b+=Js(b,n.indent,l(h)):v&&s&&s(),b;y&&(h=null),d?(h&&(b+=Js(b,n.indent,l(h))),b=`? ${b}\n${a}:`):(b=`${b}:`,h&&(b+=Js(b,n.indent,l(h)))),vs(t)?(p=!!t.spaceBefore,m=t.commentBefore,g=t.comment):(p=!1,m=null,g=null,t&&"object"==typeof t&&(t=i.createNode(t))),n.implicitKey=!1,d||h||!ms(t)||(n.indentAtStart=b.length+1),v=!1,u||!(c.length>=2)||n.inFlow||d||!gs(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substring(2));let w=!1;const k=uo(t,n,(()=>w=!0),(()=>v=!0));let x=" ";if(h||p||m)x=p?"\n":"",m&&(x+=`\n${Gs(l(m),n.indent)}`),""!==k||n.inFlow?x+=`\n${n.indent}`:"\n"===x&&(x="\n\n");else if(!d&&ys(t)){const e=k[0],r=k.indexOf("\n"),s=-1!==r,o=n.inFlow??t.flow??0===t.items.length;if(s||!o){let t=!1;if(s&&("&"===e||"!"===e)){let n=k.indexOf(" ");"&"===e&&-1!==n&&n<r&&"!"===k[n+1]&&(n=k.indexOf(" ",n+1)),(-1===n||r<n)&&(t=!0)}t||(x=`\n${n.indent}`)}}else""!==k&&"\n"!==k[0]||(x="");return b+=x+k,n.inFlow?w&&r&&r():g&&!w?b+=Js(b,n.indent,l(g)):v&&s&&s(),b}(this,e,t,n):JSON.stringify(this)}}function vo(e,t,n){return(t.inFlow??e.flow?wo:bo)(e,t,n)}function bo({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:o,onChompKeep:i,onComment:a}){const{indent:c,options:{commentString:l}}=n,u=Object.assign({},n,{indent:o,type:null});let f=!1;const h=[];for(let p=0;p<t.length;++p){const e=t[p];let s=null;if(vs(e))!f&&e.spaceBefore&&h.push(""),ko(n,h,e.commentBefore,f),e.comment&&(s=e.comment);else if(ps(e)){const t=vs(e.key)?e.key:null;t&&(!f&&t.spaceBefore&&h.push(""),ko(n,h,t.commentBefore,f))}f=!1;let i=uo(e,u,(()=>s=null),(()=>f=!0));s&&(i+=Js(i,o,l(s))),f&&s&&(f=!1),h.push(r+i)}let d;if(0===h.length)d=s.start+s.end;else{d=h[0];for(let e=1;e<h.length;++e){const t=h[e];d+=t?`\n${c}${t}`:"\n"}}return e?(d+="\n"+Gs(l(e),c),a&&a()):f&&i&&i(),d}function wo({items:e},t,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:o,flowCollectionPadding:i,options:{commentString:a}}=t;r+=o;const c=Object.assign({},t,{indent:r,inFlow:!0,type:null});let l=!1,u=0;const f=[];for(let p=0;p<e.length;++p){const n=e[p];let s=null;if(vs(n))n.spaceBefore&&f.push(""),ko(t,f,n.commentBefore,!1),n.comment&&(s=n.comment);else if(ps(n)){const e=vs(n.key)?n.key:null;e&&(e.spaceBefore&&f.push(""),ko(t,f,e.commentBefore,!1),e.comment&&(l=!0));const r=vs(n.value)?n.value:null;r?(r.comment&&(s=r.comment),r.commentBefore&&(l=!0)):null==n.value&&e?.comment&&(s=e.comment)}s&&(l=!0);let o=uo(n,c,(()=>s=null));p<e.length-1&&(o+=","),s&&(o+=Js(o,r,a(s))),!l&&(f.length>u||o.includes("\n"))&&(l=!0),f.push(o),u=f.length}const{start:h,end:d}=n;if(0===f.length)return h+d;if(!l){const e=f.reduce(((e,t)=>e+t.length+2),2);l=t.options.lineWidth>0&&e>t.options.lineWidth}if(l){let e=h;for(const t of f)e+=t?`\n${o}${s}${t}`:"\n";return`${e}\n${s}${d}`}return`${h}${i}${f.join(" ")}${i}${d}`}function ko({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const s=Gs(t(r),e);n.push(s.trimStart())}}function xo(e,t){const n=ms(t)?t.value:t;for(const r of e)if(ps(r)){if(r.key===t||r.key===n)return r;if(ms(r.key)&&r.key.value===n)return r}}class Eo extends zs{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(is,e),this.items=[]}static from(e,t,n){const{keepUndefined:r,replacer:s}=n,o=new this(e),i=(e,i)=>{if("function"==typeof s)i=s.call(t,e,i);else if(Array.isArray(s)&&!s.includes(e))return;(void 0!==i||r)&&o.items.push(go(e,i,n))};if(t instanceof Map)for(const[a,c]of t)i(a,c);else if(t&&"object"==typeof t)for(const a of Object.keys(t))i(a,t[a]);return"function"==typeof e.sortMapEntries&&o.items.sort(e.sortMapEntries),o}add(e,t){let n;n=ps(e)?e:e&&"object"==typeof e&&"key"in e?new yo(e.key,e.value):new yo(e,e?.value);const r=xo(this.items,n.key),s=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${n.key} already set`);ms(r.value)&&qs(n.value)?r.value.value=n.value:r.value=n.value}else if(s){const e=this.items.findIndex((e=>s(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=xo(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=xo(this.items,e),r=n?.value;return(!t&&ms(r)?r.value:r)??void 0}has(e){return!!xo(this.items,e)}set(e,t){this.add(new yo(e,t),!0)}toJSON(e,t,n){const r=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(const s of this.items)ho(t,r,s);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(const r of this.items)if(!ps(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),vo(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const So={collection:"map",default:!0,nodeClass:Eo,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(ds(e)||t("Expected a mapping for this tag"),e),createNode:(e,t,n)=>Eo.from(e,t,n)};class _o extends zs{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(ls,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=Ao(e);if("number"!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=Ao(e);if("number"!=typeof n)return;const r=this.items[n];return!t&&ms(r)?r.value:r}has(e){const t=Ao(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=Ao(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[n];ms(r)&&qs(t)?r.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let r=0;for(const s of this.items)n.push(Ds(s,String(r++),t));return n}toString(e,t,n){return e?vo(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:r}=n,s=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let o of t){if("function"==typeof r){const n=t instanceof Set?o:String(e++);o=r.call(t,n,o)}s.items.push(Ks(o,void 0,n))}}return s}}function Ao(e){let t=ms(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const Oo={collection:"seq",default:!0,nodeClass:_o,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(gs(e)||t("Expected a sequence for this tag"),e),createNode:(e,t,n)=>_o.from(e,t,n)},No={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,r)=>co(e,t=Object.assign({actualString:!0},t),n,r)},Co={identify:e=>null==e,createNode:()=>new Fs(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Fs(null),stringify:({source:e},t)=>"string"==typeof e&&Co.test.test(e)?e:t.options.nullStr},To={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Fs("t"===e[0]||"T"===e[0]),stringify({source:e,value:t},n){if(e&&To.test.test(e)){if(t===("t"===e[0]||"T"===e[0]))return e}return t?n.options.trueStr:n.options.falseStr}};function Bo({format:e,minFractionDigits:t,tag:n,value:r}){if("bigint"==typeof r)return String(r);const s="number"==typeof r?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){let e=o.indexOf(".");e<0&&(e=o.length,o+=".");let n=t-(o.length-e-1);for(;n-- >0;)o+="0"}return o}const Io={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Bo},Lo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Bo(e)}},jo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Fs(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Bo},Mo=e=>"bigint"==typeof e||Number.isInteger(e),Do=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function Po(e,t,n){const{value:r}=e;return Mo(r)&&r>=0?n+r.toString(t):Bo(e)}const $o={identify:e=>Mo(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Do(e,2,8,n),stringify:e=>Po(e,8,"0o")},Ro={identify:Mo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Do(e,0,10,n),stringify:Bo},qo={identify:e=>Mo(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Do(e,2,16,n),stringify:e=>Po(e,16,"0x")},Fo=[So,Oo,No,Co,To,$o,Ro,qo,Io,Lo,jo];function Ho(e){return"bigint"==typeof e||Number.isInteger(e)}const Ko=({value:e})=>JSON.stringify(e),Uo=[So,Oo].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Ko},{identify:e=>null==e,createNode:()=>new Fs(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Ko},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:Ko},{identify:Ho,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Ho(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Ko}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),Wo={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,o){const i=n;let a;if("function"==typeof Buffer)a=i instanceof Buffer?i.toString("base64"):Buffer.from(i.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<i.length;++t)e+=String.fromCharCode(i[t]);a=btoa(e)}}if(t||(t=Fs.BLOCK_LITERAL),t!==Fs.QUOTE_DOUBLE){const e=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),n=Math.ceil(a.length/e),s=new Array(n);for(let t=0,r=0;t<n;++t,r+=e)s[t]=a.substr(r,e);a=s.join(t===Fs.BLOCK_LITERAL?"\n":" ")}return co({comment:e,type:t,value:a},r,s,o)}};function zo(e,t){if(gs(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!ps(r)){if(ds(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const e=r.items[0]||new yo(new Fs(null));if(r.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${r.commentBefore}\n${e.key.commentBefore}`:r.commentBefore),r.comment){const t=e.value??e.key;t.comment=t.comment?`${r.comment}\n${t.comment}`:r.comment}r=e}e.items[n]=ps(r)?r:new yo(r)}}else t("Expected a sequence for this tag");return e}function Vo(e,t,n){const{replacer:r}=n,s=new _o(e);s.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let i of t){let e,a;if("function"==typeof r&&(i=r.call(t,String(o++),i)),Array.isArray(i)){if(2!==i.length)throw new TypeError(`Expected [key, value] tuple: ${i}`);e=i[0],a=i[1]}else if(i&&i instanceof Object){const t=Object.keys(i);if(1!==t.length)throw new TypeError(`Expected tuple with one key, not ${t.length} keys`);e=t[0],a=i[e]}else e=i;s.items.push(go(e,a,n))}return s}const Go={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:zo,createNode:Vo};class Jo extends _o{constructor(){super(),this.add=Eo.prototype.add.bind(this),this.delete=Eo.prototype.delete.bind(this),this.get=Eo.prototype.get.bind(this),this.has=Eo.prototype.has.bind(this),this.set=Eo.prototype.set.bind(this),this.tag=Jo.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const r of this.items){let e,s;if(ps(r)?(e=Ds(r.key,"",t),s=Ds(r.value,e,t)):e=Ds(r,"",t),n.has(e))throw new Error("Ordered maps must not include duplicate keys");n.set(e,s)}return n}static from(e,t,n){const r=Vo(e,t,n),s=new this;return s.items=r.items,s}}Jo.tag="tag:yaml.org,2002:omap";const Yo={collection:"seq",identify:e=>e instanceof Map,nodeClass:Jo,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=zo(e,t),r=[];for(const{key:s}of n.items)ms(s)&&(r.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Jo,n)},createNode:(e,t,n)=>Jo.from(e,t,n)};function Xo({value:e,source:t},n){return t&&(e?Qo:Zo).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Qo={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Fs(!0),stringify:Xo},Zo={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Fs(!1),stringify:Xo},ei={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Bo},ti={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Bo(e)}},ni={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Fs(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const r=e.substring(n+1).replace(/_/g,"");"0"===r[r.length-1]&&(t.minFractionDigits=r.length)}return t},stringify:Bo},ri=e=>"bigint"==typeof e||Number.isInteger(e);function si(e,t,n,{intAsBigInt:r}){const s=e[0];if("-"!==s&&"+"!==s||(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===s?BigInt(-1)*t:t}const o=parseInt(e,n);return"-"===s?-1*o:o}function oi(e,t,n){const{value:r}=e;if(ri(r)){const e=r.toString(t);return r<0?"-"+n+e.substr(1):n+e}return Bo(e)}const ii={identify:ri,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>si(e,2,2,n),stringify:e=>oi(e,2,"0b")},ai={identify:ri,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>si(e,1,8,n),stringify:e=>oi(e,8,"0")},ci={identify:ri,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>si(e,0,10,n),stringify:Bo},li={identify:ri,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>si(e,2,16,n),stringify:e=>oi(e,16,"0x")};class ui extends Eo{constructor(e){super(e),this.tag=ui.tag}add(e){let t;t=ps(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new yo(e.key,null):new yo(e,null);xo(this.items,t.key)||this.items.push(t)}get(e,t){const n=xo(this.items,e);return!t&&ps(n)?ms(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=xo(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new yo(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:r}=n,s=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)"function"==typeof r&&(o=r.call(t,o,o)),s.items.push(go(o,null,n));return s}}ui.tag="tag:yaml.org,2002:set";const fi={collection:"map",identify:e=>e instanceof Set,nodeClass:ui,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>ui.from(e,t,n),resolve(e,t){if(ds(e)){if(e.hasAllNullValues(!0))return Object.assign(new ui,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function hi(e,t){const n=e[0],r="-"===n||"+"===n?e.substring(1):e,s=e=>t?BigInt(e):Number(e),o=r.replace(/_/g,"").split(":").reduce(((e,t)=>e*s(60)+s(t)),s(0));return"-"===n?s(-1)*o:o}function di(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Bo(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),o=[t%s];return t<60?o.unshift(0):(t=(t-o[0])/s,o.unshift(t%s),t>=60&&(t=(t-o[0])/s,o.unshift(t))),r+o.map((e=>String(e).padStart(2,"0"))).join(":").replace(/000000\d*$/,"")}const pi={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>hi(e,n),stringify:di},mi={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>hi(e,!1),stringify:di},gi={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(gi.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,o,i,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let l=Date.UTC(n,r-1,s,o||0,i||0,a||0,c);const u=t[8];if(u&&"Z"!==u){let e=hi(u,!1);Math.abs(e)<30&&(e*=60),l-=6e4*e}return new Date(l)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},yi=[So,Oo,No,Co,Qo,Zo,ii,ai,ci,li,ei,ti,ni,Wo,Yo,Go,fi,pi,mi,gi],vi=new Map([["core",Fo],["failsafe",[So,Oo,No]],["json",Uo],["yaml11",yi],["yaml-1.1",yi]]),bi={binary:Wo,bool:To,float:jo,floatExp:Lo,floatNaN:Io,floatTime:mi,int:Ro,intHex:qo,intOct:$o,intTime:pi,map:So,null:Co,omap:Yo,pairs:Go,seq:Oo,set:fi,timestamp:gi},wi={"tag:yaml.org,2002:binary":Wo,"tag:yaml.org,2002:omap":Yo,"tag:yaml.org,2002:pairs":Go,"tag:yaml.org,2002:set":fi,"tag:yaml.org,2002:timestamp":gi};function ki(e,t){let n=vi.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(vi.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const r of e)n=n.concat(r);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=bi[e];if(t)return t;const n=Object.keys(bi).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}const xi=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Ei{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:r,schema:s,sortMapEntries:o,toStringDefaults:i}){this.compat=Array.isArray(e)?ki(e,"compat"):e?ki(null,e):null,this.merge=!!n,this.name="string"==typeof s&&s||"core",this.knownTags=r?wi:{},this.tags=ki(t,this.name),this.toStringOptions=i??null,Object.defineProperty(this,is,{value:So}),Object.defineProperty(this,cs,{value:No}),Object.defineProperty(this,ls,{value:Oo}),this.sortMapEntries="function"==typeof o?o:!0===o?xi:null}clone(){const e=Object.create(Ei.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class Si{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,us,{value:os});let r=null;"function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t,t=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=s;let{version:o}=s;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Bs({version:o}),this.setSchema(o,n),this.contents=void 0===e?null:this.createNode(e,r,n)}clone(){const e=Object.create(Si.prototype,{[us]:{value:os}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=vs(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){_i(this.contents)&&this.contents.add(e)}addIn(e,t){_i(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Ls(this);e.anchor=!t||n.has(t)?js(t||"a",n):t}return new $s(e.anchor)}createNode(e,t,n){let r;if("function"==typeof t)e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),r=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:i,keepUndefined:a,onTagObj:c,tag:l}=n??{},{onAnchor:u,setAnchors:f,sourceObjects:h}=function(e,t){const n=[],r=new Map;let s=null;return{onAnchor:r=>{n.push(r),s||(s=Ls(e));const o=js(t,s);return s.add(o),o},setAnchors:()=>{for(const e of n){const t=r.get(e);if("object"!=typeof t||!t.anchor||!ms(t.node)&&!ys(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:r}}(this,o||"a"),d=Ks(e,l,{aliasDuplicateObjects:s??!0,keepUndefined:a??!1,onAnchor:u,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:h});return i&&ys(d)&&(d.flow=!0),f(),d}createPair(e,t,n={}){const r=this.createNode(e,null,n),s=this.createNode(t,null,n);return new yo(r,s)}delete(e){return!!_i(this.contents)&&this.contents.delete(e)}deleteIn(e){return Ws(e)?null!=this.contents&&(this.contents=null,!0):!!_i(this.contents)&&this.contents.deleteIn(e)}get(e,t){return ys(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Ws(e)?!t&&ms(this.contents)?this.contents.value:this.contents:ys(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!ys(this.contents)&&this.contents.has(e)}hasIn(e){return Ws(e)?void 0!==this.contents:!!ys(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=Us(this.schema,[e],t):_i(this.contents)&&this.contents.set(e,t)}setIn(e,t){Ws(e)?this.contents=t:null==this.contents?this.contents=Us(this.schema,Array.from(e),t):_i(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Bs({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Bs({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Ei(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:o}={}){const i={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100},a=Ds(this.contents,t??"",i);if("function"==typeof s)for(const{count:c,res:l}of i.anchors.values())s(l,c);return"function"==typeof o?Ms(o,{"":a},"",a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const n=[];let r=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=lo(e,t),{commentString:o}=s.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=o(e.commentBefore);n.unshift(Gs(t,""))}let i=!1,a=null;if(e.contents){if(vs(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const t=o(e.contents.commentBefore);n.push(Gs(t,""))}s.forceBlockIndent=!!e.comment,a=e.contents.comment}const t=a?void 0:()=>i=!0;let c=uo(e.contents,s,(()=>a=null),t);a&&(c+=Js(c,"",o(a))),"|"!==c[0]&&">"!==c[0]||"---"!==n[n.length-1]?n.push(c):n[n.length-1]=`--- ${c}`}else n.push(uo(e.contents,s));if(e.directives?.docEnd)if(e.comment){const t=o(e.comment);t.includes("\n")?(n.push("..."),n.push(Gs(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&i&&(t=t.replace(/^\n+/,"")),t&&(i&&!a||""===n[n.length-1]||n.push(""),n.push(Gs(o(t),"")))}return n.join("\n")+"\n"}(this,e)}}function _i(e){if(ys(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Ai extends Error{constructor(e,t,n,r){super(),this.name=e,this.code=n,this.message=r,this.pos=t}}class Oi extends Ai{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Ni extends Ai{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Ci=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let o=s-1,i=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&i.length>80){const e=Math.min(o-39,i.length-79);i="…"+i.substring(e),o-=e-1}if(i.length>80&&(i=i.substring(0,79)+"…"),r>1&&/^ *$/.test(i.substring(0,o))){let n=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);n.length>80&&(n=n.substring(0,79)+"…\n"),i=n+i}if(/[^ ]/.test(i)){let e=1;const t=n.linePos[1];t&&t.line===r&&t.col>s&&(e=Math.max(1,Math.min(t.col-s,80-o)));const a=" ".repeat(o)+"^".repeat(e);n.message+=`:\n\n${i}\n${a}\n`}};function Ti(e,{flow:t,indicator:n,next:r,offset:s,onError:o,parentIndent:i,startOnNewline:a}){let c=!1,l=a,u=a,f="",h="",d=!1,p=!1,m=!1,g=null,y=null,v=null,b=null,w=null,k=null;for(const S of e)switch(m&&("space"!==S.type&&"newline"!==S.type&&"comma"!==S.type&&o(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),g&&(l&&"comment"!==S.type&&"newline"!==S.type&&o(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=null),S.type){case"space":t||"doc-start"===n&&"flow-collection"===r?.type||!S.source.includes("\t")||(g=S),u=!0;break;case"comment":{u||o(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=S.source.substring(1)||" ";f?f+=h+e:f=e,h="",l=!1;break}case"newline":l?f?f+=S.source:c=!0:h+=S.source,l=!0,d=!0,(y||v)&&(p=!0),u=!0;break;case"anchor":y&&o(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),S.source.endsWith(":")&&o(S.offset+S.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),y=S,null===k&&(k=S.offset),l=!1,u=!1,m=!0;break;case"tag":v&&o(S,"MULTIPLE_TAGS","A node can have at most one tag"),v=S,null===k&&(k=S.offset),l=!1,u=!1,m=!0;break;case n:(y||v)&&o(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),w&&o(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${t??"collection"}`),w=S,l="seq-item-ind"===n||"explicit-key-ind"===n,u=!1;break;case"comma":if(t){b&&o(S,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),b=S,l=!1,u=!1;break}default:o(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),l=!1,u=!1}const x=e[e.length-1],E=x?x.offset+x.source.length:s;return m&&r&&"space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&("scalar"!==r.type||""!==r.source)&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g&&(l&&g.indent<=i||"block-map"===r?.type||"block-seq"===r?.type)&&o(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:b,found:w,spaceBefore:c,comment:f,hasNewline:d,hasNewlineAfterProp:p,anchor:y,tag:v,end:E,start:k??E}}function Bi(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Bi(t.key)||Bi(t.value))return!0}return!1;default:return!0}}function Ii(e,t,n){if("flow-collection"===t?.type){const r=t.end[0];if(r.indent===e&&("]"===r.source||"}"===r.source)&&Bi(t)){n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function Li(e,t,n){const{uniqueKeys:r}=e.options;if(!1===r)return!1;const s="function"==typeof r?r:(t,n)=>t===n||ms(t)&&ms(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some((e=>s(e.key,n)))}const ji="All mapping items must start at the same column";function Mi(e,t,n,r){let s="";if(e){let o=!1,i="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";s?s+=i+t:s=t,i="";break}case"newline":s&&(i+=e),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:s,offset:t}}const Di="Block collections are not allowed within flow collections",Pi=e=>e&&("block-map"===e.type||"block-seq"===e.type);function $i(e,t,n,r,s,o){const i="block-map"===n.type?function({composeNode:e,composeEmptyNode:t},n,r,s,o){const i=new(o?.nodeClass??Eo)(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,c=null;for(const l of r.items){const{start:o,key:u,sep:f,value:h}=l,d=Ti(o,{indicator:"explicit-key-ind",next:u??f?.[0],offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0}),p=!d.found;if(p){if(u&&("block-seq"===u.type?s(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==r.indent&&s(a,"BAD_INDENT",ji)),!d.anchor&&!d.tag&&!f){c=d.end,d.comment&&(i.comment?i.comment+="\n"+d.comment:i.comment=d.comment);continue}(d.hasNewlineAfterProp||Bi(u))&&s(u??o[o.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else d.found?.indent!==r.indent&&s(a,"BAD_INDENT",ji);const m=d.end,g=u?e(n,u,d,s):t(n,m,o,null,d,s);n.schema.compat&&Ii(r.indent,u,s),Li(n,i.items,g)&&s(m,"DUPLICATE_KEY","Map keys must be unique");const y=Ti(f??[],{indicator:"map-value-ind",next:h,offset:g.range[2],onError:s,parentIndent:r.indent,startOnNewline:!u||"block-scalar"===u.type});if(a=y.end,y.found){p&&("block-map"!==h?.type||y.hasNewline||s(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&d.start<y.found.offset-1024&&s(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const o=h?e(n,h,y,s):t(n,a,f,null,y,s);n.schema.compat&&Ii(r.indent,h,s),a=o.range[2];const c=new yo(g,o);n.options.keepSourceTokens&&(c.srcToken=l),i.items.push(c)}else{p&&s(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),y.comment&&(g.comment?g.comment+="\n"+y.comment:g.comment=y.comment);const e=new yo(g);n.options.keepSourceTokens&&(e.srcToken=l),i.items.push(e)}}return c&&c<a&&s(c,"IMPOSSIBLE","Map comment with trailing content"),i.range=[r.offset,a,c??a],i}(e,t,n,r,o):"block-seq"===n.type?function({composeNode:e,composeEmptyNode:t},n,r,s,o){const i=new(o?.nodeClass??_o)(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,c=null;for(const{start:l,value:u}of r.items){const o=Ti(l,{indicator:"seq-item-ind",next:u,offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!o.found){if(!(o.anchor||o.tag||u)){c=o.end,o.comment&&(i.comment=o.comment);continue}u&&"block-seq"===u.type?s(o.end,"BAD_INDENT","All sequence items must start at the same column"):s(a,"MISSING_CHAR","Sequence item without - indicator")}const f=u?e(n,u,o,s):t(n,o.end,l,null,o,s);n.schema.compat&&Ii(r.indent,u,s),a=f.range[2],i.items.push(f)}return i.range=[r.offset,a,c??a],i}(e,t,n,r,o):function({composeNode:e,composeEmptyNode:t},n,r,s,o){const i="{"===r.start.source,a=i?"flow map":"flow sequence",c=new(o?.nodeClass??(i?Eo:_o))(n.schema);c.flow=!0;const l=n.atRoot;l&&(n.atRoot=!1);let u=r.offset+r.start.source.length;for(let m=0;m<r.items.length;++m){const o=r.items[m],{start:l,key:f,sep:h,value:d}=o,p=Ti(l,{flow:a,indicator:"explicit-key-ind",next:f??h?.[0],offset:u,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!p.found){if(!(p.anchor||p.tag||h||d)){0===m&&p.comma?s(p.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<r.items.length-1&&s(p.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),p.comment&&(c.comment?c.comment+="\n"+p.comment:c.comment=p.comment),u=p.end;continue}!i&&n.options.strict&&Bi(f)&&s(f,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===m)p.comma&&s(p.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(p.comma||s(p.start,"MISSING_CHAR",`Missing , between ${a} items`),p.comment){let e="";e:for(const t of l)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=c.items[c.items.length-1];ps(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,p.comment=p.comment.substring(e.length+1)}}if(i||h||p.found){const m=p.end,g=f?e(n,f,p,s):t(n,m,l,null,p,s);Pi(f)&&s(g.range,"BLOCK_IN_FLOW",Di);const y=Ti(h??[],{flow:a,indicator:"map-value-ind",next:d,offset:g.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(y.found){if(!i&&!p.found&&n.options.strict){if(h)for(const e of h){if(e===y.found)break;if("newline"===e.type){s(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}p.start<y.found.offset-1024&&s(y.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else d&&("source"in d&&d.source&&":"===d.source[0]?s(d,"MISSING_CHAR",`Missing space after : in ${a}`):s(y.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const v=d?e(n,d,y,s):y.found?t(n,y.end,h,null,y,s):null;v?Pi(d)&&s(v.range,"BLOCK_IN_FLOW",Di):y.comment&&(g.comment?g.comment+="\n"+y.comment:g.comment=y.comment);const b=new yo(g,v);if(n.options.keepSourceTokens&&(b.srcToken=o),i){const e=c;Li(n,e.items,g)&&s(m,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(b)}else{const e=new Eo(n.schema);e.flow=!0,e.items.push(b),c.items.push(e)}u=v?v.range[2]:y.end}else{const r=d?e(n,d,p,s):t(n,p.end,h,null,p,s);c.items.push(r),u=r.range[2],Pi(d)&&s(r.range,"BLOCK_IN_FLOW",Di)}}const f=i?"}":"]",[h,...d]=r.end;let p=u;if(h&&h.source===f)p=h.offset+h.source.length;else{const e=a[0].toUpperCase()+a.substring(1);s(u,l?"MISSING_CHAR":"BAD_INDENT",l?`${e} must end with a ${f}`:`${e} in block collection must be sufficiently indented and end with a ${f}`),h&&1!==h.source.length&&d.unshift(h)}if(d.length>0){const e=Mi(d,p,n.options.strict,s);e.comment&&(c.comment?c.comment+="\n"+e.comment:c.comment=e.comment),c.range=[r.offset,p,e.offset]}else c.range=[r.offset,p,p];return c}(e,t,n,r,o),a=i.constructor;return"!"===s||s===a.tagName?(i.tag=a.tagName,i):(s&&(i.tag=s),i)}function Ri(e,t,n){const r=t.offset,s=function({offset:e,props:t},n,r){if("block-scalar-header"!==t[0].type)return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],o=s[0];let i=0,a="",c=-1;for(let h=1;h<s.length;++h){const t=s[h];if(a||"-"!==t&&"+"!==t){const n=Number(t);!i&&n?i=n:-1===c&&(c=e+h)}else a=t}-1!==c&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let l=!1,u="",f=s.length;for(let h=1;h<t.length;++h){const e=t[h];switch(e.type){case"space":l=!0;case"newline":f+=e.source.length;break;case"comment":if(n&&!l){r(e,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}f+=e.source.length,u=e.source.substring(1);break;case"error":r(e,"UNEXPECTED_TOKEN",e.message),f+=e.source.length;break;default:{r(e,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${e.type}`);const t=e.source;t&&"string"==typeof t&&(f+=t.length)}}}return{mode:o,indent:i,chomp:a,comment:u,length:f}}(t,e.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const o=">"===s.mode?Fs.BLOCK_FOLDED:Fs.BLOCK_LITERAL,i=t.source?function(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}(t.source):[];let a=i.length;for(let m=i.length-1;m>=0;--m){const e=i[m][1];if(""!==e&&"\r"!==e)break;a=m}if(0===a){const e="+"===s.chomp&&i.length>0?"\n".repeat(Math.max(1,i.length-1)):"";let n=r+s.length;return t.source&&(n+=t.source.length),{value:e,type:o,comment:s.comment,range:[r,n,n]}}let c=t.indent+s.indent,l=t.offset+s.length,u=0;for(let m=0;m<a;++m){const[t,r]=i[m];if(""!==r&&"\r"!==r){if(t.length<c){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(l+t.length,"MISSING_CHAR",e)}if(0===s.indent&&(c=t.length),u=m,0===c&&!e.atRoot){n(l,"BAD_INDENT","Block scalar values in collections must be indented")}break}0===s.indent&&t.length>c&&(c=t.length),l+=t.length+r.length+1}for(let m=i.length-1;m>=a;--m)i[m][0].length>c&&(a=m+1);let f="",h="",d=!1;for(let m=0;m<u;++m)f+=i[m][0].slice(c)+"\n";for(let m=u;m<a;++m){let[e,t]=i[m];l+=e.length+t.length+1;const r="\r"===t[t.length-1];if(r&&(t=t.slice(0,-1)),t&&e.length<c){const o=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(l-t.length-(r?2:1),"BAD_INDENT",o),e=""}o===Fs.BLOCK_LITERAL?(f+=h+e.slice(c)+t,h="\n"):e.length>c||"\t"===t[0]?(" "===h?h="\n":d||"\n"!==h||(h="\n\n"),f+=h+e.slice(c)+t,h="\n",d=!0):""===t?"\n"===h?f+="\n":h="\n":(f+=h+t,h=" ",d=!1)}switch(s.chomp){case"-":break;case"+":for(let e=a;e<i.length;++e)f+="\n"+i[e][0].slice(c);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}const p=r+s.length+t.source.length;return{value:f,type:o,comment:s.comment,range:[r,p,p]}}function qi(e,t,n){const{offset:r,type:s,source:o,end:i}=e;let a,c;const l=(e,t,s)=>n(r+e,t,s);switch(s){case"scalar":a=Fs.PLAIN,c=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`);return Fi(e)}(o,l);break;case"single-quoted-scalar":a=Fs.QUOTE_SINGLE,c=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return Fi(e.slice(1,-1)).replace(/''/g,"'")}(o,l);break;case"double-quoted-scalar":a=Fs.QUOTE_DOUBLE,c=function(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if("\r"!==s||"\n"!==e[r+1])if("\n"===s){const{fold:t,offset:s}=Hi(e,r);n+=t,r=s}else if("\\"===s){let s=e[++r];const o=Ki[s];if(o)n+=o;else if("\n"===s)for(s=e[r+1];" "===s||"\t"===s;)s=e[1+ ++r];else if("\r"===s&&"\n"===e[r+1])for(s=e[1+ ++r];" "===s||"\t"===s;)s=e[1+ ++r];else if("x"===s||"u"===s||"U"===s){const o={x:2,u:4,U:8}[s];n+=Ui(e,r+1,o,t),r+=o}else{const s=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),n+=s}}else if(" "===s||"\t"===s){const t=r;let o=e[r+1];for(;" "===o||"\t"===o;)o=e[1+ ++r];"\n"===o||"\r"===o&&"\n"===e[r+2]||(n+=r>t?e.slice(t,r+1):s)}else n+=s}'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}(o,l);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const u=r+o.length,f=Mi(i,u,t,n);return{value:c,type:a,comment:f.comment,range:[r,u,f.offset]}}function Fi(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(c){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],o=" ",i=t.lastIndex;for(n.lastIndex=i;r=n.exec(e);)""===r[1]?"\n"===o?s+=o:o="\n":(s+=o+r[1],o=" "),i=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=i,r=a.exec(e),s+o+(r?.[1]??"")}function Hi(e,t){let n="",r=e[t+1];for(;!(" "!==r&&"\t"!==r&&"\n"!==r&&"\r"!==r||"\r"===r&&"\n"!==e[t+2]);)"\n"===r&&(n+="\n"),r=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const Ki={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Ui(e,t,n,r){const s=e.substr(t,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const s=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),s}return String.fromCodePoint(o)}function Wi(e,t,n,r){const{value:s,type:o,comment:i,range:a}="block-scalar"===t.type?Ri(e,t,r):qi(t,e.options.strict,r),c=n?e.directives.tagName(n.source,(e=>r(n,"TAG_RESOLVE_FAILED",e))):null,l=n&&c?function(e,t,n,r,s){if("!"===n)return e[cs];const o=[];for(const a of e.tags)if(!a.collection&&a.tag===n){if(!a.default||!a.test)return a;o.push(a)}for(const a of o)if(a.test?.test(t))return a;const i=e.knownTags[n];if(i&&!i.collection)return e.tags.push(Object.assign({},i,{default:!1,test:void 0})),i;return s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[cs]}(e.schema,s,c,n,r):"scalar"===t.type?function({directives:e,schema:t},n,r,s){const o=t.tags.find((e=>e.default&&e.test?.test(n)))||t[cs];if(t.compat){const i=t.compat.find((e=>e.default&&e.test?.test(n)))??t[cs];if(o.tag!==i.tag){s(r,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(o.tag)} or ${e.tagString(i.tag)}`,!0)}}return o}(e,s,t,r):e.schema[cs];let u;try{const o=l.resolve(s,(e=>r(n??t,"TAG_RESOLVE_FAILED",e)),e.options);u=ms(o)?o:new Fs(o)}catch(f){const e=f instanceof Error?f.message:String(f);r(n??t,"TAG_RESOLVE_FAILED",e),u=new Fs(s)}return u.range=a,u.source=s,o&&(u.type=o),c&&(u.tag=c),l.format&&(u.format=l.format),i&&(u.comment=i),u}function zi(e,t,n){if(t){null===n&&(n=t.length);for(let r=n-1;r>=0;--r){let n=t[r];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++r];"space"===n?.type;)e+=n.source.length,n=t[++r];break}}return e}const Vi={composeNode:Gi,composeEmptyNode:Ji};function Gi(e,t,n,r){const{spaceBefore:s,comment:o,anchor:i,tag:a}=n;let c,l=!0;switch(t.type){case"alias":c=function({options:e},{offset:t,source:n,end:r},s){const o=new $s(n.substring(1));""===o.source&&s(t,"BAD_ALIAS","Alias cannot be an empty string");o.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const i=t+n.length,a=Mi(r,i,e.strict,s);o.range=[t,i,a.offset],a.comment&&(o.comment=a.comment);return o}(e,t,r),(i||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Wi(e,t,a,r),i&&(c.anchor=i.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=function(e,t,n,r,s){const o=r?t.directives.tagName(r.source,(e=>s(r,"TAG_RESOLVE_FAILED",e))):null,i="block-map"===n.type?"map":"block-seq"===n.type?"seq":"{"===n.start.source?"map":"seq";if(!r||!o||"!"===o||o===Eo.tagName&&"map"===i||o===_o.tagName&&"seq"===i||!i)return $i(e,t,n,s,o);let a=t.schema.tags.find((e=>e.tag===o&&e.collection===i));if(!a){const c=t.schema.knownTags[o];if(!c||c.collection!==i)return c?.collection?s(r,"BAD_COLLECTION_TYPE",`${c.tag} used for ${i} collection, but expects ${c.collection}`,!0):s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),$i(e,t,n,s,o);t.schema.tags.push(Object.assign({},c,{default:!1})),a=c}const c=$i(e,t,n,s,o,a),l=a.resolve?.(c,(e=>s(r,"TAG_RESOLVE_FAILED",e)),t.options)??c,u=vs(l)?l:new Fs(l);return u.range=c.range,u.tag=o,a?.format&&(u.format=a.format),u}(Vi,e,t,a,r),i&&(c.anchor=i.source.substring(1));break;default:r(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=Ji(e,t.offset,void 0,null,n,r),l=!1}return i&&""===c.anchor&&r(i,"BAD_ALIAS","Anchor cannot be an empty string"),s&&(c.spaceBefore=!0),o&&("scalar"===t.type&&""===t.source?c.comment=o:c.commentBefore=o),e.options.keepSourceTokens&&l&&(c.srcToken=t),c}function Ji(e,t,n,r,{spaceBefore:s,comment:o,anchor:i,tag:a,end:c},l){const u=Wi(e,{type:"scalar",offset:zi(t,n,r),indent:-1,source:""},a,l);return i&&(u.anchor=i.source.substring(1),""===u.anchor&&l(i,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(u.spaceBefore=!0),o&&(u.comment=o,u.range[2]=c),u}function Yi(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function Xi(e){let t="",n=!1,r=!1;for(let s=0;s<e.length;++s){const o=e[s];switch(o[0]){case"#":t+=(""===t?"":r?"\n\n":"\n")+(o.substring(1)||" "),n=!0,r=!1;break;case"%":"#"!==e[s+1]?.[0]&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class Qi{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,r)=>{const s=Yi(e);r?this.warnings.push(new Ni(s,t,n)):this.errors.push(new Oi(s,t,n))},this.directives=new Bs({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:r}=Xi(this.prelude);if(n){const s=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(r||e.directives.docStart||!s)e.commentBefore=n;else if(ys(s)&&!s.flow&&s.items.length>0){let e=s.items[0];ps(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=s.commentBefore;s.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Xi(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const r of e)yield*this.next(r);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,r)=>{const s=Yi(e);s[0]+=t,this.onError(s,"BAD_DIRECTIVE",n,r)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:r,value:s,end:o},i){const a=Object.assign({_directives:t},e),c=new Si(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=Ti(r,{indicator:"doc-start",next:s??o?.[0],offset:n,onError:i,parentIndent:0,startOnNewline:!0});u.found&&(c.directives.docStart=!0,!s||"block-map"!==s.type&&"block-seq"!==s.type||u.hasNewline||i(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=s?Gi(l,s,u,i):Ji(l,u.end,r,null,u,i);const f=c.contents.range[2],h=Mi(o,f,!1,i);return h.comment&&(c.comment=h.comment),c.range=[n,f,h.offset],c}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Oi(Yi(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new Oi(Yi(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=Mi(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Oi(Yi(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new Si(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function Zi(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function ea(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let s=t.length;"block-scalar-header"===e.props[0].type&&(s-=e.props[0].source.length);for(const e of r)e.offset+=s;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const r={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[r]});break}default:{const r="indent"in e?e.indent:-1,s="end"in e&&Array.isArray(e.end)?e.end.filter((e=>"space"===e.type||"comment"===e.type||"newline"===e.type)):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:r,source:t,end:s})}}}function ta(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=ta(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=na(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=na(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=na(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function na({start:e,key:t,sep:n,value:r}){let s="";for(const o of e)s+=o.source;if(t&&(s+=ta(t)),n)for(const o of n)s+=o.source;return r&&(s+=ta(r)),s}const ra=Symbol("break visit"),sa=Symbol("skip children"),oa=Symbol("remove item");function ia(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),aa(Object.freeze([]),e,t)}function aa(e,t,n){let r=n(t,e);if("symbol"==typeof r)return r;for(const s of["key","value"]){const o=t[s];if(o&&"items"in o){for(let t=0;t<o.items.length;++t){const r=aa(Object.freeze(e.concat([[s,t]])),o.items[t],n);if("number"==typeof r)t=r-1;else{if(r===ra)return ra;r===oa&&(o.items.splice(t,1),t-=1)}}"function"==typeof r&&"key"===s&&(r=r(t,e))}}return"function"==typeof r?r(t,e):r}ia.BREAK=ra,ia.SKIP=sa,ia.REMOVE=oa,ia.itemAtPath=(e,t)=>{let n=e;for(const[r,s]of t){const e=n?.[r];if(!e||!("items"in e))return;n=e.items[s]}return n},ia.parentCollection=(e,t)=>{const n=ia.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],s=n?.[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};const ca="\ufeff",la="",ua="",fa="";function ha(e){switch(e){case ca:return"byte-order-mark";case la:return"doc-mode";case ua:return"flow-error-end";case fa:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const da=Object.freeze(Object.defineProperty({__proto__:null,BOM:ca,DOCUMENT:la,FLOW_END:ua,SCALAR:fa,createScalarToken:function(e,t){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:o=-1,type:i="PLAIN"}=t,a=co({type:i,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),c=t.end??[{type:"newline",offset:-1,indent:r,source:"\n"}];switch(a[0]){case"|":case">":{const e=a.indexOf("\n"),t=a.substring(0,e),n=a.substring(e+1)+"\n",s=[{type:"block-scalar-header",offset:o,indent:r,source:t}];return Zi(s,c)||s.push({type:"newline",offset:-1,indent:r,source:"\n"}),{type:"block-scalar",offset:o,indent:r,props:s,source:n}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:a,end:c};default:return{type:"scalar",offset:o,indent:r,source:a,end:c}}},isCollection:e=>!!e&&"items"in e,isScalar:e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type),prettyToken:function(e){switch(e){case ca:return"<BOM>";case la:return"<DOC>";case ua:return"<FLOW_END>";case fa:return"<SCALAR>";default:return JSON.stringify(e)}},resolveAsScalar:function(e,t=!0,n){if(e){const r=(e,t,r)=>{const s="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new Oi([s,s+1],t,r);n(s,t,r)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return qi(e,t,r);case"block-scalar":return Ri({options:{strict:t}},e,r)}}return null},setScalarValue:function(e,t,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:o=!1,type:i}=n,a="indent"in e?e.indent:null;if(r&&"number"==typeof a&&(a+=2),!i)switch(e.type){case"single-quoted-scalar":i="QUOTE_SINGLE";break;case"double-quoted-scalar":i="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");i=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:i="PLAIN"}const c=co({type:i,value:t},{implicitKey:s||null===a,indent:null!==a&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),r=t.substring(0,n),s=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=r,e.source=s}else{const{offset:t}=e,n="indent"in e?e.indent:-1,o=[{type:"block-scalar-header",offset:t,indent:n,source:r}];Zi(o,"end"in e?e.end:void 0)||o.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const r of Object.keys(e))"type"!==r&&"offset"!==r&&delete e[r];Object.assign(e,{type:"block-scalar",indent:n,props:o,source:s})}}(e,c);break;case'"':ea(e,c,"double-quoted-scalar");break;case"'":ea(e,c,"single-quoted-scalar");break;default:ea(e,c,"scalar")}},stringify:e=>"type"in e?ta(e):na(e),tokenType:ha,visit:ia},Symbol.toStringTag,{value:"Module"}));function pa(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const ma=new Set("0123456789ABCDEFabcdef"),ga=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),ya=new Set(",[]{}"),va=new Set(" ,[]{}\n\r\t"),ba=e=>!e||va.has(e);class wa{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if("string"!=typeof e)throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&pa(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===ca&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length,n=e.indexOf("#");for(;-1!==n;){const r=e[n-1];if(" "===r||"\t"===r){t=n-1;break}n=e.indexOf("#",n+1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield la,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&pa(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&pa(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!pa(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&pa(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ba),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const r=this.getLine();if(null===r)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==r[0]||0===n&&(r.startsWith("---")||r.startsWith("..."))&&pa(r[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===r[0]||"}"===r[0])))return this.flowLevel=0,yield ua,yield*this.parseLineStart()}let s=0;for(;","===r[s];)s+=(yield*this.pushCount(1)),s+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(s+=(yield*this.pushIndicators()),r[s]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ba),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||pa(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let r=n.indexOf("\n",this.pos);if(-1!==r){for(;-1!==r;){const e=this.continueScalar(r+1);if(-1===e)break;r=n.indexOf("\n",e)}-1!==r&&(t=r-("\r"===n[r-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>pa(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let s=this.pos;e=this.buffer[s];++s)switch(e){case" ":n+=1;break;case"\n":t=s,n=0;break;case"\r":{const e=this.buffer[s+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let r=t+1;for(e=this.buffer[r];" "===e;)e=this.buffer[++r];if("\t"===e){for(;"\t"===e||" "===e||"\r"===e||"\n"===e;)e=this.buffer[++r];t=r-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,r=this.buffer[e];"\r"===r&&(r=this.buffer[--e]);const s=e;for(;" "===r;)r=this.buffer[--e];if(!("\n"===r&&e>=this.pos&&e+1+n>s))break;t=e}return yield fa,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,r=this.pos-1;for(;t=this.buffer[++r];)if(":"===t){const t=this.buffer[r+1];if(pa(t)||e&&ya.has(t))break;n=r}else if(pa(t)){let s=this.buffer[r+1];if("\r"===t&&("\n"===s?(r+=1,t="\n",s=this.buffer[r+1]):n=r),"#"===s||e&&ya.has(s))break;if("\n"===t){const e=this.continueScalar(r+1);if(-1===e)break;r=Math.max(r,e-2)}}else{if(e&&ya.has(t))break;n=r}return t||this.atEnd?(yield fa,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ba))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(pa(t)||e&&ya.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!pa(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(ga.has(t))t=this.buffer[++e];else{if("%"!==t||!ma.has(this.buffer[e+1])||!ma.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class ka{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function xa(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Ea(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Sa(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function _a(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Aa(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function Oa(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||xa(t.start,"explicit-key-ind")||xa(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,Sa(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Na{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new wa,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=ha(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&Oa(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===Ea(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==Ea(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=Aa(_a(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0,r=Array.isArray(n)?n[n.length-1]:void 0;"comment"===r?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],r=n?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent,r=n&&(t.sep||t.explicitKey)&&"seq-item-ind"!==this.type;let s=[];if(r&&t.sep&&!t.value){const n=[];for(let r=0;r<t.sep.length;++r){const s=t.sep[r];switch(s.type){case"newline":n.push(r);break;case"space":break;case"comment":s.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(s=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(r||t.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||t.explicitKey?r||t.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(t.start.push(this.sourceToken),t.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(xa(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(Sa(t.key)&&!xa(t.sep,"newline")){const e=Aa(t.start),n=t.key,r=t.sep;r.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:r}]})}else s.length>0?t.sep=t.sep.concat(s,this.sourceToken):t.sep.push(this.sourceToken);else if(xa(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=Aa(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||r?e.items.push({start:s,key:null,sep:[this.sourceToken]}):xa(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(r||t.value?(e.items.push({start:s,key:n,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(n):(Object.assign(t,{key:n,sep:[]}),this.onKeyLine=!0))}default:{const t=this.startBlockValue(e);if(t)return n&&"block-seq"!==t.type&&e.items.push({start:s}),void this.stack.push(t)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0,r=Array.isArray(n)?n[n.length-1]:void 0;"comment"===r?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],r=n?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||xa(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=Aa(_a(t));Oa(e);const r=e.end.splice(1,e.end.length);r.push(this.sourceToken);const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Aa(_a(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Aa(_a(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type)))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Ca(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new ka||null,prettyErrors:t}}function Ta(e,t={}){const{lineCounter:n,prettyErrors:r}=Ca(t),s=new Na(n?.addNewLine),o=new Qi(t);let i=null;for(const a of o.compose(s.parse(e),!0,e.length))if(i){if("silent"!==i.options.logLevel){i.errors.push(new Oi(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else i=a;return r&&n&&(i.errors.forEach(Ci(e,n)),i.warnings.forEach(Ci(e,n))),i}const Ba=Object.freeze(Object.defineProperty({__proto__:null,Alias:$s,CST:da,Composer:Qi,Document:Si,Lexer:wa,LineCounter:ka,Pair:yo,Parser:Na,Scalar:Fs,Schema:Ei,YAMLError:Ai,YAMLMap:Eo,YAMLParseError:Oi,YAMLSeq:_o,YAMLWarning:Ni,isAlias:fs,isCollection:ys,isDocument:hs,isMap:ds,isNode:vs,isPair:ps,isScalar:ms,isSeq:gs,parse:function(e,t,n){let r;"function"==typeof t?r=t:void 0===n&&t&&"object"==typeof t&&(n=t);const s=Ta(e,n);if(!s)return null;if(s.warnings.forEach((e=>fo(s.options.logLevel,e))),s.errors.length>0){if("silent"!==s.options.logLevel)throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))},parseAllDocuments:function(e,t={}){const{lineCounter:n,prettyErrors:r}=Ca(t),s=new Na(n?.addNewLine),o=new Qi(t),i=Array.from(o.compose(s.parse(e)));if(r&&n)for(const a of i)a.errors.forEach(Ci(e,n)),a.warnings.forEach(Ci(e,n));return i.length>0?i:Object.assign([],{empty:!0},o.streamInfo())},parseDocument:Ta,stringify:function(e,t,n){let r=null;if("function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return new Si(e,r,n).toString(n)},visit:Es,visitAsync:_s},Symbol.toStringTag,{value:"Module"})),Ia=async(e="en")=>{const t=async e=>(await fetch(e)).text(),[n,r,s,o]=await Promise.all([t(`/locales/${e}/side.ftml`),t(`/locales/${e}/top.ftml`),t(`/locales/${e}/theme.css`),t(`/locales/${e}/messages.yaml`)]),i=Ba.parse(o);for(const a in i.actionarea){const e=i.actionarea[a],t=document.querySelector(`#actionarea-${a}`);if(t)if(Array.isArray(e)){const n=e.map((e=>`<li>${e}</li>`)).join("");$r(t,n)}else"save"===a?t.value=e:$r(t,e)}(async e=>{const t=document.getElementById("lang-select");if(!t)return;t.innerHTML="";const n=await fetch("/locales/index.yaml").then((e=>e.text())),r=Ba.parse(n);for(const s in r.lang){const n=document.createElement("option");n.value=s,n.label=r.lang[s],n.text=r.lang[s],s===e&&(n.selected=!0),t.appendChild(n)}})(e),$r(document.querySelector("head > style#theme"),s),Hr.postMessage({value:n,type:"side"}),Hr.postMessage({value:r,type:"top"})},La=(e="FtmlStorage")=>{const t=localStorage.getItem(e);if(t){const e=JSON.parse(t);if(Qr.value=e.title,Xr.value=e.page,Zr.value=e.side,e.page){const t={source:e.page,vars:{}};new Yr(t).parse().then((()=>{Hr.postMessage({value:t.source,type:"page"})})).catch((e=>{console.error("Parsing failed with error: ",e)}))}if(e.side&&Hr.postMessage({value:e.side,type:"side"}),e.title){const t=document.querySelector("#page-title");t&&(t.innerHTML=e.title)}}},ja=e=>{if(Qr.value=e.title,Xr.value=e.source,Zr.value="",e.source){const t={source:e.source,vars:{}};new Yr(t).parse().then((()=>{Hr.postMessage({value:t.source,type:"page"})})).catch((e=>{console.error("Parsing failed with error: ",e)}))}if(e.title){const t=document.querySelector("#page-title");t&&(t.innerHTML=e.title)}},Ma=bt((e=>{const{target:t}=e;if(!(t instanceof HTMLTextAreaElement))return;const n=Pr(),r={title:Qr.value,page:Xr.value,side:Zr.value},s=n?`FtmlStorage[${n}]`:"FtmlStorage";localStorage.setItem(s,JSON.stringify(r));const o={source:Xr.value,vars:{}};new Yr(o).onEdit(e).then((()=>{Hr.postMessage({value:o.source,type:"page"})})).catch((e=>{console.error("Parsing failed with error: ",e)}))}),1e3),Da=bt((e=>{const{target:t}=e;if(!(t instanceof HTMLTextAreaElement))return;const n=t.value,r=Pr(),s={title:Qr.value,page:Xr.value,side:Zr.value},o=r?`FtmlStorage[${r}]`:"FtmlStorage";localStorage.setItem(o,JSON.stringify(s)),Hr.postMessage({value:n,type:"side"})}),1e3);Xr&&Xr.addEventListener("input",Ma),Zr&&Zr.addEventListener("input",Da),Qr&&Qr.addEventListener("input",(e=>{const{target:t}=e;if(!(t instanceof HTMLInputElement))return;const n=t.value,r=document.querySelector("#page-title");r&&(r.innerHTML=n);const s=Pr(),o={title:Qr.value,page:Xr.value,side:Zr.value},i=s?`FtmlStorage[${s}]`:"FtmlStorage";localStorage.setItem(i,JSON.stringify(o))})),rs&&rs.addEventListener("change",(function(){const e=this.value;Ia(e);const t={lang:e};localStorage.setItem("WPconfig",JSON.stringify(t))})),es&&es.addEventListener("click",(async()=>{const e={suggestedName:Qr.value||"undefined",types:[{description:"Foundation Text Markup Language",accept:{"text/plain":[".ftml"]}}]};try{const t=await window.showSaveFilePicker(e),n=await t.createWritable();await n.write(Xr.value),await n.close()}catch(t){console.log(t)}})),ts&&ts.addEventListener("click",(async()=>{let e=Pr()||Mr();const t=new URL(window.location.href).pathname.split("/").filter((e=>e)),n=document.getElementById("password"),r=document.getElementById("password-encripted");let s=qr(n.value);n&&n.hasAttribute("disabled")&&r&&(s=r.getAttribute("value"));const o={shortid:e,title:Qr.value,source:`'${Xr.value}`,createdby:Dr()};let i=!1;3===t.length&&"share"===t[0]&&"pw"===t[1]?(i=!0,o.password=s,o.pw="true"):2===t.length&&"share"===t[0]?n.value&&(i=!0,e=Mr(),o.password=s,o.pw="true"):n.value&&(i=!0,o.password=s,o.pw="true"),console.debug("Sending data to GAS:",o);try{const t=await async function(e){const t=new URLSearchParams(e).toString();return(await fetch(Kr,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t})).json()}(o);if(t.error){console.error("Error sending data to GAS:",t.error);const e=document.querySelector("#messages");e&&(e.innerHTML=t.error,e.style.padding="1em")}else window.location.href=i?`/share/pw/${e}`:`/share/${e}`}catch(a){console.error("Error sending data to GAS:",a)}})),ns&&ns.addEventListener("click",(async()=>{if(!Pr())return;const e=Pr(),t=await async function(e){return Ur({shortid:e,history:!0})}(e);t.error?console.error(t.error):function(e,t){const n=document.querySelector(".page-history tbody");for(;n?.firstChild;)n.removeChild(n.firstChild);const r=document.createElement("tr");["rev.","","flags","actions","by","date","comments"].forEach((e=>{const t=document.createElement("td");t.innerText=e,r.appendChild(t)})),n?.appendChild(r),t.forEach(((t,r)=>{console.debug(t);const s=document.createElement("tr");s.id=`revision-row-${t.revisionId}`;const o=document.createElement("td");o.innerText=String(r),s.appendChild(o);const i=document.createElement("td");s.appendChild(i);const a=document.createElement("td");a.innerText="N/A",s.appendChild(a);const c=document.createElement("td");c.style.width="5em",c.className="optionstd";const l=document.createElement("a");l.innerText="V",l.dataset.shortId=e,l.dataset.revisionId=t.revisionId.toString(),l.href="javascript:void(0)",l.className="view-link",c.appendChild(l);const u=document.createElement("a");u.innerText="S",u.dataset.shortId=e,u.dataset.revisionId=t.revisionId.toString(),u.href="javascript:void(0)",u.className="source-link",c.appendChild(u),s.appendChild(c);const f=document.createElement("td");f.innerText=t.createdBy,s.appendChild(f);const h=document.createElement("td");h.innerText=new Date(t.createdAt).toLocaleString(),s.appendChild(h);const d=document.createElement("td");d.innerText="N/A",s.appendChild(d),n?.appendChild(s)}))}(e,t.data)})),document.querySelector("head > style#innercss").innerHTML=".wj-clear-float-both{clear:both}table.wiki-content-table,table.wj-table{border-collapse:collapse;border-spacing:0;margin:.5em auto}table.wiki-content-table td,table.wj-table td{border:1px solid #666666;padding:.3em .7em}table.wiki-content-table th,table.wj-table th{border:1px solid #666666;padding:.3em .7em;background-color:#eee}.wj-align-center{text-align:center}.wj-align-left{text-align:left}.wj-align-right{text-align:right}.wj-align-justify{text-align:justify}#toc{margin:1em auto 1em 0;padding:0 .5em;border:1px dashed gray;background-color:#f7f7f7;display:table}#toc .title{font-weight:700;margin:.2em 0;padding:0 2em;text-align:center}#toc #toc-action-bar{padding:2px}#toc-list{margin:.5em 0}#toc.floatright{float:right;margin:1em}#toc.floatleft{float:left;margin:1em}.code,code{border:1px dashed #999999;background-color:#333;font-family:Andale Mono,Courier New,Courier,monospace;padding:0 .7em;margin:1em 0;overflow:auto}.footnote .f-heading,.equation .e-heading,.reference .r-heading{font-weight:700}.footnote .f-content,.reference .r-content{margin:.5em 0}.footnote .f-footer,.equation .e-footer,.reference .r-footer{font-size:90%}.footnotes-footer{margin:0;padding:.5em 0;height:1%}.footnotes-footer .title{margin:.5em 0;font-size:130%;font-weight:700}a.footnoteref{display:inline-block}a#account-topbutton:active+div#account-options,a#account-topbutton:focus+div#account-options{display:block!important}.wj-collapsible[open][data-show-top]>.wj-collapsible-button-top>.wj-collapsible-show-text{display:unset}code,.code{background-color:unset}#page-index{background-color:#f3f3f3;border:1px solid #CCC;padding:.5em 1em;margin:1em 0}.page-source{white-space:pre-wrap}.errors{color:#cc0f35;background:#feecf0;margin:.5em;font-size:1.2rem}\n",document.querySelector("head > style#collapsible").innerHTML=".wj-collapsible-block{display:block;line-height:normal;list-style:none;margin:0;padding:0}.wj-collapsible-block-link.wj-collapsible-block-folded,.wj-collapsible-block.folded>.wj-collapsible-block-folded,.wj-collapsible-block.unfolded>.wj-collapsible-block-unfolded{display:none}.colmod-block>ul,.colmod-block>ul>li{display:block;line-height:normal;list-style:none;margin:0;padding:0}.colmod-block>ul>li>ul,li.folded>.colmod-link-top a+a,li.folded>.colmod-content,li.folded>.colmod-link-end a,li.unfolded>.colmod-link-top a:first-child{display:none}.colmod-content{animation:colmod-fade-in .2s ease-in-out;animation-timing-function:cubic-bezier(.3649610494,0,.6350389506,1)}li.folded>.colmod-content{animation-name:none}@keyframes colmod-fade-in{0%{opacity:0}to{opacity:1}}[class|=colmod-link] div.foldable-list-container{display:inline}.colmod-collapsiblealt>[class|=colmod-link],.collapsiblealt>.colmod-block>ul>li>[class|=colmod-link]{margin:.5em 0;text-align:center}.colmod-collapsiblealt>[class|=colmod-link] a,.collapsiblealt>.colmod-block>ul>li>[class|=colmod-link] a{padding:.1em .5em;text-decoration:none;background-color:#f4f4f4;border:1px solid #aaaaaa;color:#000}.colmod-collapsiblealt>[class|=colmod-link] a:hover,.colmod-collapsiblealt>[class|=colmod-link] a:active,.collapsiblealt>.colmod-block>ul>li>[class|=colmod-link] a:hover,.collapsiblealt>.colmod-block>ul>li>[class|=colmod-link] a:active{background:#dddddd;text-decoration:none}\n",document.querySelector("head > style#init").innerHTML=':root{--colcode-background: #F0F0F2;--colcode-hover: #E8E8ED;--colcode-border: #D2D2D7;--colcode-selection: #3296FF20;--colcode-accent: #1262B5;--colcode-content: #222222;--colcode-comment: #666666;--colcode-commentdoc: #666688;--colcode-punct: #818D94;--colcode-markup: #2269A8;--colcode-link: #64A0FF;--colcode-special: #EC1C12;--colcode-invalid: #FF3214;--colcode-inserted: #54D169;--colcode-changed: #FF9614;--colcode-important: #FFCB6BEE;--colcode-highlight: #C878C8;--colcode-note: #5694D6;--colcode-keyword: #C708FF;--colcode-logical: #C708FF;--colcode-operator: #41B2D1;--colcode-storage: #41B2D1;--colcode-string: #10AB00;--colcode-entity: #10AB00;--colcode-type: #9C8922;--colcode-ident: #005296;--colcode-function: #3394CC;--colcode-constant: #BB5F00;--colcode-property: #EC1C12;--colcode-tag: #EC1C12;--colcode-id: #3394CC;--colcode-class: #10AB00;--colcode-attribute: #FFCB6B}.wj-user-info{display:inline-block}.wj-user-info .wj-user-info-link,.wj-user-info .wj-error-inline{display:inline-flex;align-items:center;text-decoration:none;vertical-align:text-bottom}.wj-user-info-avatar{width:16px;height:16px;padding:0;margin:0}.wj-user-info-avatar+.wj-user-info-name{line-height:16px}.wj-karma,.wj-karma svg{display:inline-block;height:16px;vertical-align:top}:root{--wj-karma-5: rgb(255, 45, 45);--wj-karma-4: rgb(236, 129, 14);--wj-karma-3: rgb(255, 242, 14);--wj-karma-2: rgb(97, 243, 40);--wj-karma-1: rgb(97, 243, 167);--wj-karma-n: rgb(64, 64, 64)}.wj-karma{--wj-karma-5-svg: var(--wj-karma-n);--wj-karma-4-svg: var(--wj-karma-n);--wj-karma-3-svg: var(--wj-karma-n);--wj-karma-2-svg: var(--wj-karma-n);--wj-karma-1-svg: var(--wj-karma-n)}.wj-karma[data-karma="5"]{--wj-karma-5-svg: var(--wj-karma-5);--wj-karma-4-svg: var(--wj-karma-4);--wj-karma-3-svg: var(--wj-karma-3);--wj-karma-2-svg: var(--wj-karma-2);--wj-karma-1-svg: var(--wj-karma-1)}.wj-karma[data-karma="4"]{--wj-karma-4-svg: var(--wj-karma-4);--wj-karma-3-svg: var(--wj-karma-3);--wj-karma-2-svg: var(--wj-karma-2);--wj-karma-1-svg: var(--wj-karma-1)}.wj-karma[data-karma="3"]{--wj-karma-3-svg: var(--wj-karma-3);--wj-karma-2-svg: var(--wj-karma-2);--wj-karma-1-svg: var(--wj-karma-1)}.wj-karma[data-karma="2"]{--wj-karma-2-svg: var(--wj-karma-2);--wj-karma-1-svg: var(--wj-karma-1)}.wj-karma[data-karma="1"]{--wj-karma-1-svg: var(--wj-karma-1)}.printuser img.small{padding:1px 9px 1px 0}.wj-image-container{display:initial}\n',document.addEventListener("DOMContentLoaded",(async()=>{const e=localStorage.getItem("WPconfig"),t=Dr(),n=document.querySelector(".wj-user-info.printuser"),r=document.querySelector("#search-top-box > div");if(n&&n.childNodes.forEach((e=>{3===e.nodeType&&"Default"===e.nodeValue.trim()&&(e.nodeValue=t)})),r){const e=document.createElement("img");e.src=`https://scp.ukwhatn.com/assets/image/layoutSupporter.png?site=wdp&name=${t}&id=0`,r.appendChild(e)}if(e){const t=JSON.parse(e);Ia(t.lang)}else Ia();!function(){const e=document.getElementById("page-index-list");if(e)for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith("FtmlStorage[")){const t=n.match(/\[([^\]]+)\]/)[1],r=JSON.parse(localStorage.getItem(n)).title||"Untitled",s=document.createElement("a");s.href=`/share/${t}`,s.textContent=r,s.target="_blank";const o=document.createElement("li");o.appendChild(s),e.appendChild(o)}}else console.error("page-index-list element not found.")}();const s=new URL(window.location.href).pathname.split("/").filter((e=>e));if(2===s.length&&"share"===s[0]){const e=s[1];try{const t=await Wr(e);t.error?La(`FtmlStorage[${e}]`):ja(t.data)}catch(o){console.error("Error fetching data:",o),La(`FtmlStorage[${e}]`)}}else if(3===s.length&&"share"===s[0]&&"pw"===s[1]){const e=s[2],t=function(e){const t="FtmlPWHash_"+e+"=",n=decodeURIComponent(document.cookie).split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null}(e);let n,r;if(t){r=t;const e=document.getElementById("password"),n=document.getElementById("password-encripted");e&&(e.setAttribute("disabled","disabled"),e.setAttribute("placeholder","パスワード設定済")),n&&n.setAttribute("value",r)}else document.body.style.display="none",n=prompt("パスワードを入力してください"),document.body.style.display="",r=qr(n);try{const t=await async function(e,t){return Ur({shortid:e,password:t,pw:!0})}(e,r);t.error?ja({title:"PASSWORD ERROR",source:"パスワードが間違っています"}):(ja(t.data),function(e,t,n=7){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var s="expires="+r.toUTCString();document.cookie="FtmlPWHash_"+e+"="+t+";"+s+";path=/;Secure;"}(e,r))}catch(o){console.error("Error fetching data:",o)}}else La();document.body.addEventListener("click",(function(e){if(e.target&&"view-link"===e.target.className){if(document.getElementById("page-version-info")){const e=document.getElementById("page-version-info");e.parentNode.removeChild(e)}Vr(e.target.dataset.shortId,e.target.dataset.revisionId)}if(e.target&&"source-link"===e.target.className){!async function(e,t){const n=await zr(e,t);if(n&&n.data){const e=document.getElementById("history-subarea");e&&(e.style.display="block"),Rr(".page-source-title",`Page Source Revision Number: ${n.data.revisionNum}`),Rr(".page-source",n.data.source||"No source available")}}(e.target.dataset.shortId,e.target.dataset.revisionId)}}))}));
//# sourceMappingURL=main-01022aa6.js.map
