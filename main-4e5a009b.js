var e=Object.defineProperty,t=(t,n,s)=>(((t,n,s)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s})(t,"symbol"!=typeof n?n+"":n,s),s);!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class n extends HTMLElement{constructor(){super(),this.addEventListener("keydown",(e=>this.baseKeydownHandler(e))),this.addEventListener("click",(e=>this.baseClickHandler(e)));new MutationObserver((()=>this.baseEnsureAttributes())).observe(this,{attributes:!0})}get disabled(){return this.hasAttribute("disabled")}baseEnsureAttributes(){this.hasAttribute("tab-index")||this.setAttribute("tab-index","0"),this.hasAttribute("role")||this.setAttribute("role","button")}baseKeydownHandler(e){this.disabled||("Enter"===e.key||" "===e.key?(this.click(),e.preventDefault()):this.whenKeydown&&this.whenKeydown(e))}baseClickHandler(e){!this.disabled&&this.whenClicked&&(this.whenClicked(e),e.preventDefault())}connectedCallback(){this.baseEnsureAttributes()}}var s="top",r="bottom",o="right",i="left",a="auto",c=[s,r,o,i],l="start",u="end",f="viewport",h="popper",d=c.reduce((function(e,t){return e.concat([t+"-"+l,t+"-"+u])}),[]),p=[].concat(c,[a]).reduce((function(e,t){return e.concat([t,t+"-"+l,t+"-"+u])}),[]),m=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function g(e){return e?(e.nodeName||"").toLowerCase():null}function y(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function v(e){return e instanceof y(e).Element||e instanceof Element}function b(e){return e instanceof y(e).HTMLElement||e instanceof HTMLElement}function w(e){return"undefined"!=typeof ShadowRoot&&(e instanceof y(e).ShadowRoot||e instanceof ShadowRoot)}const k={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];b(r)&&g(r)&&(Object.assign(r.style,n),Object.keys(s).forEach((function(e){var t=s[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var s=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});b(s)&&g(s)&&(Object.assign(s.style,o),Object.keys(r).forEach((function(e){s.removeAttribute(e)})))}))}},requires:["computeStyles"]};function x(e){return e.split("-")[0]}var E=Math.max,S=Math.min,_=Math.round;function A(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function O(){return!/^((?!chrome|android).)*safari/i.test(A())}function N(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var s=e.getBoundingClientRect(),r=1,o=1;t&&b(e)&&(r=e.offsetWidth>0&&_(s.width)/e.offsetWidth||1,o=e.offsetHeight>0&&_(s.height)/e.offsetHeight||1);var i=(v(e)?y(e):window).visualViewport,a=!O()&&n,c=(s.left+(a&&i?i.offsetLeft:0))/r,l=(s.top+(a&&i?i.offsetTop:0))/o,u=s.width/r,f=s.height/o;return{width:u,height:f,top:l,right:c+u,bottom:l+f,left:c,x:c,y:l}}function C(e){var t=N(e),n=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:s}}function T(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&w(n)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function B(e){return y(e).getComputedStyle(e)}function I(e){return["table","td","th"].indexOf(g(e))>=0}function L(e){return((v(e)?e.ownerDocument:e.document)||window.document).documentElement}function j(e){return"html"===g(e)?e:e.assignedSlot||e.parentNode||(w(e)?e.host:null)||L(e)}function M(e){return b(e)&&"fixed"!==B(e).position?e.offsetParent:null}function D(e){for(var t=y(e),n=M(e);n&&I(n)&&"static"===B(n).position;)n=M(n);return n&&("html"===g(n)||"body"===g(n)&&"static"===B(n).position)?t:n||function(e){var t=/firefox/i.test(A());if(/Trident/i.test(A())&&b(e)&&"fixed"===B(e).position)return null;var n=j(e);for(w(n)&&(n=n.host);b(n)&&["html","body"].indexOf(g(n))<0;){var s=B(n);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return n;n=n.parentNode}return null}(e)||t}function P(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $(e,t,n){return E(e,S(t,n))}function R(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function q(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function F(e){return e.split("-")[1]}var H={top:"auto",right:"auto",bottom:"auto",left:"auto"};function K(e){var t,n=e.popper,a=e.popperRect,c=e.placement,l=e.variation,f=e.offsets,h=e.position,d=e.gpuAcceleration,p=e.adaptive,m=e.roundOffsets,g=e.isFixed,v=f.x,b=void 0===v?0:v,w=f.y,k=void 0===w?0:w,x="function"==typeof m?m({x:b,y:k}):{x:b,y:k};b=x.x,k=x.y;var E=f.hasOwnProperty("x"),S=f.hasOwnProperty("y"),A=i,O=s,N=window;if(p){var C=D(n),T="clientHeight",I="clientWidth";if(C===y(n)&&"static"!==B(C=L(n)).position&&"absolute"===h&&(T="scrollHeight",I="scrollWidth"),c===s||(c===i||c===o)&&l===u)O=r,k-=(g&&C===N&&N.visualViewport?N.visualViewport.height:C[T])-a.height,k*=d?1:-1;if(c===i||(c===s||c===r)&&l===u)A=o,b-=(g&&C===N&&N.visualViewport?N.visualViewport.width:C[I])-a.width,b*=d?1:-1}var j,M=Object.assign({position:h},p&&H),P=!0===m?function(e,t){var n=e.x,s=e.y,r=t.devicePixelRatio||1;return{x:_(n*r)/r||0,y:_(s*r)/r||0}}({x:b,y:k},y(n)):{x:b,y:k};return b=P.x,k=P.y,d?Object.assign({},M,((j={})[O]=S?"0":"",j[A]=E?"0":"",j.transform=(N.devicePixelRatio||1)<=1?"translate("+b+"px, "+k+"px)":"translate3d("+b+"px, "+k+"px, 0)",j)):Object.assign({},M,((t={})[O]=S?k+"px":"",t[A]=E?b+"px":"",t.transform="",t))}var U={passive:!0};var W={left:"right",right:"left",bottom:"top",top:"bottom"};function z(e){return e.replace(/left|right|bottom|top/g,(function(e){return W[e]}))}var V={start:"end",end:"start"};function G(e){return e.replace(/start|end/g,(function(e){return V[e]}))}function J(e){var t=y(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Y(e){return N(L(e)).left+J(e).scrollLeft}function X(e){var t=B(e),n=t.overflow,s=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function Q(e){return["html","body","#document"].indexOf(g(e))>=0?e.ownerDocument.body:b(e)&&X(e)?e:Q(j(e))}function Z(e,t){var n;void 0===t&&(t=[]);var s=Q(e),r=s===(null==(n=e.ownerDocument)?void 0:n.body),o=y(s),i=r?[o].concat(o.visualViewport||[],X(s)?s:[]):s,a=t.concat(i);return r?a:a.concat(Z(j(i)))}function ee(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function te(e,t,n){return t===f?ee(function(e,t){var n=y(e),s=L(e),r=n.visualViewport,o=s.clientWidth,i=s.clientHeight,a=0,c=0;if(r){o=r.width,i=r.height;var l=O();(l||!l&&"fixed"===t)&&(a=r.offsetLeft,c=r.offsetTop)}return{width:o,height:i,x:a+Y(e),y:c}}(e,n)):v(t)?function(e,t){var n=N(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ee(function(e){var t,n=L(e),s=J(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=E(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),i=E(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+Y(e),c=-s.scrollTop;return"rtl"===B(r||n).direction&&(a+=E(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:i,x:a,y:c}}(L(e)))}function ne(e,t,n,s){var r="clippingParents"===t?function(e){var t=Z(j(e)),n=["absolute","fixed"].indexOf(B(e).position)>=0&&b(e)?D(e):e;return v(n)?t.filter((function(e){return v(e)&&T(e,n)&&"body"!==g(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=te(e,n,s);return t.top=E(r.top,t.top),t.right=S(r.right,t.right),t.bottom=S(r.bottom,t.bottom),t.left=E(r.left,t.left),t}),te(e,i,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function se(e){var t,n=e.reference,a=e.element,c=e.placement,f=c?x(c):null,h=c?F(c):null,d=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2;switch(f){case s:t={x:d,y:n.y-a.height};break;case r:t={x:d,y:n.y+n.height};break;case o:t={x:n.x+n.width,y:p};break;case i:t={x:n.x-a.width,y:p};break;default:t={x:n.x,y:n.y}}var m=f?P(f):null;if(null!=m){var g="y"===m?"height":"width";switch(h){case l:t[m]=t[m]-(n[g]/2-a[g]/2);break;case u:t[m]=t[m]+(n[g]/2-a[g]/2)}}return t}function re(e,t){void 0===t&&(t={});var n=t,i=n.placement,a=void 0===i?e.placement:i,l=n.strategy,u=void 0===l?e.strategy:l,d=n.boundary,p=void 0===d?"clippingParents":d,m=n.rootBoundary,g=void 0===m?f:m,y=n.elementContext,b=void 0===y?h:y,w=n.altBoundary,k=void 0!==w&&w,x=n.padding,E=void 0===x?0:x,S=R("number"!=typeof E?E:q(E,c)),_=b===h?"reference":h,A=e.rects.popper,O=e.elements[k?_:b],C=ne(v(O)?O:O.contextElement||L(e.elements.popper),p,g,u),T=N(e.elements.reference),B=se({reference:T,element:A,strategy:"absolute",placement:a}),I=ee(Object.assign({},A,B)),j=b===h?I:T,M={top:C.top-j.top+S.top,bottom:j.bottom-C.bottom+S.bottom,left:C.left-j.left+S.left,right:j.right-C.right+S.right},D=e.modifiersData.offset;if(b===h&&D){var P=D[a];Object.keys(M).forEach((function(e){var t=[o,r].indexOf(e)>=0?1:-1,n=[s,r].indexOf(e)>=0?"y":"x";M[e]+=P[n]*t}))}return M}function oe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ie(e){return[s,o,r,i].some((function(t){return e[t]>=0}))}function ae(e,t,n){void 0===n&&(n=!1);var s,r,o=b(t),i=b(t)&&function(e){var t=e.getBoundingClientRect(),n=_(t.width)/e.offsetWidth||1,s=_(t.height)/e.offsetHeight||1;return 1!==n||1!==s}(t),a=L(t),c=N(e,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==g(t)||X(a))&&(l=(s=t)!==y(s)&&b(s)?{scrollLeft:(r=s).scrollLeft,scrollTop:r.scrollTop}:J(s)),b(t)?((u=N(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Y(a))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function ce(e){var t=new Map,n=new Set,s=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var s=t.get(e);s&&r(s)}})),s.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),s}var le={placement:"bottom",modifiers:[],strategy:"absolute"};function ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function fe(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,s=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?le:r;return function(e,t,n){void 0===n&&(n=o);var r,i,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},le,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:function(n){var r="function"==typeof n?n(a.options):n;f(),a.options=Object.assign({},o,a.options,r),a.scrollParents={reference:v(e)?Z(e):e.contextElement?Z(e.contextElement):[],popper:Z(t)};var i,l,h=function(e){var t=ce(e);return m.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(s,a.options.modifiers),l=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return a.orderedModifiers=h.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,s=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:a,name:t,instance:u,options:s}),i=function(){};c.push(o||i)}})),u.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(ue(t,n)){a.rects={reference:ae(t,D(n),"fixed"===a.options.strategy),popper:C(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var s=0;s<a.orderedModifiers.length;s++)if(!0!==a.reset){var r=a.orderedModifiers[s],o=r.fn,i=r.options,c=void 0===i?{}:i,f=r.name;"function"==typeof o&&(a=o({state:a,options:c,name:f,instance:u})||a)}else a.reset=!1,s=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return i||(i=new Promise((function(e){Promise.resolve().then((function(){i=void 0,e(r())}))}))),i}),destroy:function(){f(),l=!0}};if(!ue(e,t))return u;function f(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var he=fe({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,s=e.options,r=s.scroll,o=void 0===r||r,i=s.resize,a=void 0===i||i,c=y(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,U)})),a&&c.addEventListener("resize",n.update,U),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,U)})),a&&c.removeEventListener("resize",n.update,U)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=se({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,s=n.gpuAcceleration,r=void 0===s||s,o=n.adaptive,i=void 0===o||o,a=n.roundOffsets,c=void 0===a||a,l={placement:x(t.placement),variation:F(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,K(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,K(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},k,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,c=void 0===a?[0,0]:a,l=p.reduce((function(e,n){return e[n]=function(e,t,n){var r=x(e),a=[i,s].indexOf(r)>=0?-1:1,c="function"==typeof n?n(Object.assign({},t,{placement:e})):n,l=c[0],u=c[1];return l=l||0,u=(u||0)*a,[i,o].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}(n,t.rects,c),e}),{}),u=l[t.placement],f=u.x,h=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=l}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,u=e.name;if(!t.modifiersData[u]._skip){for(var f=n.mainAxis,h=void 0===f||f,m=n.altAxis,g=void 0===m||m,y=n.fallbackPlacements,v=n.padding,b=n.boundary,w=n.rootBoundary,k=n.altBoundary,E=n.flipVariations,S=void 0===E||E,_=n.allowedAutoPlacements,A=t.options.placement,O=x(A),N=y||(O===A||!S?[z(A)]:function(e){if(x(e)===a)return[];var t=z(e);return[G(e),t,G(t)]}(A)),C=[A].concat(N).reduce((function(e,n){return e.concat(x(n)===a?function(e,t){void 0===t&&(t={});var n=t,s=n.placement,r=n.boundary,o=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?p:l,f=F(s),h=f?a?d:d.filter((function(e){return F(e)===f})):c,m=h.filter((function(e){return u.indexOf(e)>=0}));0===m.length&&(m=h);var g=m.reduce((function(t,n){return t[n]=re(e,{placement:n,boundary:r,rootBoundary:o,padding:i})[x(n)],t}),{});return Object.keys(g).sort((function(e,t){return g[e]-g[t]}))}(t,{placement:n,boundary:b,rootBoundary:w,padding:v,flipVariations:S,allowedAutoPlacements:_}):n)}),[]),T=t.rects.reference,B=t.rects.popper,I=new Map,L=!0,j=C[0],M=0;M<C.length;M++){var D=C[M],P=x(D),$=F(D)===l,R=[s,r].indexOf(P)>=0,q=R?"width":"height",H=re(t,{placement:D,boundary:b,rootBoundary:w,altBoundary:k,padding:v}),K=R?$?o:i:$?r:s;T[q]>B[q]&&(K=z(K));var U=z(K),W=[];if(h&&W.push(H[P]<=0),g&&W.push(H[K]<=0,H[U]<=0),W.every((function(e){return e}))){j=D,L=!1;break}I.set(D,W)}if(L)for(var V=function(e){var t=C.find((function(t){var n=I.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},J=S?3:1;J>0;J--){if("break"===V(J))break}t.placement!==j&&(t.modifiersData[u]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,c=n.mainAxis,u=void 0===c||c,f=n.altAxis,h=void 0!==f&&f,d=n.boundary,p=n.rootBoundary,m=n.altBoundary,g=n.padding,y=n.tether,v=void 0===y||y,b=n.tetherOffset,w=void 0===b?0:b,k=re(t,{boundary:d,rootBoundary:p,padding:g,altBoundary:m}),_=x(t.placement),A=F(t.placement),O=!A,N=P(_),T="x"===N?"y":"x",B=t.modifiersData.popperOffsets,I=t.rects.reference,L=t.rects.popper,j="function"==typeof w?w(Object.assign({},t.rects,{placement:t.placement})):w,M="number"==typeof j?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,q={x:0,y:0};if(B){if(u){var H,K="y"===N?s:i,U="y"===N?r:o,W="y"===N?"height":"width",z=B[N],V=z+k[K],G=z-k[U],J=v?-L[W]/2:0,Y=A===l?I[W]:L[W],X=A===l?-L[W]:-I[W],Q=t.elements.arrow,Z=v&&Q?C(Q):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[K],ne=ee[U],se=$(0,I[W],Z[W]),oe=O?I[W]/2-J-se-te-M.mainAxis:Y-se-te-M.mainAxis,ie=O?-I[W]/2+J+se+ne+M.mainAxis:X+se+ne+M.mainAxis,ae=t.elements.arrow&&D(t.elements.arrow),ce=ae?"y"===N?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(H=null==R?void 0:R[N])?H:0,ue=z+ie-le,fe=$(v?S(V,z+oe-le-ce):V,z,v?E(G,ue):G);B[N]=fe,q[N]=fe-z}if(h){var he,de="x"===N?s:i,pe="x"===N?r:o,me=B[T],ge="y"===T?"height":"width",ye=me+k[de],ve=me-k[pe],be=-1!==[s,i].indexOf(_),we=null!=(he=null==R?void 0:R[T])?he:0,ke=be?ye:me-I[ge]-L[ge]-we+M.altAxis,xe=be?me+I[ge]+L[ge]-we-M.altAxis:ve,Ee=v&&be?(_e=$(ke,me,Se=xe))>Se?Se:_e:$(v?ke:ye,me,v?xe:ve);B[T]=Ee,q[T]=Ee-me}var Se,_e;t.modifiersData[a]=q}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,l=e.options,u=n.elements.arrow,f=n.modifiersData.popperOffsets,h=x(n.placement),d=P(h),p=[i,o].indexOf(h)>=0?"height":"width";if(u&&f){var m=function(e,t){return R("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:q(e,c))}(l.padding,n),g=C(u),y="y"===d?s:i,v="y"===d?r:o,b=n.rects.reference[p]+n.rects.reference[d]-f[d]-n.rects.popper[p],w=f[d]-n.rects.reference[d],k=D(u),E=k?"y"===d?k.clientHeight||0:k.clientWidth||0:0,S=b/2-w/2,_=m[y],A=E-g[p]-m[v],O=E/2-g[p]/2+S,N=$(_,O,A),T=d;n.modifiersData[a]=((t={})[T]=N,t.centerOffset=N-O,t)}},effect:function(e){var t=e.state,n=e.options.element,s=void 0===n?"[data-popper-arrow]":n;null!=s&&("string"!=typeof s||(s=t.elements.popper.querySelector(s)))&&T(t.elements.popper,s)&&(t.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,s=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,i=re(t,{elementContext:"reference"}),a=re(t,{altBoundary:!0}),c=oe(i,s),l=oe(a,r,o),u=ie(c),f=ie(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}}]});let de;globalThis.idleCallbackShim=function(){var e,t,n,s,r=globalThis.window?globalThis.window:globalThis,o=r.cancelRequestAnimationFrame&&r.requestAnimationFrame||setTimeout,i=r.cancelRequestAnimationFrame||clearTimeout,a=[],c=0,l=!1,u=7,f=35,h=125,d=0,p=0,m=0,g={get didTimeout(){return!1},timeRemaining:function(){var e=u-(performance.now()-p);return Math.max(0,e)}},y=v((function(){u=22,h=66,f=0}));function v(e){var t,n,s=99,r=function(){var o=performance.now()-n;o<s?t=setTimeout(r,s-o):(t=null,e())};return function(){n=performance.now(),t||(t=setTimeout(r,s))}}function b(){l&&(s&&i(s),n&&clearTimeout(n),l=!1)}function w(){125!=h&&(u=7,h=125,f=35,l&&(b(),E())),y()}function k(){s=null,n=setTimeout(S,0)}function x(){n=null,o(k)}function E(){l||(t=h-(performance.now()-p),e=performance.now(),l=!0,f&&t<f&&(t=f),t>9?n=setTimeout(x,t):(t=0,x()))}function S(){var s,r,o,i=u>9?9:1;if(p=performance.now(),l=!1,n=null,c>2||p-t-50<e)for(r=0,o=a.length;r<o&&g.timeRemaining()>i;r++)s=a.shift(),m++,s&&s(g);a.length?E():c=0}function _(e){return d++,a.push(e),E(),d}function A(e){var t=e-1-m;a[t]&&(a[t]=null)}if(r.requestIdleCallback&&r.cancelIdleCallback)try{r.requestIdleCallback((function(){}),{timeout:0})}catch(O){!function(e){var t,n;if(r.requestIdleCallback=function(t,n){return n&&"number"==typeof n.timeout?e(t,n.timeout):e(t)},r.IdleCallbackDeadline&&(t=IdleCallbackDeadline.prototype)){if(!(n=Object.getOwnPropertyDescriptor(t,"timeRemaining"))||!n.configurable||!n.get)return;Object.defineProperty(t,"timeRemaining",{value:function(){return n.get.call(this)},enumerable:!0,configurable:!0})}}(r.requestIdleCallback)}else r.requestIdleCallback=_,r.cancelIdleCallback=A,r!==globalThis&&(globalThis.requestIdleCallback=_,globalThis.cancelIdleCallback=A),r.document&&document.addEventListener&&(r.addEventListener("scroll",w,!0),r.addEventListener("resize",w),document.addEventListener("focus",w,!0),document.addEventListener("mouseover",w,!0),["click","keypress","touchstart","mousedown"].forEach((function(e){document.addEventListener(e,w,{capture:!0,passive:!0})})),r.MutationObserver&&new MutationObserver(w).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));return{request:_,cancel:A}}();try{de=new DOMParser}catch{}class pe{constructor(e,t,n=!0){this.reset(e,t),n||this.clear()}get running(){return void 0!==this.timeout}then(e){return this.promise.then(e)}remaining(){if(!this.ends||!this.started)return 0;const e=this.ends.getTime()-(new Date).getTime();return e>0?e:0}expired(){return void 0===this.timeout}clear(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}extend(e){this.expired()||this.reset(this.remaining()+e)}reset(e,t){if(t&&"function"!=typeof t)throw console.error("Avoided potential string eval in timeout!"),new Error("Timeout callback must be a function");!this.expired()&&this.promise||(this.promise=new Promise((e=>{this.promiseResolve=e}))),"number"==typeof e?this.delay=e:null===e&&(this.delay=0),t?this.cb=()=>{const e=t();this.value=e,this.promiseResolve(e)}:null===t&&(this.cb=void 0),this.expired()&&(this.started=new Date),this.ends=new Date(this.started.getTime()+this.delay),this.value=void 0,this.clear(),this.timeout=setTimeout((()=>{this.cb&&this.cb(),this.timeout=void 0}),this.delay)}}function me(e,t){return new pe(e,t)}function ge(e){e&&e.clear()}const ye=Symbol("timedout");async function ve(e,t){const n=me(t,(()=>ye)),s=await Promise.race([e,n.promise]);return s!==ye&&n.clear(),s}function be(e){return new Promise(e?t=>requestAnimationFrame((()=>{const n=e();n instanceof Promise?n.then((e=>t(e))):t(n)})):e=>requestAnimationFrame((()=>e())))}new TextDecoder,new TextEncoder;const we="function"==typeof globalThis.matchMedia?matchMedia("(any-hover: hover), (hover: hover)"):{matches:!0};class ke{constructor(e,n){t(this,"hovered",!1),t(this,"focused",!1),this.target=e,this.opts=n,this.pointerover=this.pointerover.bind(this),this.pointerout=this.pointerout.bind(this),this.focusin=this.focusin.bind(this),this.focusout=this.focusout.bind(this),this.move=this.move.bind(this),e.addEventListener("pointerover",this.pointerover,{passive:!0}),e.addEventListener("pointerout",this.pointerout,{passive:!0}),e.addEventListener("focusin",this.focusin,{passive:!0}),e.addEventListener("focusout",this.focusout,{passive:!0}),e.addEventListener("pointermove",this.move,{passive:!0})}pointerover(e){we.matches&&(this.sameTree(e)||(this.hovered=!0,this.opts.on&&!this.focused&&this.opts.on()))}pointerout(e){(this.hovered||we.matches)&&(this.sameTree(e)||(this.hovered=!1,this.opts.off&&!this.focused&&this.opts.off()))}focusin(e){this.opts.alsoOnFocus&&(this.focused&&this.sameTree(e)||(this.focused=!0,this.opts.on&&!this.hovered&&this.opts.on()))}focusout(e){this.opts.alsoOnFocus&&(this.sameTree(e)||(this.focused=!1,this.opts.off&&!this.hovered&&this.opts.off()))}move(){this.opts.move&&this.opts.move()}sameTree(e){return this.target.contains(e.relatedTarget)}update(e){this.opts=e}destroy(){this.target.removeEventListener("pointerover",this.pointerover),this.target.removeEventListener("pointerout",this.pointerout),this.target.removeEventListener("focusin",this.focusin),this.target.removeEventListener("focusout",this.focusout),this.target.removeEventListener("pointermove",this.move)}}class xe extends n{baseWhenHovered(){if(!this.disabled){if(this.whenHovered){if(!1===this.whenHovered())return}this.tooltip.classList.add("is-hovered"),this.popperInstance||(this.popperInstance=he(this.parent,this.tooltip,{placement:"bottom"}))}}baseWhenUnhovered(){this.disabled&&!this.tooltip.classList.contains("is-hovered")||(this.whenUnhovered&&this.whenUnhovered(),this.tooltip.classList.remove("is-hovered"),this.popperInstance&&(this.offTimer=me(100,(()=>{this.popperInstance.destroy(),this.popperInstance=void 0}))))}connectedCallback(){super.connectedCallback(),this.hoverObserver=new ke(this.parent,{on:()=>{ge(this.offTimer),this.onTimer=me(50,(()=>this.baseWhenHovered()))},off:()=>{ge(this.onTimer),this.offTimer=me(50,(()=>this.baseWhenUnhovered()))}})}disconnectedCallback(){this.hoverObserver.destroy(),ge(this.onTimer),ge(this.offTimer)}}function Ee(e,t){customElements.get(e.tag)||customElements.define(e.tag,e),t&&(globalThis[t]=e)}const Se={childList:!0,subtree:!0,attributes:!0,characterData:!0};function _e(e,t){const n=new MutationObserver(t);return n.observe(e,Se),n}function Ae(e,t,n){const s=n.value;if("AsyncFunction"===s.constructor.name){let e=0;n.value=async function(...t){this.observer.disconnect(),e++;const n=await s.apply(this,t);return e--,e||this.observer.observe(this,Se),n}}else n.value=function(...e){this.observer.disconnect();const t=s.apply(this,e);return this.observer.observe(this,Se),t}}var Oe,Ne;(Ne=Oe||(Oe={})).mouseX=0,Ne.mouseY=0,Ne.scroll=0,Ne.isMobile=/Mobi|Android/i.test(navigator.userAgent),window.addEventListener("mousemove",(e=>{Ne.mouseX=e.clientX/window.innerWidth,Ne.mouseY=e.clientY/window.innerHeight})),window.addEventListener("scroll",(()=>{Ne.scroll=document.documentElement.scrollTop/(document.body.scrollHeight-window.innerHeight)}));
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const Ce=Symbol("Comlink.proxy"),Te=Symbol("Comlink.endpoint"),Be=Symbol("Comlink.releaseProxy"),Ie=Symbol("Comlink.finalizer"),Le=Symbol("Comlink.thrown"),je=e=>"object"==typeof e&&null!==e||"function"==typeof e,Me=new Map([["proxy",{canHandle:e=>je(e)&&e[Ce],serialize(e){const{port1:t,port2:n}=new MessageChannel;return De(e,t),[n,[n]]},deserialize:e=>(e.start(),$e(e))}],["throw",{canHandle:e=>je(e)&&Le in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function De(e,t=globalThis,n=["*"]){t.addEventListener("message",(function s(r){if(!r||!r.data)return;if(!function(e,t){for(const n of e){if(t===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}return!1}(n,r.origin))return void console.warn(`Invalid origin '${r.origin}' for comlink proxy`);const{id:o,type:i,path:a}=Object.assign({path:[]},r.data),c=(r.data.argumentList||[]).map(Ve);let l;try{const t=a.slice(0,-1).reduce(((e,t)=>e[t]),e),n=a.reduce(((e,t)=>e[t]),e);switch(i){case"GET":l=n;break;case"SET":t[a.slice(-1)[0]]=Ve(r.data.value),l=!0;break;case"APPLY":l=n.apply(t,c);break;case"CONSTRUCT":l=function(e){return Object.assign(e,{[Ce]:!0})}(new n(...c));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;De(e,n),l=function(e,t){return We.set(e,t),e}(t,[t])}break;case"RELEASE":l=void 0;break;default:return}}catch(u){l={value:u,[Le]:0}}Promise.resolve(l).catch((e=>({value:e,[Le]:0}))).then((n=>{const[r,a]=ze(n);t.postMessage(Object.assign(Object.assign({},r),{id:o}),a),"RELEASE"===i&&(t.removeEventListener("message",s),Pe(t),Ie in e&&"function"==typeof e[Ie]&&e[Ie]())})).catch((e=>{const[n,s]=ze({value:new TypeError("Unserializable return value"),[Le]:0});t.postMessage(Object.assign(Object.assign({},n),{id:o}),s)}))})),t.start&&t.start()}function Pe(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function $e(e,t){const n=new Map;return e.addEventListener("message",(function(e){const{data:t}=e;if(!t||!t.id)return;const s=n.get(t.id);if(s)try{s(t)}finally{n.delete(t.id)}})),Ke(e,n,[],t)}function Re(e){if(e)throw new Error("Proxy has been released and is not useable")}function qe(e){return Ge(e,new Map,{type:"RELEASE"}).then((()=>{Pe(e)}))}const Fe=new WeakMap,He="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(Fe.get(e)||0)-1;Fe.set(e,t),0===t&&qe(e)}));function Ke(e,t,n=[],s=function(){}){let r=!1;const o=new Proxy(s,{get(s,i){if(Re(r),i===Be)return()=>{!function(e){He&&He.unregister(e)}(o),qe(e),t.clear(),r=!0};if("then"===i){if(0===n.length)return{then:()=>o};const s=Ge(e,t,{type:"GET",path:n.map((e=>e.toString()))}).then(Ve);return s.then.bind(s)}return Ke(e,t,[...n,i])},set(s,o,i){Re(r);const[a,c]=ze(i);return Ge(e,t,{type:"SET",path:[...n,o].map((e=>e.toString())),value:a},c).then(Ve)},apply(s,o,i){Re(r);const a=n[n.length-1];if(a===Te)return Ge(e,t,{type:"ENDPOINT"}).then(Ve);if("bind"===a)return Ke(e,t,n.slice(0,-1));const[c,l]=Ue(i);return Ge(e,t,{type:"APPLY",path:n.map((e=>e.toString())),argumentList:c},l).then(Ve)},construct(s,o){Re(r);const[i,a]=Ue(o);return Ge(e,t,{type:"CONSTRUCT",path:n.map((e=>e.toString())),argumentList:i},a).then(Ve)}});return function(e,t){const n=(Fe.get(t)||0)+1;Fe.set(t,n),He&&He.register(e,t,e)}(o,e),o}function Ue(e){const t=e.map(ze);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const We=new WeakMap;function ze(e){for(const[t,n]of Me)if(n.canHandle(e)){const[s,r]=n.serialize(e);return[{type:"HANDLER",name:t,value:s},r]}return[{type:"RAW",value:e},We.get(e)||[]]}function Ve(e){switch(e.type){case"HANDLER":return Me.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Ge(e,t,n,s){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.set(o,r),e.start&&e.start(),e.postMessage(Object.assign({id:o},n),s)}))}function Je(e){e[Be]&&e[Be]()}class Ye{constructor(){t(this,"_baseDefaults"),t(this,"_baseMethodTimeout"),t(this,"_workerInstance")}static of(e){const t=class extends Ye{};for(const n of e)t.prototype[n]=async function(...e){if(this.starting&&await this.starting,this.worker||await this.start(),!this.worker)return await this._baseTryToGetDefault(n,e);if(0!==this._baseMethodTimeout){const t=await ve(this.worker[n](...e),this._baseMethodTimeout??5e3);if(t!==ye)return t;throw this.stop(),new Error(`Method "${n}" timed out!`)}};return t}async _baseTryToGetDefault(e,t){if(!this._baseDefaults||!this._baseDefaults.hasOwnProperty(e))throw this.worker?new Error(`Method "${e}" could not be called!`):new Error("Worker could not be started!");const n=this._baseDefaults[e];return"function"==typeof n?await n.apply(this,t):n}get loaded(){return Boolean(this.worker)}async start(e){if(!e&&this.worker)return;if(this.starting&&(await this.starting,this.starting=void 0,!e))return;const t=[this.worker,this._workerInstance],n=this._baseGetWorker();n instanceof Promise&&(this.starting=n.then());const s=await n;s&&(s instanceof Worker?(this.worker=$e(s),this._workerInstance=s):(this.worker=s,this._workerInstance=void 0),this._baseInitalize&&await this._baseInitalize(),t[0]&&Je(t[0]),t[1]&&t[1].terminate(),this.starting=void 0)}stop(){this.worker&&Je(this.worker),this._workerInstance&&this._workerInstance.terminate(),this.worker=void 0,this._workerInstance=void 0}}class Xe extends(Ye.of(["disableWorkerMessageHandler","getLanguages","highlight","manual"])){_baseGetWorker(){return new Worker(new URL("/worker-ec6eb34b.js",self.location),{type:"module"})}}const Qe=new Xe;var Ze=Object.defineProperty,et=Object.getOwnPropertyDescriptor;class tt extends HTMLElement{constructor(){super(),this.language=null,this.content="",this.observer=_e(this,(()=>this.update()))}getLanguageFromClass(){const e=Array.from(this.classList);for(const t of e)if(t.startsWith("wj-language-"))return t.substring(12);return null}async update(){const e=this.querySelector("code");if(!e)return;const t=this.getLanguageFromClass();t?await be((async()=>{const n=e.innerText;this.html&&this.content===n&&this.language===t||(this.language=t,this.content=n,this.html=await Qe.highlight(n,t)),await be((()=>e.innerHTML=this.html))})):this.language&&(this.language=null,await be((()=>{this.content=e.innerText,this.html=this.content,e.innerHTML=this.content})))}connectedCallback(){this.update()}}t(tt,"tag","wj-code"),((e,t,n,s)=>{for(var r,o=s>1?void 0:s?et(t,n):t,i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s?r(t,n,o):r(o))||o);s&&o&&Ze(t,n,o)})([Ae],tt.prototype,"update",1);class nt extends n{whenClicked(){const e=this.closest(".wj-code")?.querySelector("code");if(!e)return;const t=e.innerText;navigator.clipboard.writeText(t).then((()=>{this.classList.add("wj-code-copy-success"),me(1e3,(()=>this.classList.remove("wj-code-copy-success")))}))}}t(nt,"tag","wj-code-copy"),Ee(tt,"CodeElement"),Ee(nt,"CodeCopyElement");class st extends n{get details(){const e=this.closest("details.wj-collapsible");if(!e)throw new Error("No details found");return e}whenClicked(){this.details.removeAttribute("open")}}t(st,"tag","wj-collapsible-button-bottom"),Ee(st,"CollapsibleBottomButtonElement");class rt extends xe{get parent(){if(!this.parentElement)throw new Error("No parent element");return this.parentElement}get tooltip(){const e=this.parent.querySelector(".wj-footnote-ref-tooltip");if(!e)throw new Error("No contents element");return e}whenClicked(){const e=this.findFootnote();e.scrollIntoView(),e.focus()}findFootnote(){const e=this.closest(".wj-body");if(!e)throw new Error("No parent body");const t=parseInt(this.dataset.id??"0",10),n=e.querySelector(`.wj-footnote-list-item[data-id="${t}"]`);if(!n)throw new Error("No footnote");return n}}t(rt,"tag","wj-footnote-ref-marker");class ot extends n{whenClicked(){const e=this.findFootnote();e.scrollIntoView(),e.focus()}findFootnote(){const e=this.closest(".wj-body");if(!e)throw new Error("No parent body");const t=parseInt(this.parentElement?.dataset.id??"0",10),n=e.querySelector(`.wj-footnote-ref-marker[data-id="${t}"]`);if(!n)throw new Error("No footnote");return n}}t(ot,"tag","wj-footnote-list-item-marker"),Ee(rt,"FootnoteRefMarkerElement"),Ee(ot,"FootnoteListMarkerElement");const it={};var at=Object.defineProperty,ct=Object.getOwnPropertyDescriptor;const lt=!function(){let e,t=document.createElement("div");return t.innerHTML="<math><mspace height='23px' width='77px'/></math>",document.body.appendChild(t),e=t.firstChild.firstChild.getBoundingClientRect(),document.body.removeChild(t),Math.abs(e.height-23)<=1&&Math.abs(e.width-77)<=1}();let ut=null;lt&&(ut=(async()=>(await function(e,t,n){if(!t||0===t.length)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in it)return;it[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(n)for(let n=s.length-1;n>=0;n--){const r=s[n];if(r.href===e&&(!t||"stylesheet"===r.rel))return}else if(document.querySelector(`link[href="${e}"]${r}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))}((()=>import("./hfmath-279bb214.js")),[])).hfmath)());class ft extends HTMLElement{constructor(){if(super(),!lt)throw new Error("shouldn't have been created if no polyfill was needed");this.root=this.attachShadow({mode:"open"}),this.container=document.createElement("span"),this.container.setAttribute("style","display: inline-block;"),this.container.setAttribute("aria-hidden","true"),this.root.appendChild(this.container),this.root.append(document.createElement("slot")),this.observer=_e(this,(()=>this.update()))}get sourceLatex(){return this.parentElement?.querySelector(".wj-math-source")?.innerText}async update(){this.classList.add("wj-math-ml-polyfilled");const e=await be((()=>this.sourceLatex));if(e)try{const t=await ut;await be((()=>{const n=new t(e).svg({SCALE_X:7.5,SCALE_Y:7.5,MARGIN_X:0,MARGIN_Y:0});this.container.innerHTML=n;this.container.querySelector("svg").setAttribute("style","vertical-align: text-bottom; stroke: currentColor;")}))}catch(t){const e=t instanceof Error?t.message:"unknown error",n=document.createElement("span");n.setAttribute("class",`wj-error-${this.display}`),n.innerText=e,this.container.innerHTML="",this.container.append(n)}}connectedCallback(){this.display="DIV"===this.parentElement?.tagName?"block":"inline",this.update()}}t(ft,"tag","wj-math-ml"),((e,t,n,s)=>{for(var r,o=s>1?void 0:s?ct(t,n):t,i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s?r(t,n,o):r(o))||o);s&&o&&at(t,n,o)})([Ae],ft.prototype,"update",1);class ht extends xe{get parent(){if(!this.parentElement)throw new Error("No parent element");return this.parentElement}get tooltip(){const e=this.parent.querySelector(".wj-equation-ref-tooltip");if(!e)throw new Error("No tooltip element");return e}whenClicked(){const e=this.getUpdatedEquation();e&&(e.scrollIntoView({block:"center"}),e.focus())}whenHovered(){if(!this.getUpdatedEquation())return!1}getUpdatedEquation(){const e=this.getAttribute("data-name");if(!e)return this.classList.toggle("is-no-equation",!0),null;const t=this.closest(".wj-body")?.querySelector(`.wj-math[data-name="${e}"]`);if(!t)return this.classList.toggle("is-no-equation",!0),null;const n=t.querySelector(".wj-math-source").cloneNode(!0),s=t.querySelector(".wj-math-ml").cloneNode(!0);return this.tooltip.replaceChildren(n,s),this.classList.toggle("is-no-equation",!1),t}connectedCallback(){super.connectedCallback(),this.getUpdatedEquation()}}t(ht,"tag","wj-equation-ref-marker"),lt&&Ee(ft,"MathElement"),Ee(ht,"EquationRefMarkerElement");var dt=Object.defineProperty,pt=Object.getOwnPropertyDescriptor;class mt extends HTMLElement{static get observedAttributes(){return["panel-selected"]}constructor(){super(),this.observer=_e(this,(()=>this.update()))}get buttons(){const e=this.querySelector(".wj-tabs-button-list");if(!e)throw new Error("No button list found");return Array.from(e.querySelectorAll(".wj-tabs-button"))}get tabs(){const e=this.querySelector(".wj-tabs-panel-list");if(!e)throw new Error("No panel list found");const t=Array.from(e.children);return this.buttons.map(((e,n)=>[e,t[n]]))}update(){if(!this.hasAttribute("panel-selected")){let e=0;this.buttons.forEach(((t,n)=>{"true"===t.getAttribute("aria-selected")&&(e=n)})),this.setAttribute("panel-selected",String(e))}const e=parseInt(this.getAttribute("panel-selected"),10);this.tabs.forEach((([t,n],s)=>{s===e?(t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"),n.removeAttribute("hidden")):(t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1"),n.setAttribute("hidden","true"))}))}connectedCallback(){this.update()}attributeChangedCallback(){this.update()}}t(mt,"tag","wj-tabs"),((e,t,n,s)=>{for(var r,o=s>1?void 0:s?pt(t,n):t,i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s?r(t,n,o):r(o))||o);s&&o&&dt(t,n,o)})([Ae],mt.prototype,"update",1);class gt extends n{get parent(){const e=this.closest(".wj-tabs-button-list");if(!e)throw new Error("No button list found");return e}get index(){return Array.from(this.parent.children).indexOf(this)}whenClicked(){const e=this.closest(".wj-tabs");if(!e)throw new Error("No tabview found");e.setAttribute("panel-selected",String(this.index))}whenKeydown(e){if(["ArrowRight","ArrowLeft","Home","End"].includes(e.key)){const t=this.relativeList();switch(e.key){case"ArrowRight":t.next.focus();break;case"ArrowLeft":t.prev.focus();break;case"Home":t.start.focus();break;case"End":t.end.focus()}e.preventDefault()}}relativeList(){const e=Array.from(this.parent.children),t=e.indexOf(this);return{start:e[0],end:e[e.length-1],prev:e[t-1],next:e[t+1]}}}t(gt,"tag","wj-tabs-button"),Ee(mt,"TabviewElement"),Ee(gt,"TabviewButtonElement");function yt(e,t,n){var s,r,o;void 0===t&&(t=50),void 0===n&&(n={});var i=null!=(s=n.isImmediate)&&s,a=null!=(r=n.callback)&&r,c=n.maxWait,l=Date.now(),u=[];var f=function(){var n=[].slice.call(arguments),s=this;return new Promise((function(r,f){var h=i&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout((function(){if(o=void 0,l=Date.now(),!i){var t=e.apply(s,n);a&&a(t),u.forEach((function(e){return(0,e.resolve)(t)})),u=[]}}),function(){if(void 0!==c){var e=Date.now()-l;if(e+t>=c)return c-e}return t}()),h){var d=e.apply(s,n);return a&&a(d),r(d)}u.push({resolve:r,reject:f})}))};return f.cancel=function(e){void 0!==o&&clearTimeout(o),u.forEach((function(t){return(0,t.reject)(e)})),u=[]},f}var vt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wt(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var s=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,s.get?s:{enumerable:!0,get:function(){return e[t]}})})),n}var kt={exports:{}},xt=1;var Et,St,_t,At={nextValue:function(){return(xt=(9301*xt+49297)%233280)/233280},seed:function(e){xt=e}},Ot="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function Nt(){_t=!1}function Ct(e){if(e){if(e!==Et){if(64!==e.length)throw new Error("Custom alphabet for shortid must be 64 unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be 64 unique characters. These characters were not unique: "+t.join(", "));Et=e,Nt()}}else Et!==Ot&&(Et=Ot,Nt())}function Tt(){return _t||(_t=function(){Et||Ct(Ot);for(var e,t=Et.split(""),n=[],s=At.nextValue();t.length>0;)s=At.nextValue(),e=Math.floor(s*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}var Bt,It={get:function(){return Et||Ot},characters:function(e){return Ct(e),Et},seed:function(e){At.seed(e),St!==e&&(Nt(),St=e)},lookup:function(e){return Tt()[e]},shuffled:Tt},Lt="object"==typeof window&&(window.crypto||window.msCrypto);Bt=Lt&&Lt.getRandomValues?function(e){return Lt.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t};var jt=It,Mt=Bt,Dt=function(e,t,n){for(var s=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*s*n/t.length),o="";;)for(var i=e(r),a=r;a--;)if((o+=t[i[a]&s]||"").length===+n)return o};var Pt,$t,Rt=function(e){for(var t,n=0,s="";!t;)s+=Dt(Mt,jt.get(),1),t=e<Math.pow(16,n+1),n++;return s};var qt=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===$t?Pt++:(Pt=0,$t=n),t+=Rt(7),t+=Rt(e),Pt>0&&(t+=Rt(Pt)),t+=Rt(n)},Ft=It;var Ht=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+Ft.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)};!function(e){var t=It,n=qt,s=Ht,r=0;function o(){return n(r)}e.exports=o,e.exports.generate=o,e.exports.seed=function(n){return t.seed(n),e.exports},e.exports.worker=function(t){return r=t,e.exports},e.exports.characters=function(e){return void 0!==e&&t.characters(e),t.shuffled()},e.exports.isValid=s}(kt);const Kt=bt(kt.exports);var Ut={exports:{}};var Wt={exports:{}};const zt=wt(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Vt;function Gt(){return Vt||(Vt=1,Wt.exports=(e=e||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==vt&&vt.crypto&&(n=vt.crypto),!n)try{n=zt}catch(m){}var s=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},i=o.lib={},a=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=i.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,s=this.sigBytes,r=e.sigBytes;if(this.clamp(),s%4)for(var o=0;o<r;o++){var i=n[o>>>2]>>>24-o%4*8&255;t[s+o>>>2]|=i<<24-(s+o)%4*8}else for(var a=0;a<r;a+=4)t[s+a>>>2]=n[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(s());return new c.init(t,e)}}),l=o.enc={},u=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,s=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;s.push((o>>>4).toString(16)),s.push((15&o).toString(16))}return s.join("")},parse:function(e){for(var t=e.length,n=[],s=0;s<t;s+=2)n[s>>>3]|=parseInt(e.substr(s,2),16)<<24-s%8*4;return new c.init(n,t/2)}},f=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,s=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;s.push(String.fromCharCode(o))}return s.join("")},parse:function(e){for(var t=e.length,n=[],s=0;s<t;s++)n[s>>>2]|=(255&e.charCodeAt(s))<<24-s%4*8;return new c.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,s=this._data,r=s.words,o=s.sigBytes,i=this.blockSize,a=o/(4*i),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,u=e.min(4*l,o);if(l){for(var f=0;f<l;f+=i)this._doProcessBlock(r,f);n=r.splice(0,l),s.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=o.algo={};return o}(Math),e)),Wt.exports;var e}var Jt,Yt={exports:{}};function Xt(){return Jt?Yt.exports:(Jt=1,Yt.exports=(i=Gt(),n=(t=i).lib,s=n.Base,r=n.WordArray,(o=t.x64={}).Word=s.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=s.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],s=0;s<t;s++){var o=e[s];n.push(o.high),n.push(o.low)}return r.create(n,this.sigBytes)},clone:function(){for(var e=s.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),i));var e,t,n,s,r,o,i}var Qt,Zt={exports:{}};function en(){return Qt||(Qt=1,Zt.exports=(e=Gt(),function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,s=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,s=[],r=0;r<t;r++)s[r>>>2]|=e[r]<<24-r%4*8;n.call(this,s,t)}else n.apply(this,arguments)};s.prototype=t}}(),e.lib.WordArray)),Zt.exports;var e}var tn,nn={exports:{}};function sn(){return tn?nn.exports:(tn=1,nn.exports=(e=Gt(),function(){var t=e,n=t.lib.WordArray,s=t.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}s.Utf16=s.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,s=[],r=0;r<n;r+=2){var o=t[r>>>2]>>>16-r%4*8&65535;s.push(String.fromCharCode(o))}return s.join("")},parse:function(e){for(var t=e.length,s=[],r=0;r<t;r++)s[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return n.create(s,2*t)}},s.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,s=[],o=0;o<n;o+=2){var i=r(t[o>>>2]>>>16-o%4*8&65535);s.push(String.fromCharCode(i))}return s.join("")},parse:function(e){for(var t=e.length,s=[],o=0;o<t;o++)s[o>>>1]|=r(e.charCodeAt(o)<<16-o%2*16);return n.create(s,2*t)}}}(),e.enc.Utf16));var e}var rn,on={exports:{}};function an(){return rn?on.exports:(rn=1,on.exports=(e=Gt(),function(){var t=e,n=t.lib.WordArray;function s(e,t,s){for(var r=[],o=0,i=0;i<t;i++)if(i%4){var a=s[e.charCodeAt(i-1)]<<i%4*2|s[e.charCodeAt(i)]>>>6-i%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return n.create(r,o)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,s=this._map;e.clamp();for(var r=[],o=0;o<n;o+=3)for(var i=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)r.push(s.charAt(i>>>6*(3-a)&63));var c=s.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var i=n.charAt(64);if(i){var a=e.indexOf(i);-1!==a&&(t=a)}return s(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64));var e}var cn,ln={exports:{}};function un(){return cn?ln.exports:(cn=1,ln.exports=(e=Gt(),function(){var t=e,n=t.lib.WordArray;function s(e,t,s){for(var r=[],o=0,i=0;i<t;i++)if(i%4){var a=s[e.charCodeAt(i-1)]<<i%4*2|s[e.charCodeAt(i)]>>>6-i%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return n.create(r,o)}t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,s=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var o=[],i=0;i<s;i+=3)for(var a=(n[i>>>2]>>>24-i%4*8&255)<<16|(n[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|n[i+2>>>2]>>>24-(i+2)%4*8&255,c=0;c<4&&i+.75*c<s;c++)o.push(r.charAt(a>>>6*(3-c)&63));var l=r.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,r=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var a=r.charAt(64);if(a){var c=e.indexOf(a);-1!==c&&(n=c)}return s(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url));var e}var fn,hn={exports:{}};function dn(){return fn?hn.exports:(fn=1,hn.exports=(e=Gt(),function(t){var n=e,s=n.lib,r=s.WordArray,o=s.Hasher,i=n.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=i.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var s=t+n,r=e[s];e[s]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,i=e[t+0],c=e[t+1],d=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],w=e[t+9],k=e[t+10],x=e[t+11],E=e[t+12],S=e[t+13],_=e[t+14],A=e[t+15],O=o[0],N=o[1],C=o[2],T=o[3];O=l(O,N,C,T,i,7,a[0]),T=l(T,O,N,C,c,12,a[1]),C=l(C,T,O,N,d,17,a[2]),N=l(N,C,T,O,p,22,a[3]),O=l(O,N,C,T,m,7,a[4]),T=l(T,O,N,C,g,12,a[5]),C=l(C,T,O,N,y,17,a[6]),N=l(N,C,T,O,v,22,a[7]),O=l(O,N,C,T,b,7,a[8]),T=l(T,O,N,C,w,12,a[9]),C=l(C,T,O,N,k,17,a[10]),N=l(N,C,T,O,x,22,a[11]),O=l(O,N,C,T,E,7,a[12]),T=l(T,O,N,C,S,12,a[13]),C=l(C,T,O,N,_,17,a[14]),O=u(O,N=l(N,C,T,O,A,22,a[15]),C,T,c,5,a[16]),T=u(T,O,N,C,y,9,a[17]),C=u(C,T,O,N,x,14,a[18]),N=u(N,C,T,O,i,20,a[19]),O=u(O,N,C,T,g,5,a[20]),T=u(T,O,N,C,k,9,a[21]),C=u(C,T,O,N,A,14,a[22]),N=u(N,C,T,O,m,20,a[23]),O=u(O,N,C,T,w,5,a[24]),T=u(T,O,N,C,_,9,a[25]),C=u(C,T,O,N,p,14,a[26]),N=u(N,C,T,O,b,20,a[27]),O=u(O,N,C,T,S,5,a[28]),T=u(T,O,N,C,d,9,a[29]),C=u(C,T,O,N,v,14,a[30]),O=f(O,N=u(N,C,T,O,E,20,a[31]),C,T,g,4,a[32]),T=f(T,O,N,C,b,11,a[33]),C=f(C,T,O,N,x,16,a[34]),N=f(N,C,T,O,_,23,a[35]),O=f(O,N,C,T,c,4,a[36]),T=f(T,O,N,C,m,11,a[37]),C=f(C,T,O,N,v,16,a[38]),N=f(N,C,T,O,k,23,a[39]),O=f(O,N,C,T,S,4,a[40]),T=f(T,O,N,C,i,11,a[41]),C=f(C,T,O,N,p,16,a[42]),N=f(N,C,T,O,y,23,a[43]),O=f(O,N,C,T,w,4,a[44]),T=f(T,O,N,C,E,11,a[45]),C=f(C,T,O,N,A,16,a[46]),O=h(O,N=f(N,C,T,O,d,23,a[47]),C,T,i,6,a[48]),T=h(T,O,N,C,v,10,a[49]),C=h(C,T,O,N,_,15,a[50]),N=h(N,C,T,O,g,21,a[51]),O=h(O,N,C,T,E,6,a[52]),T=h(T,O,N,C,p,10,a[53]),C=h(C,T,O,N,k,15,a[54]),N=h(N,C,T,O,c,21,a[55]),O=h(O,N,C,T,b,6,a[56]),T=h(T,O,N,C,A,10,a[57]),C=h(C,T,O,N,y,15,a[58]),N=h(N,C,T,O,S,21,a[59]),O=h(O,N,C,T,m,6,a[60]),T=h(T,O,N,C,x,10,a[61]),C=h(C,T,O,N,d,15,a[62]),N=h(N,C,T,O,w,21,a[63]),o[0]=o[0]+O|0,o[1]=o[1]+N|0,o[2]=o[2]+C|0,o[3]=o[3]+T|0},_doFinalize:function(){var e=this._data,n=e.words,s=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var o=t.floor(s/4294967296),i=s;n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,s,r,o,i){var a=e+(t&n|~t&s)+r+i;return(a<<o|a>>>32-o)+t}function u(e,t,n,s,r,o,i){var a=e+(t&s|n&~s)+r+i;return(a<<o|a>>>32-o)+t}function f(e,t,n,s,r,o,i){var a=e+(t^n^s)+r+i;return(a<<o|a>>>32-o)+t}function h(e,t,n,s,r,o,i){var a=e+(n^(t|~s))+r+i;return(a<<o|a>>>32-o)+t}n.MD5=o._createHelper(c),n.HmacMD5=o._createHmacHelper(c)}(Math),e.MD5));var e}var pn,mn={exports:{}};function gn(){return pn?mn.exports:(pn=1,mn.exports=(a=Gt(),t=(e=a).lib,n=t.WordArray,s=t.Hasher,r=e.algo,o=[],i=r.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,s=n[0],r=n[1],i=n[2],a=n[3],c=n[4],l=0;l<80;l++){if(l<16)o[l]=0|e[t+l];else{var u=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=u<<1|u>>>31}var f=(s<<5|s>>>27)+c+o[l];f+=l<20?1518500249+(r&i|~r&a):l<40?1859775393+(r^i^a):l<60?(r&i|r&a|i&a)-1894007588:(r^i^a)-899497514,c=a,a=i,i=r<<30|r>>>2,r=s,s=f}n[0]=n[0]+s|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;return t[s>>>5]|=128<<24-s%32,t[14+(s+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(s+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=s._createHelper(i),e.HmacSHA1=s._createHmacHelper(i),a.SHA1));var e,t,n,s,r,o,i,a}var yn,vn={exports:{}};function bn(){return yn?vn.exports:(yn=1,vn.exports=(e=Gt(),function(t){var n=e,s=n.lib,r=s.WordArray,o=s.Hasher,i=n.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),s=2;s<=n;s++)if(!(e%s))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var s=2,r=0;r<64;)e(s)&&(r<8&&(a[r]=n(t.pow(s,.5))),c[r]=n(t.pow(s,1/3)),r++),s++}();var l=[],u=i.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,s=n[0],r=n[1],o=n[2],i=n[3],a=n[4],u=n[5],f=n[6],h=n[7],d=0;d<64;d++){if(d<16)l[d]=0|e[t+d];else{var p=l[d-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[d-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[d]=m+l[d-7]+y+l[d-16]}var v=s&r^s&o^r&o,b=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),w=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&f)+c[d]+l[d];h=f,f=u,u=a,a=i+w|0,i=o,o=r,r=s,s=w+(b+v)|0}n[0]=n[0]+s|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+i|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,s=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(s/4294967296),n[15+(r+64>>>9<<4)]=s,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(u),n.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256));var e}var wn,kn={exports:{}};var xn,En={exports:{}};function Sn(){return xn||(xn=1,En.exports=(e=Gt(),Xt(),function(){var t=e,n=t.lib.Hasher,s=t.x64,r=s.Word,o=s.WordArray,i=t.algo;function a(){return r.create.apply(r,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=a()}();var u=i.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,s=n[0],r=n[1],o=n[2],i=n[3],a=n[4],u=n[5],f=n[6],h=n[7],d=s.high,p=s.low,m=r.high,g=r.low,y=o.high,v=o.low,b=i.high,w=i.low,k=a.high,x=a.low,E=u.high,S=u.low,_=f.high,A=f.low,O=h.high,N=h.low,C=d,T=p,B=m,I=g,L=y,j=v,M=b,D=w,P=k,$=x,R=E,q=S,F=_,H=A,K=O,U=N,W=0;W<80;W++){var z,V,G=l[W];if(W<16)V=G.high=0|e[t+2*W],z=G.low=0|e[t+2*W+1];else{var J=l[W-15],Y=J.high,X=J.low,Q=(Y>>>1|X<<31)^(Y>>>8|X<<24)^Y>>>7,Z=(X>>>1|Y<<31)^(X>>>8|Y<<24)^(X>>>7|Y<<25),ee=l[W-2],te=ee.high,ne=ee.low,se=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,re=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=l[W-7],ie=oe.high,ae=oe.low,ce=l[W-16],le=ce.high,ue=ce.low;V=(V=(V=Q+ie+((z=Z+ae)>>>0<Z>>>0?1:0))+se+((z+=re)>>>0<re>>>0?1:0))+le+((z+=ue)>>>0<ue>>>0?1:0),G.high=V,G.low=z}var fe,he=P&R^~P&F,de=$&q^~$&H,pe=C&B^C&L^B&L,me=T&I^T&j^I&j,ge=(C>>>28|T<<4)^(C<<30|T>>>2)^(C<<25|T>>>7),ye=(T>>>28|C<<4)^(T<<30|C>>>2)^(T<<25|C>>>7),ve=(P>>>14|$<<18)^(P>>>18|$<<14)^(P<<23|$>>>9),be=($>>>14|P<<18)^($>>>18|P<<14)^($<<23|P>>>9),we=c[W],ke=we.high,xe=we.low,Ee=K+ve+((fe=U+be)>>>0<U>>>0?1:0),Se=ye+me;K=F,U=H,F=R,H=q,R=P,q=$,P=M+(Ee=(Ee=(Ee=Ee+he+((fe+=de)>>>0<de>>>0?1:0))+ke+((fe+=xe)>>>0<xe>>>0?1:0))+V+((fe+=z)>>>0<z>>>0?1:0))+(($=D+fe|0)>>>0<D>>>0?1:0)|0,M=L,D=j,L=B,j=I,B=C,I=T,C=Ee+(ge+pe+(Se>>>0<ye>>>0?1:0))+((T=fe+Se|0)>>>0<fe>>>0?1:0)|0}p=s.low=p+T,s.high=d+C+(p>>>0<T>>>0?1:0),g=r.low=g+I,r.high=m+B+(g>>>0<I>>>0?1:0),v=o.low=v+j,o.high=y+L+(v>>>0<j>>>0?1:0),w=i.low=w+D,i.high=b+M+(w>>>0<D>>>0?1:0),x=a.low=x+$,a.high=k+P+(x>>>0<$>>>0?1:0),S=u.low=S+q,u.high=E+R+(S>>>0<q>>>0?1:0),A=f.low=A+H,f.high=_+F+(A>>>0<H>>>0?1:0),N=h.low=N+U,h.high=O+K+(N>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;return t[s>>>5]|=128<<24-s%32,t[30+(s+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(s+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(u),t.HmacSHA512=n._createHmacHelper(u)}(),e.SHA512)),En.exports;var e}var _n,An={exports:{}};var On,Nn={exports:{}};function Cn(){return On?Nn.exports:(On=1,Nn.exports=(e=Gt(),Xt(),function(t){var n=e,s=n.lib,r=s.WordArray,o=s.Hasher,i=n.x64.Word,a=n.algo,c=[],l=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var s=(2*e+3*t)%5;e=t%5,t=s}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,o=0;o<24;o++){for(var a=0,f=0,h=0;h<7;h++){if(1&r){var d=(1<<h)-1;d<32?f^=1<<d:a^=1<<d-32}128&r?r=r<<1^113:r<<=1}u[o]=i.create(a,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=i.create()}();var h=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,s=this.blockSize/2,r=0;r<s;r++){var o=e[t+2*r],i=e[t+2*r+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),(N=n[r]).high^=i,N.low^=o}for(var a=0;a<24;a++){for(var h=0;h<5;h++){for(var d=0,p=0,m=0;m<5;m++)d^=(N=n[h+5*m]).high,p^=N.low;var g=f[h];g.high=d,g.low=p}for(h=0;h<5;h++){var y=f[(h+4)%5],v=f[(h+1)%5],b=v.high,w=v.low;for(d=y.high^(b<<1|w>>>31),p=y.low^(w<<1|b>>>31),m=0;m<5;m++)(N=n[h+5*m]).high^=d,N.low^=p}for(var k=1;k<25;k++){var x=(N=n[k]).high,E=N.low,S=c[k];S<32?(d=x<<S|E>>>32-S,p=E<<S|x>>>32-S):(d=E<<S-32|x>>>64-S,p=x<<S-32|E>>>64-S);var _=f[l[k]];_.high=d,_.low=p}var A=f[0],O=n[0];for(A.high=O.high,A.low=O.low,h=0;h<5;h++)for(m=0;m<5;m++){var N=n[k=h+5*m],C=f[k],T=f[(h+1)%5+5*m],B=f[(h+2)%5+5*m];N.high=C.high^~T.high&B.high,N.low=C.low^~T.low&B.low}N=n[0];var I=u[a];N.high^=I.high,N.low^=I.low}},_doFinalize:function(){var e=this._data,n=e.words;this._nDataBytes;var s=8*e.sigBytes,o=32*this.blockSize;n[s>>>5]|=1<<24-s%32,n[(t.ceil((s+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var i=this._state,a=this.cfg.outputLength/8,c=a/8,l=[],u=0;u<c;u++){var f=i[u],h=f.high,d=f.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l.push(d),l.push(h)}return new r.init(l,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=o._createHelper(h),n.HmacSHA3=o._createHmacHelper(h)}(Math),e.SHA3));var e}var Tn,Bn={exports:{}};var In,Ln={exports:{}};function jn(){return In?Ln.exports:(In=1,Ln.exports=(e=Gt(),n=(t=e).lib.Base,s=t.enc.Utf8,void(t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),a=o.words,c=i.words,l=0;l<n;l++)a[l]^=1549556828,c[l]^=909522486;o.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}}))));var e,t,n,s}var Mn,Dn={exports:{}};var Pn,$n={exports:{}};function Rn(){return Pn?$n.exports:(Pn=1,$n.exports=(a=Gt(),gn(),jn(),t=(e=a).lib,n=t.Base,s=t.WordArray,r=e.algo,o=r.MD5,i=r.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),i=s.create(),a=i.words,c=r.keySize,l=r.iterations;a.length<c;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var u=1;u<l;u++)n=o.finalize(n),o.reset();i.concat(n)}return i.sigBytes=4*c,i}}),e.EvpKDF=function(e,t,n){return i.create(n).compute(e,t)},a.EvpKDF));var e,t,n,s,r,o,i,a}var qn,Fn={exports:{}};function Hn(){return qn?Fn.exports:(qn=1,Fn.exports=(e=Gt(),Rn(),void(e.lib.Cipher||function(t){var n=e,s=n.lib,r=s.Base,o=s.WordArray,i=s.BufferedBlockAlgorithm,a=n.enc;a.Utf8;var c=a.Base64,l=n.algo.EvpKDF,u=s.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:y}return function(t){return{encrypt:function(n,s,r){return e(s).encrypt(t,n,s,r)},decrypt:function(n,s,r){return e(s).decrypt(t,n,s,r)}}}}()});s.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=n.mode={},h=s.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=f.CBC=function(){var e=h.extend();function n(e,n,s){var r,o=this._iv;o?(r=o,this._iv=t):r=this._prevBlock;for(var i=0;i<s;i++)e[n+i]^=r[i]}return e.Encryptor=e.extend({processBlock:function(e,t){var s=this._cipher,r=s.blockSize;n.call(this,e,t,r),s.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),e.Decryptor=e.extend({processBlock:function(e,t){var s=this._cipher,r=s.blockSize,o=e.slice(t,t+r);s.decryptBlock(e,t),n.call(this,e,t,r),this._prevBlock=o}}),e}(),p=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,s=n-e.sigBytes%n,r=s<<24|s<<16|s<<8|s,i=[],a=0;a<s;a+=4)i.push(r);var c=o.create(i,s);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};s.BlockCipher=u.extend({cfg:u.cfg.extend({mode:d,padding:p}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,s=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=s.createEncryptor:(e=s.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(s,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var m=s.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?o.create([1398893684,1701076831]).concat(n).concat(t):t).toString(c)},parse:function(e){var t,n=c.parse(e),s=n.words;return 1398893684==s[0]&&1701076831==s[1]&&(t=o.create(s.slice(2,4)),s.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},y=s.SerializableCipher=r.extend({cfg:r.extend({format:g}),encrypt:function(e,t,n,s){s=this.cfg.extend(s);var r=e.createEncryptor(n,s),o=r.finalize(t),i=r.cfg;return m.create({ciphertext:o,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:s.format})},decrypt:function(e,t,n,s){return s=this.cfg.extend(s),t=this._parse(t,s.format),e.createDecryptor(n,s).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(n.kdf={}).OpenSSL={execute:function(e,t,n,s,r){if(s||(s=o.random(8)),r)i=l.create({keySize:t+n,hasher:r}).compute(e,s);else var i=l.create({keySize:t+n}).compute(e,s);var a=o.create(i.words.slice(t),4*n);return i.sigBytes=4*t,m.create({key:i,iv:a,salt:s})}},b=s.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:v}),encrypt:function(e,t,n,s){var r=(s=this.cfg.extend(s)).kdf.execute(n,e.keySize,e.ivSize,s.salt,s.hasher);s.iv=r.iv;var o=y.encrypt.call(this,e,t,r.key,s);return o.mixIn(r),o},decrypt:function(e,t,n,s){s=this.cfg.extend(s),t=this._parse(t,s.format);var r=s.kdf.execute(n,e.keySize,e.ivSize,t.salt,s.hasher);return s.iv=r.iv,y.decrypt.call(this,e,t,r.key,s)}})}())));var e}var Kn,Un={exports:{}};var Wn,zn={exports:{}};var Vn,Gn={exports:{}};function Jn(){return Vn?Gn.exports:(Vn=1,Gn.exports=(e=Gt(),Hn(),
/** @preserve
       * Counter block mode compatible with  Dr Brian Gladman fileenc.c
       * derived from CryptoJS.mode.CTR
       * Jan Hruby jhruby.web@gmail.com
       */
e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,s=255&e;255===t?(t=0,255===n?(n=0,255===s?s=0:++s):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=s}return e}function s(e){return 0===(e[0]=n(e[0]))&&(e[1]=n(e[1])),e}var r=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0),s(i);var a=i.slice(0);n.encryptBlock(a,0);for(var c=0;c<r;c++)e[t+c]^=a[c]}});return t.Decryptor=r,t}(),e.mode.CTRGladman));var e}var Yn,Xn={exports:{}};var Qn,Zn={exports:{}};var es,ts={exports:{}};var ns,ss={exports:{}};var rs,os={exports:{}};var is,as={exports:{}};var cs,ls={exports:{}};var us,fs={exports:{}};var hs,ds={exports:{}};var ps,ms={exports:{}};function gs(){return ps?ms.exports:(ps=1,ms.exports=(e=Gt(),an(),dn(),Rn(),Hn(),function(){var t=e,n=t.lib,s=n.WordArray,r=n.BlockCipher,o=t.algo,i=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var s=i[n]-1;t[n]=e[s>>>5]>>>31-s%32&1}for(var r=this._subKeys=[],o=0;o<16;o++){var l=r[o]=[],u=c[o];for(n=0;n<24;n++)l[n/6|0]|=t[(a[n]-1+u)%28]<<31-n%6,l[4+(n/6|0)]|=t[28+(a[n+24]-1+u)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=r[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var s=0;s<16;s++){for(var r=n[s],o=this._lBlock,i=this._rBlock,a=0,c=0;c<8;c++)a|=l[c][((i^r[c])&u[c])>>>0];this._lBlock=i,this._rBlock=o^a}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function d(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=r._createHelper(f);var p=o.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(s.create(t)),this._des2=f.createEncryptor(s.create(n)),this._des3=f.createEncryptor(s.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(p)}(),e.TripleDES));var e}var ys,vs={exports:{}};var bs,ws={exports:{}};var ks,xs={exports:{}};var Es,Ss,_s,As,Os,Ns,Cs,Ts={exports:{}};function Bs(){return Es?Ts.exports:(Es=1,Ts.exports=(e=Gt(),an(),dn(),Rn(),Hn(),function(){var t=e,n=t.lib.BlockCipher,s=t.algo;const r=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],i=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var a={pbox:[],sbox:[]};function c(e,t){let n=t>>24&255,s=t>>16&255,r=t>>8&255,o=255&t,i=e.sbox[0][n]+e.sbox[1][s];return i^=e.sbox[2][r],i+=e.sbox[3][o],i}function l(e,t,n){let s,o=t,i=n;for(let a=0;a<r;++a)o^=e.pbox[a],i=c(e,o)^i,s=o,o=i,i=s;return s=o,o=i,i=s,i^=e.pbox[r],o^=e.pbox[r+1],{left:o,right:i}}function u(e,t,n){let s,o=t,i=n;for(let a=r+1;a>1;--a)o^=e.pbox[a],i=c(e,o)^i,s=o,o=i,i=s;return s=o,o=i,i=s,i^=e.pbox[1],o^=e.pbox[0],{left:o,right:i}}function f(e,t,n){for(let r=0;r<4;r++){e.sbox[r]=[];for(let t=0;t<256;t++)e.sbox[r][t]=i[r][t]}let s=0;for(let i=0;i<r+2;i++)e.pbox[i]=o[i]^t[s],s++,s>=n&&(s=0);let a=0,c=0,u=0;for(let o=0;o<r+2;o+=2)u=l(e,a,c),a=u.left,c=u.right,e.pbox[o]=a,e.pbox[o+1]=c;for(let r=0;r<4;r++)for(let t=0;t<256;t+=2)u=l(e,a,c),a=u.left,c=u.right,e.sbox[r][t]=a,e.sbox[r][t+1]=c;return!0}var h=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;f(a,t,n)}},encryptBlock:function(e,t){var n=l(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=u(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(h)}(),e.Blowfish));var e}var Is=Ut.exports=function(e){return e}(Gt(),Xt(),en(),sn(),an(),un(),dn(),gn(),bn(),wn||(wn=1,kn.exports=(Cs=Gt(),bn(),_s=(Ss=Cs).lib.WordArray,As=Ss.algo,Os=As.SHA256,Ns=As.SHA224=Os.extend({_doReset:function(){this._hash=new _s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=Os._doFinalize.call(this);return e.sigBytes-=4,e}}),Ss.SHA224=Os._createHelper(Ns),Ss.HmacSHA224=Os._createHmacHelper(Ns),Cs.SHA224)),Sn(),function(){return _n?An.exports:(_n=1,An.exports=(a=Gt(),Xt(),Sn(),t=(e=a).x64,n=t.Word,s=t.WordArray,r=e.algo,o=r.SHA512,i=r.SHA384=o.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}}),e.SHA384=o._createHelper(i),e.HmacSHA384=o._createHmacHelper(i),a.SHA384));var e,t,n,s,r,o,i,a}(),Cn(),function(){return Tn?Bn.exports:(Tn=1,Bn.exports=(e=Gt(),
/** @preserve
      			(c) 2012 by Cdric Mesnil. All rights reserved.
      
      			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
      
      			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
      			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
      
      			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
      			*/
function(){var t=e,n=t.lib,s=n.WordArray,r=n.Hasher,o=t.algo,i=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=s.create([0,1518500249,1859775393,2400959708,2840853838]),f=s.create([1352829926,1548603684,1836072691,2053994217,0]),h=o.RIPEMD160=r.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var s=t+n,r=e[s];e[s]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o,h,b,w,k,x,E,S,_,A,O,N=this._hash.words,C=u.words,T=f.words,B=i.words,I=a.words,L=c.words,j=l.words;for(x=o=N[0],E=h=N[1],S=b=N[2],_=w=N[3],A=k=N[4],n=0;n<80;n+=1)O=o+e[t+B[n]]|0,O+=n<16?d(h,b,w)+C[0]:n<32?p(h,b,w)+C[1]:n<48?m(h,b,w)+C[2]:n<64?g(h,b,w)+C[3]:y(h,b,w)+C[4],O=(O=v(O|=0,L[n]))+k|0,o=k,k=w,w=v(b,10),b=h,h=O,O=x+e[t+I[n]]|0,O+=n<16?y(E,S,_)+T[0]:n<32?g(E,S,_)+T[1]:n<48?m(E,S,_)+T[2]:n<64?p(E,S,_)+T[3]:d(E,S,_)+T[4],O=(O=v(O|=0,j[n]))+A|0,x=A,A=_,_=v(S,10),S=E,E=O;O=N[1]+b+_|0,N[1]=N[2]+w+A|0,N[2]=N[3]+k+x|0,N[3]=N[4]+o+E|0,N[4]=N[0]+h+S|0,N[0]=O},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;t[s>>>5]|=128<<24-s%32,t[14+(s+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,o=r.words,i=0;i<5;i++){var a=o[i];o[i]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return r},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,n){return e^t^n}function p(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function g(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}t.RIPEMD160=r._createHelper(h),t.HmacRIPEMD160=r._createHmacHelper(h)}(),e.RIPEMD160));var e}(),jn(),function(){return Mn?Dn.exports:(Mn=1,Dn.exports=(c=Gt(),bn(),jn(),t=(e=c).lib,n=t.Base,s=t.WordArray,r=e.algo,o=r.SHA256,i=r.HMAC,a=r.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=i.create(n.hasher,e),o=s.create(),a=s.create([1]),c=o.words,l=a.words,u=n.keySize,f=n.iterations;c.length<u;){var h=r.update(t).finalize(a);r.reset();for(var d=h.words,p=d.length,m=h,g=1;g<f;g++){m=r.finalize(m),r.reset();for(var y=m.words,v=0;v<p;v++)d[v]^=y[v]}o.concat(h),l[0]++}return o.sigBytes=4*u,o}}),e.PBKDF2=function(e,t,n){return a.create(n).compute(e,t)},c.PBKDF2));var e,t,n,s,r,o,i,a,c}(),Rn(),Hn(),function(){return Kn?Un.exports:(Kn=1,Un.exports=(e=Gt(),Hn(),e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,s){var r,o=this._iv;o?(r=o.slice(0),this._iv=void 0):r=this._prevBlock,s.encryptBlock(r,0);for(var i=0;i<n;i++)e[t+i]^=r[i]}return t.Encryptor=t.extend({processBlock:function(e,t){var s=this._cipher,r=s.blockSize;n.call(this,e,t,r,s),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var s=this._cipher,r=s.blockSize,o=e.slice(t,t+r);n.call(this,e,t,r,s),this._prevBlock=o}}),t}(),e.mode.CFB));var e}(),function(){return Wn?zn.exports:(Wn=1,zn.exports=(n=Gt(),Hn(),n.mode.CTR=(e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,s=n.blockSize,r=this._iv,o=this._counter;r&&(o=this._counter=r.slice(0),this._iv=void 0);var i=o.slice(0);n.encryptBlock(i,0),o[s-1]=o[s-1]+1|0;for(var a=0;a<s;a++)e[t+a]^=i[a]}}),e.Decryptor=t,e),n.mode.CTR));var e,t,n}(),Jn(),function(){return Yn?Xn.exports:(Yn=1,Xn.exports=(n=Gt(),Hn(),n.mode.OFB=(e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,s=n.blockSize,r=this._iv,o=this._keystream;r&&(o=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var i=0;i<s;i++)e[t+i]^=o[i]}}),e.Decryptor=t,e),n.mode.OFB));var e,t,n}(),function(){return Qn?Zn.exports:(Qn=1,Zn.exports=(t=Gt(),Hn(),t.mode.ECB=((e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e),t.mode.ECB));var e,t}(),function(){return es?ts.exports:(es=1,ts.exports=(e=Gt(),Hn(),e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,s=4*t,r=s-n%s,o=n+r-1;e.clamp(),e.words[o>>>2]|=r<<24-o%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923));var e}(),function(){return ns?ss.exports:(ns=1,ss.exports=(e=Gt(),Hn(),e.pad.Iso10126={pad:function(t,n){var s=4*n,r=s-t.sigBytes%s;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126));var e}(),function(){return rs?os.exports:(rs=1,os.exports=(e=Gt(),Hn(),e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971));var e}(),function(){return is?as.exports:(is=1,as.exports=(e=Gt(),Hn(),e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding));var e}(),function(){return cs?ls.exports:(cs=1,ls.exports=(e=Gt(),Hn(),e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding));var e}(),function(){return us?fs.exports:(us=1,fs.exports=(s=Gt(),Hn(),t=(e=s).lib.CipherParams,n=e.enc.Hex,e.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var s=n.parse(e);return t.create({ciphertext:s})}},s.format.Hex));var e,t,n,s}(),function(){return hs?ds.exports:(hs=1,ds.exports=(e=Gt(),an(),dn(),Rn(),Hn(),function(){var t=e,n=t.lib.BlockCipher,s=t.algo,r=[],o=[],i=[],a=[],c=[],l=[],u=[],f=[],h=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,s=0;for(t=0;t<256;t++){var p=s^s<<1^s<<2^s<<3^s<<4;p=p>>>8^255&p^99,r[n]=p,o[p]=n;var m=e[n],g=e[m],y=e[g],v=257*e[p]^16843008*p;i[n]=v<<24|v>>>8,a[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,l[n]=v,v=16843009*y^65537*g^257*m^16843008*n,u[p]=v<<24|v>>>8,f[p]=v<<16|v>>>16,h[p]=v<<8|v>>>24,d[p]=v,n?(n=m^e[e[e[y^m]]],s^=e[e[s]]):n=s=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=s.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,s=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],i=0;i<s;i++)i<n?o[i]=t[i]:(l=o[i-1],i%n?n>6&&i%n==4&&(l=r[l>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l]):(l=r[(l=l<<8|l>>>24)>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l],l^=p[i/n|0]<<24),o[i]=o[i-n]^l);for(var a=this._invKeySchedule=[],c=0;c<s;c++){if(i=s-c,c%4)var l=o[i];else l=o[i-4];a[c]=c<4||i<=4?l:u[r[l>>>24]]^f[r[l>>>16&255]]^h[r[l>>>8&255]]^d[r[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,a,c,l,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,f,h,d,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,s,r,o,i,a){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],f=e[t+2]^n[2],h=e[t+3]^n[3],d=4,p=1;p<c;p++){var m=s[l>>>24]^r[u>>>16&255]^o[f>>>8&255]^i[255&h]^n[d++],g=s[u>>>24]^r[f>>>16&255]^o[h>>>8&255]^i[255&l]^n[d++],y=s[f>>>24]^r[h>>>16&255]^o[l>>>8&255]^i[255&u]^n[d++],v=s[h>>>24]^r[l>>>16&255]^o[u>>>8&255]^i[255&f]^n[d++];l=m,u=g,f=y,h=v}m=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[f>>>8&255]<<8|a[255&h])^n[d++],g=(a[u>>>24]<<24|a[f>>>16&255]<<16|a[h>>>8&255]<<8|a[255&l])^n[d++],y=(a[f>>>24]<<24|a[h>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^n[d++],v=(a[h>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&f])^n[d++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8});t.AES=n._createHelper(m)}(),e.AES));var e}(),gs(),function(){return ys?vs.exports:(ys=1,vs.exports=(e=Gt(),an(),dn(),Rn(),Hn(),function(){var t=e,n=t.lib.StreamCipher,s=t.algo,r=s.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,s=this._S=[],r=0;r<256;r++)s[r]=r;r=0;for(var o=0;r<256;r++){var i=r%n,a=t[i>>>2]>>>24-i%4*8&255;o=(o+s[r]+a)%256;var c=s[r];s[r]=s[o],s[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,s=0,r=0;r<4;r++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,s|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,s}t.RC4=n._createHelper(r);var i=s.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=n._createHelper(i)}(),e.RC4));var e}(),function(){return bs?ws.exports:(bs=1,ws.exports=(e=Gt(),an(),dn(),Rn(),Hn(),function(){var t=e,n=t.lib.StreamCipher,s=t.algo,r=[],o=[],i=[],a=s.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var s=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)r[n]^=s[n+4&7];if(t){var o=t.words,i=o[0],a=o[1],l=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=l>>>16|4294901760&u,h=u<<16|65535&l;for(r[0]^=l,r[1]^=f,r[2]^=u,r[3]^=h,r[4]^=l,r[5]^=f,r[6]^=u,r[7]^=h,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var s=0;s<4;s++)r[s]=16711935&(r[s]<<8|r[s]>>>24)|4278255360&(r[s]<<24|r[s]>>>8),e[t+s]^=r[s]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var s=e[n]+t[n],r=65535&s,a=s>>>16,c=((r*r>>>17)+r*a>>>15)+a*a,l=((4294901760&s)*s|0)+((65535&s)*s|0);i[n]=c^l}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.Rabbit=n._createHelper(a)}(),e.Rabbit));var e}(),function(){return ks?xs.exports:(ks=1,xs.exports=(e=Gt(),an(),dn(),Rn(),Hn(),function(){var t=e,n=t.lib.StreamCipher,s=t.algo,r=[],o=[],i=[],a=s.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],s=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)s[r]^=n[r+4&7];if(t){var o=t.words,i=o[0],a=o[1],l=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=l>>>16|4294901760&u,h=u<<16|65535&l;for(s[0]^=l,s[1]^=f,s[2]^=u,s[3]^=h,s[4]^=l,s[5]^=f,s[6]^=u,s[7]^=h,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var s=0;s<4;s++)r[s]=16711935&(r[s]<<8|r[s]>>>24)|4278255360&(r[s]<<24|r[s]>>>8),e[t+s]^=r[s]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var s=e[n]+t[n],r=65535&s,a=s>>>16,c=((r*r>>>17)+r*a>>>15)+a*a,l=((4294901760&s)*s|0)+((65535&s)*s|0);i[n]=c^l}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.RabbitLegacy=n._createHelper(a)}(),e.RabbitLegacy));var e}(),Bs());const Ls=()=>Kt.generate(),js=()=>{const e="accountShortId";let t=localStorage.getItem(e);return t||(t=Ls(),localStorage.setItem(e,t)),t};function Ms(){const e=window.location.pathname;if(e.startsWith("/share/pw/")){return e.substring(10)}if(e.startsWith("/share/")){return e.substring(7)}return null}const Ds=(e,t)=>{e&&(e.innerHTML=t)},Ps=(e,t)=>{const n=document.querySelector(e);n&&(n.textContent=t)},$s=e=>Is.SHA256(e).toString();const Rs=e=>{let t=e.target;if(t instanceof HTMLElement&&("A"!==t?.tagName||"#"===t.href||t.href.startsWith("javascript:"))){for(;t&&"li"!==t.tagName.toLowerCase();)t=t.parentNode;if(t&&(t.classList.contains("folded")||t.classList.contains("unfolded")))if(t.classList.contains("folded")){t.classList.replace("folded","unfolded");const e=t.querySelector("ul");e&&(e.style.display="")}else{t.classList.replace("unfolded","folded");const e=t.querySelector("ul");e&&(e.style.display="none")}}},qs=new Worker("../ftml.web.worker.js",{type:"module"});qs.onmessage=e=>{const{html:t,styles:n,type:s}=e.data;console.log("Received message from worker:",e.data);const r=document.getElementById({page:"page-content",side:"side-bar",top:"top-bar"}[s])||document.getElementById("page-content"),o=t.replace(/<wj-body class="wj-body">/g,"").replace(/<\/wj-body>/g,""),i=document.getElementById("page-styles");n.length>0&&i&&Ds(i,n.map((e=>`<style>\n${e.replace(/</g,"&lt;")}\n</style>`)).join("\n\n")),Ds(r,o),document.querySelectorAll(".foldable-list-container").forEach((e=>{e.addEventListener("click",Rs)}))};const Fs="https://script.google.com/macros/s/AKfycbxtEu4pZuQowfI0940Z4yTq77TLCZiL36wYZvq37Rv-knLteWMz9r95y5BN9abUrcmIbQ/exec";async function Hs(e){const t=`${Fs}?${new URLSearchParams(e).toString()}`;try{const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch data from GAS. Status: ${e.status}`);return await e.json()}catch(n){return console.error("Error fetching data from GAS:",n),{error:"Failed to fetch data from GAS"}}}async function Ks(e){return Hs({shortid:e})}async function Us(e,t){return Hs({shortid:e,revisionid:t,revision:!0})}async function Ws(e,t){const n=await Us(e,t);if(console.debug(n.data),n.data.source&&qs.postMessage({value:n.data.source,type:"page"}),n.data.title){const e=document.querySelector("#page-title");e&&(e.innerHTML=n.data.title)}!function(e){const t=document.getElementById("main-content"),n=document.createElement("div");n.id="page-version-info",n.style.top="0px";const s=document.createElement("table"),r=document.createElement("tbody"),o=[["Revision no.:",e.revisionNum],["Date created:",e.createdAt?zs(e.createdAt):"N/A"],["By:",e.createdBy||"N/A"],["Page name:",e.title||"N/A"]];o.forEach((e=>{const t=document.createElement("tr");e.forEach((e=>{const n=document.createElement("td");n.textContent=e,t.appendChild(n)})),r.appendChild(t)})),s.appendChild(r),n.appendChild(s);const i=document.createElement("a");i.href="javascript:void(0)",i.textContent="Close this box",i.addEventListener("click",(()=>{t?.removeChild(n)})),n.appendChild(i),t?.appendChild(n)}(n.data)}function zs(e){return e?new Date(e).toISOString().slice(0,19).replace("T"," ").replace(/-/g,"/"):"N/A"}class Vs{constructor(e,t){this.pageId=e,this.source=t}getPageId(){return this.pageId}getSource(){return this.source}}class Gs{constructor(e){t(this,"conf",{base:"/path/to/scripts/"}),t(this,"regex",/^\[\[include ([a-zA-Z0-9\s\-:]+?)(\s+.*?)?(?:\]\])$/ims),t(this,"includedPages",[]),this.wiki=e,this.updateIncludedPages()}async parse(){this.updateIncludedPages(),await this.checkForNewIncludes(),this.saveIncludedPagesToLocalStorage();let e,t=0;do{e=this.wiki.source;const n=this.regex.exec(this.wiki.source);if(n){const e=await this.process(n.slice(1));this.wiki.source=this.wiki.source.replace(this.regex,e)}this.updateIncludedPages(),await this.checkForNewIncludes(),this.saveIncludedPagesToLocalStorage(),t++}while(e!==this.wiki.source&&t<=10);this.saveIncludedPagesToLocalStorage()}async process(e){const[t,n]=e,s=this.toUnixName(t.trim()),r=this.getCachedPages()[t],o=r?new Vs(r.pageId,r.source):await this.getPageFromDb(s);if(!o){const e=`\n\n[[div class="error-block"]]\nPage to be included ${s} cannot be found!\n[[/div]]\n\n`;return this.wiki.vars.inclusionsNotExist={...this.wiki.vars.inclusionsNotExist,[s]:s},e}let i=o.getSource();if(n&&i){const e=n.split("|");for(const t of e){const[e,n]=t.split("=").map((e=>e.trim()));n&&e&&/^[a-z0-9\-_]+$/i.test(e)&&(i=i.replace(new RegExp(`{\\$${e}}`,"g"),n))}}return this.wiki.vars.inclusions={...this.wiki.vars.inclusions,[o.getPageId()]:o.getPageId()},`${i}`}toUnixName(e){return e.replace(/\s+/g,"_")}async getPageFromDb(e){try{const t=await Ks(e);return new Vs(t.data.shortId,t.data.source)}catch(t){return console.error("Failed to get page from DB:",t),null}}updateIncludedPages(){const e=/\[\[include ([a-zA-Z0-9\s\-:]+?)(\s+.*?)?\]\]/gims;let t;for(;null!==(t=e.exec(this.wiki.source));){const e=t[1].trim();this.includedPages.includes(e)||this.includedPages.push(e)}}saveIncludedPagesToLocalStorage(){localStorage.setItem("includedPages",JSON.stringify(this.includedPages))}static loadIncludedPagesFromLocalStorage(){const e=localStorage.getItem("includedPages");if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}return[]}async onEdit(e){const t=e.target.value;this.wiki.source=t,await this.parse()}async checkForNewIncludes(){const e=this.getCachedPages(),t=this.includedPages.filter((t=>!e[t]));t.length>0&&await this.fetchPagesFromGAS(t)}async fetchPagesFromGAS(e){for(const n of e)try{const e=await Ks(n);this.cachePage(n,e)}catch(t){console.error("Failed to fetch page:",n,t)}}cachePage(e,t){const n=this.getCachedPages();n[e]={pageId:t.data.shortId,source:t.data.source},localStorage.setItem("cachedPages",JSON.stringify(n))}getCachedPages(){const e=localStorage.getItem("cachedPages");return e?JSON.parse(e):{}}}const Js=document.getElementById("edit-page-textarea"),Ys=document.getElementById("edit-page-title"),Xs=document.getElementById("edit-side-textarea"),Qs=document.getElementById("actionarea-save"),Zs=document.getElementById("actionarea-share"),er=document.getElementById("actionarea-history"),tr=document.getElementById("lang-select"),nr=Symbol.for("yaml.alias"),sr=Symbol.for("yaml.document"),rr=Symbol.for("yaml.map"),or=Symbol.for("yaml.pair"),ir=Symbol.for("yaml.scalar"),ar=Symbol.for("yaml.seq"),cr=Symbol.for("yaml.node.type"),lr=e=>!!e&&"object"==typeof e&&e[cr]===nr,ur=e=>!!e&&"object"==typeof e&&e[cr]===sr,fr=e=>!!e&&"object"==typeof e&&e[cr]===rr,hr=e=>!!e&&"object"==typeof e&&e[cr]===or,dr=e=>!!e&&"object"==typeof e&&e[cr]===ir,pr=e=>!!e&&"object"==typeof e&&e[cr]===ar;function mr(e){if(e&&"object"==typeof e)switch(e[cr]){case rr:case ar:return!0}return!1}function gr(e){if(e&&"object"==typeof e)switch(e[cr]){case nr:case rr:case ir:case ar:return!0}return!1}const yr=Symbol("break visit"),vr=Symbol("skip children"),br=Symbol("remove node");function wr(e,t){const n=Sr(t);if(ur(e)){kr(null,e.contents,n,Object.freeze([e]))===br&&(e.contents=null)}else kr(null,e,n,Object.freeze([]))}function kr(e,t,n,s){const r=_r(e,t,n,s);if(gr(r)||hr(r))return Ar(e,s,r),kr(e,r,n,s);if("symbol"!=typeof r)if(mr(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const r=kr(e,t.items[e],n,s);if("number"==typeof r)e=r-1;else{if(r===yr)return yr;r===br&&(t.items.splice(e,1),e-=1)}}}else if(hr(t)){s=Object.freeze(s.concat(t));const e=kr("key",t.key,n,s);if(e===yr)return yr;e===br&&(t.key=null);const r=kr("value",t.value,n,s);if(r===yr)return yr;r===br&&(t.value=null)}return r}async function xr(e,t){const n=Sr(t);if(ur(e)){await Er(null,e.contents,n,Object.freeze([e]))===br&&(e.contents=null)}else await Er(null,e,n,Object.freeze([]))}async function Er(e,t,n,s){const r=await _r(e,t,n,s);if(gr(r)||hr(r))return Ar(e,s,r),Er(e,r,n,s);if("symbol"!=typeof r)if(mr(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const r=await Er(e,t.items[e],n,s);if("number"==typeof r)e=r-1;else{if(r===yr)return yr;r===br&&(t.items.splice(e,1),e-=1)}}}else if(hr(t)){s=Object.freeze(s.concat(t));const e=await Er("key",t.key,n,s);if(e===yr)return yr;e===br&&(t.key=null);const r=await Er("value",t.value,n,s);if(r===yr)return yr;r===br&&(t.value=null)}return r}function Sr(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function _r(e,t,n,s){return"function"==typeof n?n(e,t,s):fr(t)?n.Map?.(e,t,s):pr(t)?n.Seq?.(e,t,s):hr(t)?n.Pair?.(e,t,s):dr(t)?n.Scalar?.(e,t,s):lr(t)?n.Alias?.(e,t,s):void 0}function Ar(e,t,n){const s=t[t.length-1];if(mr(s))s.items[e]=n;else if(hr(s))"key"===e?s.key=n:s.value=n;else{if(!ur(s)){const e=lr(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}s.contents=n}}wr.BREAK=yr,wr.SKIP=vr,wr.REMOVE=br,xr.BREAK=yr,xr.SKIP=vr,xr.REMOVE=br;const Or={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class Nr{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Nr.defaultYaml,e),this.tags=Object.assign({},Nr.defaultTags,t)}clone(){const e=new Nr(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Nr(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Nr.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Nr.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Nr.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Nr.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,s]=n;return this.tags[e]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;return t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,s]=e.match(/^(.*!)([^!]*)$/s);s||t(`The ${e} tag has no suffix`);const r=this.tags[n];if(r)try{return r+decodeURIComponent(s)}catch(o){return t(String(o)),null}return"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>Or[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&gr(e.contents)){const t={};wr(e.contents,((e,n)=>{gr(n)&&n.tag&&(t[n.tag]=!0)})),s=Object.keys(t)}else s=[];for(const[r,o]of n)"!!"===r&&"tag:yaml.org,2002:"===o||e&&!s.some((e=>e.startsWith(o)))||t.push(`%TAG ${r} ${o}`);return t.join("\n")}}function Cr(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function Tr(e){const t=new Set;return wr(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function Br(e,t){for(let n=1;;++n){const s=`${e}${n}`;if(!t.has(s))return s}}function Ir(e,t,n,s){if(s&&"object"==typeof s)if(Array.isArray(s))for(let r=0,o=s.length;r<o;++r){const t=s[r],n=Ir(e,s,String(r),t);void 0===n?delete s[r]:n!==t&&(s[r]=n)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const t=s.get(r),n=Ir(e,s,r,t);void 0===n?s.delete(r):n!==t&&s.set(r,n)}else if(s instanceof Set)for(const r of Array.from(s)){const t=Ir(e,s,r,r);void 0===t?s.delete(r):t!==r&&(s.delete(r),s.add(t))}else for(const[r,o]of Object.entries(s)){const t=Ir(e,s,r,o);void 0===t?delete s[r]:t!==o&&(s[r]=t)}return e.call(t,n,s)}function Lr(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>Lr(e,String(t),n)));if(e&&"function"==typeof e.toJSON){if(!n||(!dr(s=e)&&!mr(s)||!s.anchor))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=e=>{r.res=e,delete n.onCreate};const o=e.toJSON(t,n);return n.onCreate&&n.onCreate(o),o}var s;return"bigint"!=typeof e||n?.keep?e:Number(e)}Nr.defaultYaml={explicit:!1,version:"1.2"},Nr.defaultTags={"!!":"tag:yaml.org,2002:"};class jr{constructor(e){Object.defineProperty(this,cr,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:s,reviver:r}={}){if(!ur(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},i=Lr(this,"",o);if("function"==typeof s)for(const{count:a,res:c}of o.anchors.values())s(c,a);return"function"==typeof r?Ir(r,{"":i},"",i):i}}class Mr extends jr{constructor(e){super(nr),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return wr(e,{Node:(e,n)=>{if(n===this)return wr.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:r}=t,o=this.resolve(s);if(!o){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}let i=n.get(o);if(i||(Lr(o,null,t),i=n.get(o)),!i||void 0===i.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(r>=0&&(i.count+=1,0===i.aliasCount&&(i.aliasCount=Dr(s,o,n)),i.count*i.aliasCount>r)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return i.res}toString(e,t,n){const s=`*${this.source}`;if(e){if(Cr(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${s} `}return s}}function Dr(e,t,n){if(lr(t)){const s=t.resolve(e),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}if(mr(t)){let s=0;for(const r of t.items){const t=Dr(e,r,n);t>s&&(s=t)}return s}if(hr(t)){const s=Dr(e,t.key,n),r=Dr(e,t.value,n);return Math.max(s,r)}return 1}const Pr=e=>!e||"function"!=typeof e&&"object"!=typeof e;class $r extends jr{constructor(e){super(ir),this.value=e}toJSON(e,t){return t?.keep?this.value:Lr(this.value,e,t)}toString(){return String(this.value)}}$r.BLOCK_FOLDED="BLOCK_FOLDED",$r.BLOCK_LITERAL="BLOCK_LITERAL",$r.PLAIN="PLAIN",$r.QUOTE_DOUBLE="QUOTE_DOUBLE",$r.QUOTE_SINGLE="QUOTE_SINGLE";function Rr(e,t,n){if(ur(e)&&(e=e.contents),gr(e))return e;if(hr(e)){const t=n.schema[rr].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:o,schema:i,sourceObjects:a}=n;let c;if(s&&e&&"object"==typeof e){if(c=a.get(e),c)return c.anchor||(c.anchor=r(e)),new Mr(c.anchor);c={anchor:null,node:null},a.set(e,c)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let l=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),s=e.find((e=>!e.format))??e[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,i.tags);if(!l){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new $r(e);return c&&(c.node=t),t}l=e instanceof Map?i[rr]:Symbol.iterator in Object(e)?i[ar]:i[rr]}o&&(o(l),delete n.onTagObj);const u=l?.createNode?l.createNode(n.schema,e,n):"function"==typeof l?.nodeClass?.from?l.nodeClass.from(n.schema,e,n):new $r(e);return t?u.tag=t:l.default||(u.tag=l.tag),c&&(c.node=u),u}function qr(e,t,n){let s=n;for(let r=t.length-1;r>=0;--r){const e=t[r];if("number"==typeof e&&Number.isInteger(e)&&e>=0){const t=[];t[e]=s,s=t}else s=new Map([[e,s]])}return Rr(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Fr=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class Hr extends jr{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>gr(t)||hr(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Fr(e))this.add(t);else{const[n,...s]=e,r=this.get(n,!0);if(mr(r))r.addIn(s,t);else{if(void 0!==r||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,qr(this.schema,s,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const s=this.get(t,!0);if(mr(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,r=this.get(n,!0);return 0===s.length?!t&&dr(r)?r.value:r:mr(r)?r.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!hr(t))return!1;const n=t.value;return null==n||e&&dr(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const s=this.get(t,!0);return!!mr(s)&&s.hasIn(n)}setIn(e,t){const[n,...s]=e;if(0===s.length)this.set(n,t);else{const e=this.get(n,!0);if(mr(e))e.setIn(s,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,qr(this.schema,s,t))}}}}const Kr=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Ur(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Wr=(e,t,n)=>e.endsWith("\n")?Ur(n,t):n.includes("\n")?"\n"+Ur(n,t):(e.endsWith(" ")?"":" ")+n,zr="flow",Vr="block",Gr="quoted";function Jr(e,t,n="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:o=20,onFold:i,onOverflow:a}={}){if(!r||r<0)return e;r<o&&(o=0);const c=Math.max(1+o,1+r-t.length);if(e.length<=c)return e;const l=[],u={};let f,h,d=r-t.length;"number"==typeof s&&(s>r-Math.max(2,o)?l.push(0):d=r-s);let p=!1,m=-1,g=-1,y=-1;n===Vr&&(m=Yr(e,m,t.length),-1!==m&&(d=m+c));for(let b;b=e[m+=1];){if(n===Gr&&"\\"===b){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}y=m}if("\n"===b)n===Vr&&(m=Yr(e,m,t.length)),d=m+t.length+c,f=void 0;else{if(" "===b&&h&&" "!==h&&"\n"!==h&&"\t"!==h){const t=e[m+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=m)}if(m>=d)if(f)l.push(f),d=f+c,f=void 0;else if(n===Gr){for(;" "===h||"\t"===h;)h=b,b=e[m+=1],p=!0;const t=m>y+1?m-2:g-1;if(u[t])return e;l.push(t),u[t]=!0,d=t+c,f=void 0}else p=!0}h=b}if(p&&a&&a(),0===l.length)return e;i&&i();let v=e.slice(0,l[0]);for(let b=0;b<l.length;++b){const s=l[b],r=l[b+1]||e.length;0===s?v=`\n${t}${e.slice(0,r)}`:(n===Gr&&u[s]&&(v+=`${e[s]}\\`),v+=`\n${t}${e.slice(s+1,r)}`)}return v}function Yr(e,t,n){let s=t,r=t+1,o=e[r];for(;" "===o||"\t"===o;)if(t<r+n)o=e[++t];else{do{o=e[++t]}while(o&&"\n"!==o);s=t,r=t+1,o=e[r]}return s}const Xr=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Qr=e=>/^(%|---|\.\.\.)/m.test(e);function Zr(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=t,r=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(Qr(e)?"  ":"");let i="",a=0;for(let c=0,l=n[c];l;l=n[++c])if(" "===l&&"\\"===n[c+1]&&"n"===n[c+2]&&(i+=n.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),"\\"===l)switch(n[c+1]){case"u":{i+=n.slice(a,c);const e=n.substr(c+2,4);switch(e){case"0000":i+="\\0";break;case"0007":i+="\\a";break;case"000b":i+="\\v";break;case"001b":i+="\\e";break;case"0085":i+="\\N";break;case"00a0":i+="\\_";break;case"2028":i+="\\L";break;case"2029":i+="\\P";break;default:"00"===e.substr(0,2)?i+="\\x"+e.substr(2):i+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(s||'"'===n[c+2]||n.length<r)c+=1;else{for(i+=n.slice(a,c)+"\n\n";"\\"===n[c+2]&&"n"===n[c+3]&&'"'!==n[c+4];)i+="\n",c+=2;i+=o," "===n[c+2]&&(i+="\\"),c+=1,a=c+1}break;default:c+=1}return i=a?i+n.slice(a):n,s?i:Jr(i,o,Gr,Xr(t,!1))}function eo(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return Zr(e,t);const n=t.indent||(Qr(e)?"  ":""),s="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?s:Jr(s,n,zr,Xr(t,!1))}function to(e,t){const{singleQuote:n}=t.options;let s;if(!1===n)s=Zr;else{const t=e.includes('"'),r=e.includes("'");s=t&&!r?eo:r&&!t?Zr:n?eo:Zr}return s(e,t)}let no;try{no=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{no=/\n+(?!\n|$)/g}function so({comment:e,type:t,value:n},s,r,o){const{blockQuote:i,commentString:a,lineWidth:c}=s.options;if(!i||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return to(n,s);const l=s.indent||(s.forceBlockIndent||Qr(n)?"  ":""),u="literal"===i||"folded"!==i&&t!==$r.BLOCK_FOLDED&&(t===$r.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const s=t-n,r=e.length;if(r<=s)return!1;for(let o=0,i=0;o<r;++o)if("\n"===e[o]){if(o-i>s)return!0;if(i=o+1,r-i<=s)return!1}return!0}(n,c,l.length));if(!n)return u?"|\n":">\n";let f,h;for(h=n.length;h>0;--h){const e=n[h-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let d=n.substring(h);const p=d.indexOf("\n");-1===p?f="-":n===d||p!==d.length-1?(f="+",o&&o()):f="",d&&(n=n.slice(0,-d.length),"\n"===d[d.length-1]&&(d=d.slice(0,-1)),d=d.replace(no,`$&${l}`));let m,g=!1,y=-1;for(m=0;m<n.length;++m){const e=n[m];if(" "===e)g=!0;else{if("\n"!==e)break;y=m}}let v=n.substring(0,y<m?y+1:m);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${l}`));let b=(g?l?"2":"1":"")+f;if(e&&(b+=" "+a(e.replace(/ ?[\r\n]+/g," ")),r&&r()),!u){const e=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`);let r=!1;const o=Xr(s,!0);"folded"!==i&&t!==$r.BLOCK_FOLDED&&(o.onOverflow=()=>{r=!0});const a=Jr(`${v}${e}${d}`,l,Vr,o);if(!r)return`>${b}\n${l}${a}`}return`|${b}\n${l}${v}${n=n.replace(/\n+/g,`$&${l}`)}${d}`}function ro(e,t,n,s){const{implicitKey:r,inFlow:o}=t,i="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==$r.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(i.value)&&(a=$r.QUOTE_DOUBLE);const c=e=>{switch(e){case $r.BLOCK_FOLDED:case $r.BLOCK_LITERAL:return r||o?to(i.value,t):so(i,t,n,s);case $r.QUOTE_DOUBLE:return Zr(i.value,t);case $r.QUOTE_SINGLE:return eo(i.value,t);case $r.PLAIN:return function(e,t,n,s){const{type:r,value:o}=e,{actualString:i,implicitKey:a,indent:c,indentStep:l,inFlow:u}=t;if(a&&o.includes("\n")||u&&/[[\]{},]/.test(o))return to(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||u||!o.includes("\n")?to(o,t):so(e,t,n,s);if(!a&&!u&&r!==$r.PLAIN&&o.includes("\n"))return so(e,t,n,s);if(Qr(o)){if(""===c)return t.forceBlockIndent=!0,so(e,t,n,s);if(a&&c===l)return to(o,t)}const f=o.replace(/\n+/g,`$&\n${c}`);if(i){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(f),{compat:n,tags:s}=t.doc.schema;if(s.some(e)||n?.some(e))return to(o,t)}return a?f:Jr(f,c,zr,Xr(t,!1))}(i,t,n,s);default:return null}};let l=c(a);if(null===l){const{defaultKeyType:e,defaultStringType:n}=t.options,s=r&&e||n;if(l=c(s),null===l)throw new Error(`Unsupported default string type ${s}`)}return l}function oo(e,t){const n=Object.assign({blockQuote:!0,commentString:Kr,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function io(e,t,n,s){if(hr(e))return e.toString(t,n,s);if(lr(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let r;const o=gr(e)?e:t.doc.createNode(e,{onTagObj:e=>r=e});r||(r=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,s;if(dr(t)){s=t.value;let r=e.filter((e=>e.identify?.(s)));if(r.length>1){const e=r.filter((e=>e.test));e.length>0&&(r=e)}n=r.find((e=>e.format===t.format))??r.find((e=>!e.format))}else s=t,n=e.find((e=>e.nodeClass&&s instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${s?.constructor?.name??typeof s} value`);return n}(t.doc.schema.tags,o));const i=function(e,t,{anchors:n,doc:s}){if(!s.directives)return"";const r=[],o=(dr(e)||mr(e))&&e.anchor;o&&Cr(o)&&(n.add(o),r.push(`&${o}`));const i=e.tag?e.tag:t.default?null:t.tag;return i&&r.push(s.directives.tagString(i)),r.join(" ")}(o,r,t);i.length>0&&(t.indentAtStart=(t.indentAtStart??0)+i.length+1);const a="function"==typeof r.stringify?r.stringify(o,t,n,s):dr(o)?ro(o,t,n,s):o.toString(t,n,s);return i?dr(o)||"{"===a[0]||"["===a[0]?`${i} ${a}`:`${i}\n${t.indent}${a}`:a}function ao(e,t){"debug"!==e&&"warn"!==e||console.warn(t)}const co="<<",lo={identify:e=>e===co||"symbol"==typeof e&&e.description===co,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new $r(Symbol(co)),{addToJSMap:uo}),stringify:()=>co};function uo(e,t,n){if(n=e&&lr(n)?n.resolve(e.doc):n,pr(n))for(const s of n.items)fo(e,t,s);else if(Array.isArray(n))for(const s of n)fo(e,t,s);else fo(e,t,n)}function fo(e,t,n){const s=e&&lr(n)?n.resolve(e.doc):n;if(!fr(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,e,Map);for(const[o,i]of r)t instanceof Map?t.has(o)||t.set(o,i):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:i,writable:!0,enumerable:!0,configurable:!0});return t}function ho(e,t,{key:n,value:s}){if(gr(n)&&n.addToJSMap)n.addToJSMap(e,t,s);else if(((e,t)=>(lo.identify(t)||dr(t)&&(!t.type||t.type===$r.PLAIN)&&lo.identify(t.value))&&e?.doc.schema.tags.some((e=>e.tag===lo.tag&&e.default)))(e,n))uo(e,t,s);else{const r=Lr(n,"",e);if(t instanceof Map)t.set(r,Lr(s,r,e));else if(t instanceof Set)t.add(r);else{const o=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(gr(e)&&n?.doc){const t=oo(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const s=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(s);e.length>40&&(e=e.substring(0,36)+'..."'),ao(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}(n,r,e),i=Lr(s,o,e);o in t?Object.defineProperty(t,o,{value:i,writable:!0,enumerable:!0,configurable:!0}):t[o]=i}}return t}function po(e,t,n){const s=Rr(e,void 0,n),r=Rr(t,void 0,n);return new mo(s,r)}class mo{constructor(e,t=null){Object.defineProperty(this,cr,{value:or}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return gr(t)&&(t=t.clone(e)),gr(n)&&(n=n.clone(e)),new mo(t,n)}toJSON(e,t){return ho(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,s,r){const{allNullValues:o,doc:i,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:f}}=n;let h=gr(e)&&e.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(mr(e)||!gr(e)&&"object"==typeof e)throw new Error("With simple keys, collection cannot be used as a key value")}let d=!f&&(!e||h&&null==t&&!n.inFlow||mr(e)||(dr(e)?e.type===$r.BLOCK_FOLDED||e.type===$r.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(f||!o),indent:a+c});let p,m,g,y=!1,v=!1,b=io(e,n,(()=>y=!0),(()=>v=!0));if(!d&&!n.inFlow&&b.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(o||null==t)return y&&s&&s(),""===b?"?":d?`? ${b}`:b}else if(o&&!f||null==t&&d)return b=`? ${b}`,h&&!y?b+=Wr(b,n.indent,l(h)):v&&r&&r(),b;y&&(h=null),d?(h&&(b+=Wr(b,n.indent,l(h))),b=`? ${b}\n${a}:`):(b=`${b}:`,h&&(b+=Wr(b,n.indent,l(h)))),gr(t)?(p=!!t.spaceBefore,m=t.commentBefore,g=t.comment):(p=!1,m=null,g=null,t&&"object"==typeof t&&(t=i.createNode(t))),n.implicitKey=!1,d||h||!dr(t)||(n.indentAtStart=b.length+1),v=!1,u||!(c.length>=2)||n.inFlow||d||!pr(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substring(2));let w=!1;const k=io(t,n,(()=>w=!0),(()=>v=!0));let x=" ";if(h||p||m)x=p?"\n":"",m&&(x+=`\n${Ur(l(m),n.indent)}`),""!==k||n.inFlow?x+=`\n${n.indent}`:"\n"===x&&(x="\n\n");else if(!d&&mr(t)){const e=k[0],s=k.indexOf("\n"),r=-1!==s,o=n.inFlow??t.flow??0===t.items.length;if(r||!o){let t=!1;if(r&&("&"===e||"!"===e)){let n=k.indexOf(" ");"&"===e&&-1!==n&&n<s&&"!"===k[n+1]&&(n=k.indexOf(" ",n+1)),(-1===n||s<n)&&(t=!0)}t||(x=`\n${n.indent}`)}}else""!==k&&"\n"!==k[0]||(x="");return b+=x+k,n.inFlow?w&&s&&s():g&&!w?b+=Wr(b,n.indent,l(g)):v&&r&&r(),b}(this,e,t,n):JSON.stringify(this)}}function go(e,t,n){return(t.inFlow??e.flow?vo:yo)(e,t,n)}function yo({comment:e,items:t},n,{blockItemPrefix:s,flowChars:r,itemIndent:o,onChompKeep:i,onComment:a}){const{indent:c,options:{commentString:l}}=n,u=Object.assign({},n,{indent:o,type:null});let f=!1;const h=[];for(let p=0;p<t.length;++p){const e=t[p];let r=null;if(gr(e))!f&&e.spaceBefore&&h.push(""),bo(n,h,e.commentBefore,f),e.comment&&(r=e.comment);else if(hr(e)){const t=gr(e.key)?e.key:null;t&&(!f&&t.spaceBefore&&h.push(""),bo(n,h,t.commentBefore,f))}f=!1;let i=io(e,u,(()=>r=null),(()=>f=!0));r&&(i+=Wr(i,o,l(r))),f&&r&&(f=!1),h.push(s+i)}let d;if(0===h.length)d=r.start+r.end;else{d=h[0];for(let e=1;e<h.length;++e){const t=h[e];d+=t?`\n${c}${t}`:"\n"}}return e?(d+="\n"+Ur(l(e),c),a&&a()):f&&i&&i(),d}function vo({items:e},t,{flowChars:n,itemIndent:s}){const{indent:r,indentStep:o,flowCollectionPadding:i,options:{commentString:a}}=t;s+=o;const c=Object.assign({},t,{indent:s,inFlow:!0,type:null});let l=!1,u=0;const f=[];for(let p=0;p<e.length;++p){const n=e[p];let r=null;if(gr(n))n.spaceBefore&&f.push(""),bo(t,f,n.commentBefore,!1),n.comment&&(r=n.comment);else if(hr(n)){const e=gr(n.key)?n.key:null;e&&(e.spaceBefore&&f.push(""),bo(t,f,e.commentBefore,!1),e.comment&&(l=!0));const s=gr(n.value)?n.value:null;s?(s.comment&&(r=s.comment),s.commentBefore&&(l=!0)):null==n.value&&e?.comment&&(r=e.comment)}r&&(l=!0);let o=io(n,c,(()=>r=null));p<e.length-1&&(o+=","),r&&(o+=Wr(o,s,a(r))),!l&&(f.length>u||o.includes("\n"))&&(l=!0),f.push(o),u=f.length}const{start:h,end:d}=n;if(0===f.length)return h+d;if(!l){const e=f.reduce(((e,t)=>e+t.length+2),2);l=t.options.lineWidth>0&&e>t.options.lineWidth}if(l){let e=h;for(const t of f)e+=t?`\n${o}${r}${t}`:"\n";return`${e}\n${r}${d}`}return`${h}${i}${f.join(" ")}${i}${d}`}function bo({indent:e,options:{commentString:t}},n,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const r=Ur(t(s),e);n.push(r.trimStart())}}function wo(e,t){const n=dr(t)?t.value:t;for(const s of e)if(hr(s)){if(s.key===t||s.key===n)return s;if(dr(s.key)&&s.key.value===n)return s}}class ko extends Hr{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(rr,e),this.items=[]}static from(e,t,n){const{keepUndefined:s,replacer:r}=n,o=new this(e),i=(e,i)=>{if("function"==typeof r)i=r.call(t,e,i);else if(Array.isArray(r)&&!r.includes(e))return;(void 0!==i||s)&&o.items.push(po(e,i,n))};if(t instanceof Map)for(const[a,c]of t)i(a,c);else if(t&&"object"==typeof t)for(const a of Object.keys(t))i(a,t[a]);return"function"==typeof e.sortMapEntries&&o.items.sort(e.sortMapEntries),o}add(e,t){let n;n=hr(e)?e:e&&"object"==typeof e&&"key"in e?new mo(e.key,e.value):new mo(e,e?.value);const s=wo(this.items,n.key),r=this.schema?.sortMapEntries;if(s){if(!t)throw new Error(`Key ${n.key} already set`);dr(s.value)&&Pr(n.value)?s.value.value=n.value:s.value=n.value}else if(r){const e=this.items.findIndex((e=>r(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=wo(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=wo(this.items,e),s=n?.value;return(!t&&dr(s)?s.value:s)??void 0}has(e){return!!wo(this.items,e)}set(e,t){this.add(new mo(e,t),!0)}toJSON(e,t,n){const s=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(s);for(const r of this.items)ho(t,s,r);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const s of this.items)if(!hr(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),go(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const xo={collection:"map",default:!0,nodeClass:ko,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(fr(e)||t("Expected a mapping for this tag"),e),createNode:(e,t,n)=>ko.from(e,t,n)};class Eo extends Hr{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(ar,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=So(e);if("number"!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=So(e);if("number"!=typeof n)return;const s=this.items[n];return!t&&dr(s)?s.value:s}has(e){const t=So(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=So(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];dr(s)&&Pr(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let s=0;for(const r of this.items)n.push(Lr(r,String(s++),t));return n}toString(e,t,n){return e?go(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:s}=n,r=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let o of t){if("function"==typeof s){const n=t instanceof Set?o:String(e++);o=s.call(t,n,o)}r.items.push(Rr(o,void 0,n))}}return r}}function So(e){let t=dr(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const _o={collection:"seq",default:!0,nodeClass:Eo,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(pr(e)||t("Expected a sequence for this tag"),e),createNode:(e,t,n)=>Eo.from(e,t,n)},Ao={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,s)=>ro(e,t=Object.assign({actualString:!0},t),n,s)},Oo={identify:e=>null==e,createNode:()=>new $r(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new $r(null),stringify:({source:e},t)=>"string"==typeof e&&Oo.test.test(e)?e:t.options.nullStr},No={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new $r("t"===e[0]||"T"===e[0]),stringify({source:e,value:t},n){if(e&&No.test.test(e)){if(t===("t"===e[0]||"T"===e[0]))return e}return t?n.options.trueStr:n.options.falseStr}};function Co({format:e,minFractionDigits:t,tag:n,value:s}){if("bigint"==typeof s)return String(s);const r="number"==typeof s?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let o=JSON.stringify(s);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){let e=o.indexOf(".");e<0&&(e=o.length,o+=".");let n=t-(o.length-e-1);for(;n-- >0;)o+="0"}return o}const To={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Co},Bo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Co(e)}},Io={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new $r(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Co},Lo=e=>"bigint"==typeof e||Number.isInteger(e),jo=(e,t,n,{intAsBigInt:s})=>s?BigInt(e):parseInt(e.substring(t),n);function Mo(e,t,n){const{value:s}=e;return Lo(s)&&s>=0?n+s.toString(t):Co(e)}const Do={identify:e=>Lo(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>jo(e,2,8,n),stringify:e=>Mo(e,8,"0o")},Po={identify:Lo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>jo(e,0,10,n),stringify:Co},$o={identify:e=>Lo(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>jo(e,2,16,n),stringify:e=>Mo(e,16,"0x")},Ro=[xo,_o,Ao,Oo,No,Do,Po,$o,To,Bo,Io];function qo(e){return"bigint"==typeof e||Number.isInteger(e)}const Fo=({value:e})=>JSON.stringify(e),Ho=[xo,_o].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Fo},{identify:e=>null==e,createNode:()=>new $r(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Fo},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>"true"===e,stringify:Fo},{identify:qo,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>qo(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Fo}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),Ko={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},s,r,o){const i=n;let a;if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<i.length;++t)e+=String.fromCharCode(i[t]);a=btoa(e)}if(t||(t=$r.BLOCK_LITERAL),t!==$r.QUOTE_DOUBLE){const e=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),n=Math.ceil(a.length/e),r=new Array(n);for(let t=0,s=0;t<n;++t,s+=e)r[t]=a.substr(s,e);a=r.join(t===$r.BLOCK_LITERAL?"\n":" ")}return ro({comment:e,type:t,value:a},s,r,o)}};function Uo(e,t){if(pr(e))for(let n=0;n<e.items.length;++n){let s=e.items[n];if(!hr(s)){if(fr(s)){s.items.length>1&&t("Each pair must have its own sequence indicator");const e=s.items[0]||new mo(new $r(null));if(s.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${s.commentBefore}\n${e.key.commentBefore}`:s.commentBefore),s.comment){const t=e.value??e.key;t.comment=t.comment?`${s.comment}\n${t.comment}`:s.comment}s=e}e.items[n]=hr(s)?s:new mo(s)}}else t("Expected a sequence for this tag");return e}function Wo(e,t,n){const{replacer:s}=n,r=new Eo(e);r.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let i of t){let e,a;if("function"==typeof s&&(i=s.call(t,String(o++),i)),Array.isArray(i)){if(2!==i.length)throw new TypeError(`Expected [key, value] tuple: ${i}`);e=i[0],a=i[1]}else if(i&&i instanceof Object){const t=Object.keys(i);if(1!==t.length)throw new TypeError(`Expected tuple with one key, not ${t.length} keys`);e=t[0],a=i[e]}else e=i;r.items.push(po(e,a,n))}return r}const zo={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Uo,createNode:Wo};class Vo extends Eo{constructor(){super(),this.add=ko.prototype.add.bind(this),this.delete=ko.prototype.delete.bind(this),this.get=ko.prototype.get.bind(this),this.has=ko.prototype.has.bind(this),this.set=ko.prototype.set.bind(this),this.tag=Vo.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const s of this.items){let e,r;if(hr(s)?(e=Lr(s.key,"",t),r=Lr(s.value,e,t)):e=Lr(s,"",t),n.has(e))throw new Error("Ordered maps must not include duplicate keys");n.set(e,r)}return n}static from(e,t,n){const s=Wo(e,t,n),r=new this;return r.items=s.items,r}}Vo.tag="tag:yaml.org,2002:omap";const Go={collection:"seq",identify:e=>e instanceof Map,nodeClass:Vo,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Uo(e,t),s=[];for(const{key:r}of n.items)dr(r)&&(s.includes(r.value)?t(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new Vo,n)},createNode:(e,t,n)=>Vo.from(e,t,n)};function Jo({value:e,source:t},n){return t&&(e?Yo:Xo).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Yo={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new $r(!0),stringify:Jo},Xo={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new $r(!1),stringify:Jo},Qo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Co},Zo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Co(e)}},ei={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new $r(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const s=e.substring(n+1).replace(/_/g,"");"0"===s[s.length-1]&&(t.minFractionDigits=s.length)}return t},stringify:Co},ti=e=>"bigint"==typeof e||Number.isInteger(e);function ni(e,t,n,{intAsBigInt:s}){const r=e[0];if("-"!==r&&"+"!==r||(t+=1),e=e.substring(t).replace(/_/g,""),s){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===r?BigInt(-1)*t:t}const o=parseInt(e,n);return"-"===r?-1*o:o}function si(e,t,n){const{value:s}=e;if(ti(s)){const e=s.toString(t);return s<0?"-"+n+e.substr(1):n+e}return Co(e)}const ri={identify:ti,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>ni(e,2,2,n),stringify:e=>si(e,2,"0b")},oi={identify:ti,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>ni(e,1,8,n),stringify:e=>si(e,8,"0")},ii={identify:ti,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>ni(e,0,10,n),stringify:Co},ai={identify:ti,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>ni(e,2,16,n),stringify:e=>si(e,16,"0x")};class ci extends ko{constructor(e){super(e),this.tag=ci.tag}add(e){let t;t=hr(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new mo(e.key,null):new mo(e,null);wo(this.items,t.key)||this.items.push(t)}get(e,t){const n=wo(this.items,e);return!t&&hr(n)?dr(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=wo(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new mo(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:s}=n,r=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)"function"==typeof s&&(o=s.call(t,o,o)),r.items.push(po(o,null,n));return r}}ci.tag="tag:yaml.org,2002:set";const li={collection:"map",identify:e=>e instanceof Set,nodeClass:ci,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>ci.from(e,t,n),resolve(e,t){if(fr(e)){if(e.hasAllNullValues(!0))return Object.assign(new ci,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function ui(e,t){const n=e[0],s="-"===n||"+"===n?e.substring(1):e,r=e=>t?BigInt(e):Number(e),o=s.replace(/_/g,"").split(":").reduce(((e,t)=>e*r(60)+r(t)),r(0));return"-"===n?r(-1)*o:o}function fi(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Co(e);let s="";t<0&&(s="-",t*=n(-1));const r=n(60),o=[t%r];return t<60?o.unshift(0):(t=(t-o[0])/r,o.unshift(t%r),t>=60&&(t=(t-o[0])/r,o.unshift(t))),s+o.map((e=>String(e).padStart(2,"0"))).join(":").replace(/000000\d*$/,"")}const hi={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>ui(e,n),stringify:fi},di={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>ui(e,!1),stringify:fi},pi={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(pi.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,r,o,i,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let l=Date.UTC(n,s-1,r,o||0,i||0,a||0,c);const u=t[8];if(u&&"Z"!==u){let e=ui(u,!1);Math.abs(e)<30&&(e*=60),l-=6e4*e}return new Date(l)},stringify:({value:e})=>e.toISOString().replace(/(T00:00:00)?\.000Z$/,"")},mi=[xo,_o,Ao,Oo,Yo,Xo,ri,oi,ii,ai,Qo,Zo,ei,Ko,lo,Go,zo,li,hi,di,pi],gi=new Map([["core",Ro],["failsafe",[xo,_o,Ao]],["json",Ho],["yaml11",mi],["yaml-1.1",mi]]),yi={binary:Ko,bool:No,float:Io,floatExp:Bo,floatNaN:To,floatTime:di,int:Po,intHex:$o,intOct:Do,intTime:hi,map:xo,merge:lo,null:Oo,omap:Go,pairs:zo,seq:_o,set:li,timestamp:pi},vi={"tag:yaml.org,2002:binary":Ko,"tag:yaml.org,2002:merge":lo,"tag:yaml.org,2002:omap":Go,"tag:yaml.org,2002:pairs":zo,"tag:yaml.org,2002:set":li,"tag:yaml.org,2002:timestamp":pi};function bi(e,t,n){const s=gi.get(t);if(s&&!e)return n&&!s.includes(lo)?s.concat(lo):s.slice();let r=s;if(!r){if(!Array.isArray(e)){const e=Array.from(gi.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}r=[]}if(Array.isArray(e))for(const o of e)r=r.concat(o);else"function"==typeof e&&(r=e(r.slice()));return n&&(r=r.concat(lo)),r.reduce(((e,t)=>{const n="string"==typeof t?yi[t]:t;if(!n){const e=JSON.stringify(t),n=Object.keys(yi).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag ${e}; use one of ${n}`)}return e.includes(n)||e.push(n),e}),[])}const wi=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class ki{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:s,schema:r,sortMapEntries:o,toStringDefaults:i}){this.compat=Array.isArray(e)?bi(e,"compat"):e?bi(null,e):null,this.name="string"==typeof r&&r||"core",this.knownTags=s?vi:{},this.tags=bi(t,this.name,n),this.toStringOptions=i??null,Object.defineProperty(this,rr,{value:xo}),Object.defineProperty(this,ir,{value:Ao}),Object.defineProperty(this,ar,{value:_o}),this.sortMapEntries="function"==typeof o?o:!0===o?wi:null}clone(){const e=Object.create(ki.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class xi{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,cr,{value:sr});let s=null;"function"==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:o}=r;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Nr({version:o}),this.setSchema(o,n),this.contents=void 0===e?null:this.createNode(e,s,n)}clone(){const e=Object.create(xi.prototype,{[cr]:{value:sr}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=gr(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Ei(this.contents)&&this.contents.add(e)}addIn(e,t){Ei(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Tr(this);e.anchor=!t||n.has(t)?Br(t||"a",n):t}return new Mr(e.anchor)}createNode(e,t,n){let s;if("function"==typeof t)e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),s=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:i,keepUndefined:a,onTagObj:c,tag:l}=n??{},{onAnchor:u,setAnchors:f,sourceObjects:h}=function(e,t){const n=[],s=new Map;let r=null;return{onAnchor:s=>{n.push(s),r||(r=Tr(e));const o=Br(t,r);return r.add(o),o},setAnchors:()=>{for(const e of n){const t=s.get(e);if("object"!=typeof t||!t.anchor||!dr(t.node)&&!mr(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:s}}(this,o||"a"),d=Rr(e,l,{aliasDuplicateObjects:r??!0,keepUndefined:a??!1,onAnchor:u,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:h});return i&&mr(d)&&(d.flow=!0),f(),d}createPair(e,t,n={}){const s=this.createNode(e,null,n),r=this.createNode(t,null,n);return new mo(s,r)}delete(e){return!!Ei(this.contents)&&this.contents.delete(e)}deleteIn(e){return Fr(e)?null!=this.contents&&(this.contents=null,!0):!!Ei(this.contents)&&this.contents.deleteIn(e)}get(e,t){return mr(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Fr(e)?!t&&dr(this.contents)?this.contents.value:this.contents:mr(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!mr(this.contents)&&this.contents.has(e)}hasIn(e){return Fr(e)?void 0!==this.contents:!!mr(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=qr(this.schema,[e],t):Ei(this.contents)&&this.contents.set(e,t)}setIn(e,t){Fr(e)?this.contents=t:null==this.contents?this.contents=qr(this.schema,Array.from(e),t):Ei(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Nr({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Nr({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new ki(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:o}={}){const i={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof s?s:100},a=Lr(this.contents,t??"",i);if("function"==typeof r)for(const{count:c,res:l}of i.anchors.values())r(l,c);return"function"==typeof o?Ir(o,{"":a},"",a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const n=[];let s=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),s=!0):e.directives.docStart&&(s=!0)}s&&n.push("---");const r=oo(e,t),{commentString:o}=r.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=o(e.commentBefore);n.unshift(Ur(t,""))}let i=!1,a=null;if(e.contents){if(gr(e.contents)){if(e.contents.spaceBefore&&s&&n.push(""),e.contents.commentBefore){const t=o(e.contents.commentBefore);n.push(Ur(t,""))}r.forceBlockIndent=!!e.comment,a=e.contents.comment}const t=a?void 0:()=>i=!0;let c=io(e.contents,r,(()=>a=null),t);a&&(c+=Wr(c,"",o(a))),"|"!==c[0]&&">"!==c[0]||"---"!==n[n.length-1]?n.push(c):n[n.length-1]=`--- ${c}`}else n.push(io(e.contents,r));if(e.directives?.docEnd)if(e.comment){const t=o(e.comment);t.includes("\n")?(n.push("..."),n.push(Ur(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&i&&(t=t.replace(/^\n+/,"")),t&&(i&&!a||""===n[n.length-1]||n.push(""),n.push(Ur(o(t),"")))}return n.join("\n")+"\n"}(this,e)}}function Ei(e){if(mr(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Si extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class _i extends Si{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Ai extends Si{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Oi=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let o=r-1,i=e.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,"");if(o>=60&&i.length>80){const e=Math.min(o-39,i.length-79);i=""+i.substring(e),o-=e-1}if(i.length>80&&(i=i.substring(0,79)+""),s>1&&/^ *$/.test(i.substring(0,o))){let n=e.substring(t.lineStarts[s-2],t.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+"\n"),i=n+i}if(/[^ ]/.test(i)){let e=1;const t=n.linePos[1];t&&t.line===s&&t.col>r&&(e=Math.max(1,Math.min(t.col-r,80-o)));const a=" ".repeat(o)+"^".repeat(e);n.message+=`:\n\n${i}\n${a}\n`}};function Ni(e,{flow:t,indicator:n,next:s,offset:r,onError:o,parentIndent:i,startOnNewline:a}){let c=!1,l=a,u=a,f="",h="",d=!1,p=!1,m=null,g=null,y=null,v=null,b=null,w=null,k=null;for(const S of e)switch(p&&("space"!==S.type&&"newline"!==S.type&&"comma"!==S.type&&o(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),m&&(l&&"comment"!==S.type&&"newline"!==S.type&&o(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),S.type){case"space":t||"doc-start"===n&&"flow-collection"===s?.type||!S.source.includes("\t")||(m=S),u=!0;break;case"comment":{u||o(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=S.source.substring(1)||" ";f?f+=h+e:f=e,h="",l=!1;break}case"newline":l?f?f+=S.source:w&&"seq-item-ind"===n||(c=!0):h+=S.source,l=!0,d=!0,(g||y)&&(v=S),u=!0;break;case"anchor":g&&o(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),S.source.endsWith(":")&&o(S.offset+S.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=S,null===k&&(k=S.offset),l=!1,u=!1,p=!0;break;case"tag":y&&o(S,"MULTIPLE_TAGS","A node can have at most one tag"),y=S,null===k&&(k=S.offset),l=!1,u=!1,p=!0;break;case n:(g||y)&&o(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),w&&o(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${t??"collection"}`),w=S,l="seq-item-ind"===n||"explicit-key-ind"===n,u=!1;break;case"comma":if(t){b&&o(S,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),b=S,l=!1,u=!1;break}default:o(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),l=!1,u=!1}const x=e[e.length-1],E=x?x.offset+x.source.length:r;return p&&s&&"space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&("scalar"!==s.type||""!==s.source)&&o(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(l&&m.indent<=i||"block-map"===s?.type||"block-seq"===s?.type)&&o(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:b,found:w,spaceBefore:c,comment:f,hasNewline:d,anchor:g,tag:y,newlineAfterProp:v,end:E,start:k??E}}function Ci(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Ci(t.key)||Ci(t.value))return!0}return!1;default:return!0}}function Ti(e,t,n){if("flow-collection"===t?.type){const s=t.end[0];if(s.indent===e&&("]"===s.source||"}"===s.source)&&Ci(t)){n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function Bi(e,t,n){const{uniqueKeys:s}=e.options;if(!1===s)return!1;const r="function"==typeof s?s:(e,t)=>e===t||dr(e)&&dr(t)&&e.value===t.value;return t.some((e=>r(e.key,n)))}const Ii="All mapping items must start at the same column";function Li(e,t,n,s){let r="";if(e){let o=!1,i="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":o=!0;break;case"comment":{n&&!o&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";r?r+=i+t:r=t,i="";break}case"newline":r&&(i+=e),o=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:r,offset:t}}const ji="Block collections are not allowed within flow collections",Mi=e=>e&&("block-map"===e.type||"block-seq"===e.type);function Di(e,t,n,s,r,o){const i="block-map"===n.type?function({composeNode:e,composeEmptyNode:t},n,s,r,o){const i=new(o?.nodeClass??ko)(n.schema);n.atRoot&&(n.atRoot=!1);let a=s.offset,c=null;for(const l of s.items){const{start:o,key:u,sep:f,value:h}=l,d=Ni(o,{indicator:"explicit-key-ind",next:u??f?.[0],offset:a,onError:r,parentIndent:s.indent,startOnNewline:!0}),p=!d.found;if(p){if(u&&("block-seq"===u.type?r(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==s.indent&&r(a,"BAD_INDENT",Ii)),!d.anchor&&!d.tag&&!f){c=d.end,d.comment&&(i.comment?i.comment+="\n"+d.comment:i.comment=d.comment);continue}(d.newlineAfterProp||Ci(u))&&r(u??o[o.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else d.found?.indent!==s.indent&&r(a,"BAD_INDENT",Ii);n.atKey=!0;const m=d.end,g=u?e(n,u,d,r):t(n,m,o,null,d,r);n.schema.compat&&Ti(s.indent,u,r),n.atKey=!1,Bi(n,i.items,g)&&r(m,"DUPLICATE_KEY","Map keys must be unique");const y=Ni(f??[],{indicator:"map-value-ind",next:h,offset:g.range[2],onError:r,parentIndent:s.indent,startOnNewline:!u||"block-scalar"===u.type});if(a=y.end,y.found){p&&("block-map"!==h?.type||y.hasNewline||r(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&d.start<y.found.offset-1024&&r(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const o=h?e(n,h,y,r):t(n,a,f,null,y,r);n.schema.compat&&Ti(s.indent,h,r),a=o.range[2];const c=new mo(g,o);n.options.keepSourceTokens&&(c.srcToken=l),i.items.push(c)}else{p&&r(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),y.comment&&(g.comment?g.comment+="\n"+y.comment:g.comment=y.comment);const e=new mo(g);n.options.keepSourceTokens&&(e.srcToken=l),i.items.push(e)}}return c&&c<a&&r(c,"IMPOSSIBLE","Map comment with trailing content"),i.range=[s.offset,a,c??a],i}(e,t,n,s,o):"block-seq"===n.type?function({composeNode:e,composeEmptyNode:t},n,s,r,o){const i=new(o?.nodeClass??Eo)(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let a=s.offset,c=null;for(const{start:l,value:u}of s.items){const o=Ni(l,{indicator:"seq-item-ind",next:u,offset:a,onError:r,parentIndent:s.indent,startOnNewline:!0});if(!o.found){if(!(o.anchor||o.tag||u)){c=o.end,o.comment&&(i.comment=o.comment);continue}u&&"block-seq"===u.type?r(o.end,"BAD_INDENT","All sequence items must start at the same column"):r(a,"MISSING_CHAR","Sequence item without - indicator")}const f=u?e(n,u,o,r):t(n,o.end,l,null,o,r);n.schema.compat&&Ti(s.indent,u,r),a=f.range[2],i.items.push(f)}return i.range=[s.offset,a,c??a],i}(e,t,n,s,o):function({composeNode:e,composeEmptyNode:t},n,s,r,o){const i="{"===s.start.source,a=i?"flow map":"flow sequence",c=new(o?.nodeClass??(i?ko:Eo))(n.schema);c.flow=!0;const l=n.atRoot;l&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=s.offset+s.start.source.length;for(let m=0;m<s.items.length;++m){const o=s.items[m],{start:l,key:f,sep:h,value:d}=o,p=Ni(l,{flow:a,indicator:"explicit-key-ind",next:f??h?.[0],offset:u,onError:r,parentIndent:s.indent,startOnNewline:!1});if(!p.found){if(!(p.anchor||p.tag||h||d)){0===m&&p.comma?r(p.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<s.items.length-1&&r(p.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),p.comment&&(c.comment?c.comment+="\n"+p.comment:c.comment=p.comment),u=p.end;continue}!i&&n.options.strict&&Ci(f)&&r(f,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===m)p.comma&&r(p.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(p.comma||r(p.start,"MISSING_CHAR",`Missing , between ${a} items`),p.comment){let e="";e:for(const t of l)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=c.items[c.items.length-1];hr(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,p.comment=p.comment.substring(e.length+1)}}if(i||h||p.found){n.atKey=!0;const m=p.end,g=f?e(n,f,p,r):t(n,m,l,null,p,r);Mi(f)&&r(g.range,"BLOCK_IN_FLOW",ji),n.atKey=!1;const y=Ni(h??[],{flow:a,indicator:"map-value-ind",next:d,offset:g.range[2],onError:r,parentIndent:s.indent,startOnNewline:!1});if(y.found){if(!i&&!p.found&&n.options.strict){if(h)for(const e of h){if(e===y.found)break;if("newline"===e.type){r(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}p.start<y.found.offset-1024&&r(y.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else d&&("source"in d&&d.source&&":"===d.source[0]?r(d,"MISSING_CHAR",`Missing space after : in ${a}`):r(y.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const v=d?e(n,d,y,r):y.found?t(n,y.end,h,null,y,r):null;v?Mi(d)&&r(v.range,"BLOCK_IN_FLOW",ji):y.comment&&(g.comment?g.comment+="\n"+y.comment:g.comment=y.comment);const b=new mo(g,v);if(n.options.keepSourceTokens&&(b.srcToken=o),i){const e=c;Bi(n,e.items,g)&&r(m,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(b)}else{const e=new ko(n.schema);e.flow=!0,e.items.push(b);const t=(v??g).range;e.range=[g.range[0],t[1],t[2]],c.items.push(e)}u=v?v.range[2]:y.end}else{const s=d?e(n,d,p,r):t(n,p.end,h,null,p,r);c.items.push(s),u=s.range[2],Mi(d)&&r(s.range,"BLOCK_IN_FLOW",ji)}}const f=i?"}":"]",[h,...d]=s.end;let p=u;if(h&&h.source===f)p=h.offset+h.source.length;else{const e=a[0].toUpperCase()+a.substring(1);r(u,l?"MISSING_CHAR":"BAD_INDENT",l?`${e} must end with a ${f}`:`${e} in block collection must be sufficiently indented and end with a ${f}`),h&&1!==h.source.length&&d.unshift(h)}if(d.length>0){const e=Li(d,p,n.options.strict,r);e.comment&&(c.comment?c.comment+="\n"+e.comment:c.comment=e.comment),c.range=[s.offset,p,e.offset]}else c.range=[s.offset,p,p];return c}(e,t,n,s,o),a=i.constructor;return"!"===r||r===a.tagName?(i.tag=a.tagName,i):(r&&(i.tag=r),i)}function Pi(e,t,n){const s=t.offset,r=function({offset:e,props:t},n,s){if("block-scalar-header"!==t[0].type)return s(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=t[0],o=r[0];let i=0,a="",c=-1;for(let h=1;h<r.length;++h){const t=r[h];if(a||"-"!==t&&"+"!==t){const n=Number(t);!i&&n?i=n:-1===c&&(c=e+h)}else a=t}-1!==c&&s(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let l=!1,u="",f=r.length;for(let h=1;h<t.length;++h){const e=t[h];switch(e.type){case"space":l=!0;case"newline":f+=e.source.length;break;case"comment":if(n&&!l){s(e,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}f+=e.source.length,u=e.source.substring(1);break;case"error":s(e,"UNEXPECTED_TOKEN",e.message),f+=e.source.length;break;default:{s(e,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${e.type}`);const t=e.source;t&&"string"==typeof t&&(f+=t.length)}}}return{mode:o,indent:i,chomp:a,comment:u,length:f}}(t,e.options.strict,n);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const o=">"===r.mode?$r.BLOCK_FOLDED:$r.BLOCK_LITERAL,i=t.source?function(e){const t=e.split(/\n( *)/),n=t[0],s=n.match(/^( *)/),r=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)r.push([t[o],t[o+1]]);return r}(t.source):[];let a=i.length;for(let m=i.length-1;m>=0;--m){const e=i[m][1];if(""!==e&&"\r"!==e)break;a=m}if(0===a){const e="+"===r.chomp&&i.length>0?"\n".repeat(Math.max(1,i.length-1)):"";let n=s+r.length;return t.source&&(n+=t.source.length),{value:e,type:o,comment:r.comment,range:[s,n,n]}}let c=t.indent+r.indent,l=t.offset+r.length,u=0;for(let m=0;m<a;++m){const[t,s]=i[m];if(""!==s&&"\r"!==s){if(t.length<c){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(l+t.length,"MISSING_CHAR",e)}if(0===r.indent&&(c=t.length),u=m,0===c&&!e.atRoot){n(l,"BAD_INDENT","Block scalar values in collections must be indented")}break}0===r.indent&&t.length>c&&(c=t.length),l+=t.length+s.length+1}for(let m=i.length-1;m>=a;--m)i[m][0].length>c&&(a=m+1);let f="",h="",d=!1;for(let m=0;m<u;++m)f+=i[m][0].slice(c)+"\n";for(let m=u;m<a;++m){let[e,t]=i[m];l+=e.length+t.length+1;const s="\r"===t[t.length-1];if(s&&(t=t.slice(0,-1)),t&&e.length<c){const o=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(l-t.length-(s?2:1),"BAD_INDENT",o),e=""}o===$r.BLOCK_LITERAL?(f+=h+e.slice(c)+t,h="\n"):e.length>c||"\t"===t[0]?(" "===h?h="\n":d||"\n"!==h||(h="\n\n"),f+=h+e.slice(c)+t,h="\n",d=!0):""===t?"\n"===h?f+="\n":h="\n":(f+=h+t,h=" ",d=!1)}switch(r.chomp){case"-":break;case"+":for(let e=a;e<i.length;++e)f+="\n"+i[e][0].slice(c);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}const p=s+r.length+t.source.length;return{value:f,type:o,comment:r.comment,range:[s,p,p]}}function $i(e,t,n){const{offset:s,type:r,source:o,end:i}=e;let a,c;const l=(e,t,r)=>n(s+e,t,r);switch(r){case"scalar":a=$r.PLAIN,c=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`);return Ri(e)}(o,l);break;case"single-quoted-scalar":a=$r.QUOTE_SINGLE,c=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return Ri(e.slice(1,-1)).replace(/''/g,"'")}(o,l);break;case"double-quoted-scalar":a=$r.QUOTE_DOUBLE,c=function(e,t){let n="";for(let s=1;s<e.length-1;++s){const r=e[s];if("\r"!==r||"\n"!==e[s+1])if("\n"===r){const{fold:t,offset:r}=qi(e,s);n+=t,s=r}else if("\\"===r){let r=e[++s];const o=Fi[r];if(o)n+=o;else if("\n"===r)for(r=e[s+1];" "===r||"\t"===r;)r=e[1+ ++s];else if("\r"===r&&"\n"===e[s+1])for(r=e[1+ ++s];" "===r||"\t"===r;)r=e[1+ ++s];else if("x"===r||"u"===r||"U"===r){const o={x:2,u:4,U:8}[r];n+=Hi(e,s+1,o,t),s+=o}else{const r=e.substr(s-1,2);t(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),n+=r}}else if(" "===r||"\t"===r){const t=s;let o=e[s+1];for(;" "===o||"\t"===o;)o=e[1+ ++s];"\n"===o||"\r"===o&&"\n"===e[s+2]||(n+=s>t?e.slice(t,s+1):r)}else n+=r}'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}(o,l);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+o.length,s+o.length]}}const u=s+o.length,f=Li(i,u,t,n);return{value:c,type:a,comment:f.comment,range:[s,u,f.offset]}}function Ri(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=t.exec(e);if(!s)return e;let r=s[1],o=" ",i=t.lastIndex;for(n.lastIndex=i;s=n.exec(e);)""===s[1]?"\n"===o?r+=o:o="\n":(r+=o+s[1],o=" "),i=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=i,s=a.exec(e),r+o+(s?.[1]??"")}function qi(e,t){let n="",s=e[t+1];for(;!(" "!==s&&"\t"!==s&&"\n"!==s&&"\r"!==s||"\r"===s&&"\n"!==e[t+2]);)"\n"===s&&(n+="\n"),s=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const Fi={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Hi(e,t,n,s){const r=e.substr(t,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const r=e.substr(t-2,n+2);return s(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),r}return String.fromCodePoint(o)}function Ki(e,t,n,s){const{value:r,type:o,comment:i,range:a}="block-scalar"===t.type?Pi(e,t,s):$i(t,e.options.strict,s),c=n?e.directives.tagName(n.source,(e=>s(n,"TAG_RESOLVE_FAILED",e))):null;let l,u;l=e.options.stringKeys&&e.atKey?e.schema[ir]:c?function(e,t,n,s,r){if("!"===n)return e[ir];const o=[];for(const a of e.tags)if(!a.collection&&a.tag===n){if(!a.default||!a.test)return a;o.push(a)}for(const a of o)if(a.test?.test(t))return a;const i=e.knownTags[n];if(i&&!i.collection)return e.tags.push(Object.assign({},i,{default:!1,test:void 0})),i;return r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[ir]}(e.schema,r,c,n,s):"scalar"===t.type?function({atKey:e,directives:t,schema:n},s,r,o){const i=n.tags.find((t=>(!0===t.default||e&&"key"===t.default)&&t.test?.test(s)))||n[ir];if(n.compat){const e=n.compat.find((e=>e.default&&e.test?.test(s)))??n[ir];if(i.tag!==e.tag){o(r,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${t.tagString(i.tag)} or ${t.tagString(e.tag)}`,!0)}}return i}(e,r,t,s):e.schema[ir];try{const o=l.resolve(r,(e=>s(n??t,"TAG_RESOLVE_FAILED",e)),e.options);u=dr(o)?o:new $r(o)}catch(f){const e=f instanceof Error?f.message:String(f);s(n??t,"TAG_RESOLVE_FAILED",e),u=new $r(r)}return u.range=a,u.source=r,o&&(u.type=o),c&&(u.tag=c),l.format&&(u.format=l.format),i&&(u.comment=i),u}function Ui(e,t,n){if(t){null===n&&(n=t.length);for(let s=n-1;s>=0;--s){let n=t[s];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++s];"space"===n?.type;)e+=n.source.length,n=t[++s];break}}return e}const Wi={composeNode:zi,composeEmptyNode:Vi};function zi(e,t,n,s){const r=e.atKey,{spaceBefore:o,comment:i,anchor:a,tag:c}=n;let l,u=!0;switch(t.type){case"alias":l=function({options:e},{offset:t,source:n,end:s},r){const o=new Mr(n.substring(1));""===o.source&&r(t,"BAD_ALIAS","Alias cannot be an empty string");o.source.endsWith(":")&&r(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const i=t+n.length,a=Li(s,i,e.strict,r);o.range=[t,i,a.offset],a.comment&&(o.comment=a.comment);return o}(e,t,s),(a||c)&&s(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=Ki(e,t,c,s),a&&(l.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=function(e,t,n,s,r){const o=s.tag,i=o?t.directives.tagName(o.source,(e=>r(o,"TAG_RESOLVE_FAILED",e))):null;if("block-seq"===n.type){const{anchor:e,newlineAfterProp:t}=s,n=e&&o?e.offset>o.offset?e:o:e??o;n&&(!t||t.offset<n.offset)&&r(n,"MISSING_CHAR","Missing newline after block sequence props")}const a="block-map"===n.type?"map":"block-seq"===n.type?"seq":"{"===n.start.source?"map":"seq";if(!o||!i||"!"===i||i===ko.tagName&&"map"===a||i===Eo.tagName&&"seq"===a)return Di(e,t,n,r,i);let c=t.schema.tags.find((e=>e.tag===i&&e.collection===a));if(!c){const s=t.schema.knownTags[i];if(!s||s.collection!==a)return s?.collection?r(o,"BAD_COLLECTION_TYPE",`${s.tag} used for ${a} collection, but expects ${s.collection}`,!0):r(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),Di(e,t,n,r,i);t.schema.tags.push(Object.assign({},s,{default:!1})),c=s}const l=Di(e,t,n,r,i,c),u=c.resolve?.(l,(e=>r(o,"TAG_RESOLVE_FAILED",e)),t.options)??l,f=gr(u)?u:new $r(u);return f.range=l.range,f.tag=i,c?.format&&(f.format=c.format),f}(Wi,e,t,n,s),a&&(l.anchor=a.source.substring(1));break;default:s(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),l=Vi(e,t.offset,void 0,null,n,s),u=!1}if(a&&""===l.anchor&&s(a,"BAD_ALIAS","Anchor cannot be an empty string"),r&&e.options.stringKeys&&(!dr(l)||"string"!=typeof l.value||l.tag&&"tag:yaml.org,2002:str"!==l.tag)){s(c??t,"NON_STRING_KEY","With stringKeys, all keys must be strings")}return o&&(l.spaceBefore=!0),i&&("scalar"===t.type&&""===t.source?l.comment=i:l.commentBefore=i),e.options.keepSourceTokens&&u&&(l.srcToken=t),l}function Vi(e,t,n,s,{spaceBefore:r,comment:o,anchor:i,tag:a,end:c},l){const u=Ki(e,{type:"scalar",offset:Ui(t,n,s),indent:-1,source:""},a,l);return i&&(u.anchor=i.source.substring(1),""===u.anchor&&l(i,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(u.spaceBefore=!0),o&&(u.comment=o,u.range[2]=c),u}function Gi(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function Ji(e){let t="",n=!1,s=!1;for(let r=0;r<e.length;++r){const o=e[r];switch(o[0]){case"#":t+=(""===t?"":s?"\n\n":"\n")+(o.substring(1)||" "),n=!0,s=!1;break;case"%":"#"!==e[r+1]?.[0]&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:t,afterEmptyLine:s}}class Yi{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,s)=>{const r=Gi(e);s?this.warnings.push(new Ai(r,t,n)):this.errors.push(new _i(r,t,n))},this.directives=new Nr({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=Ji(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(s||e.directives.docStart||!r)e.commentBefore=n;else if(mr(r)&&!r.flow&&r.items.length>0){let e=r.items[0];hr(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=r.commentBefore;r.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Ji(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const s of e)yield*this.next(s);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,s)=>{const r=Gi(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,s)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:s,value:r,end:o},i){const a=Object.assign({_directives:t},e),c=new xi(void 0,a),l={atKey:!1,atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=Ni(s,{indicator:"doc-start",next:r??o?.[0],offset:n,onError:i,parentIndent:0,startOnNewline:!0});u.found&&(c.directives.docStart=!0,!r||"block-map"!==r.type&&"block-seq"!==r.type||u.hasNewline||i(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=r?zi(l,r,u,i):Vi(l,u.end,s,null,u,i);const f=c.contents.range[2],h=Li(o,f,!1,i);return h.comment&&(c.comment=h.comment),c.range=[n,f,h.offset],c}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new _i(Gi(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new _i(Gi(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=Li(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new _i(Gi(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new xi(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function Xi(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function Qi(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const s=e.props.slice(1);let r=t.length;"block-scalar-header"===e.props[0].type&&(r-=e.props[0].source.length);for(const e of s)e.offset+=r;delete e.props,Object.assign(e,{type:n,source:t,end:s});break}case"block-map":case"block-seq":{const s={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[s]});break}default:{const s="indent"in e?e.indent:-1,r="end"in e&&Array.isArray(e.end)?e.end.filter((e=>"space"===e.type||"comment"===e.type||"newline"===e.type)):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:s,source:t,end:r})}}}function Zi(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=Zi(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=ea(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=ea(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=ea(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function ea({start:e,key:t,sep:n,value:s}){let r="";for(const o of e)r+=o.source;if(t&&(r+=Zi(t)),n)for(const o of n)r+=o.source;return s&&(r+=Zi(s)),r}const ta=Symbol("break visit"),na=Symbol("skip children"),sa=Symbol("remove item");function ra(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),oa(Object.freeze([]),e,t)}function oa(e,t,n){let s=n(t,e);if("symbol"==typeof s)return s;for(const r of["key","value"]){const o=t[r];if(o&&"items"in o){for(let t=0;t<o.items.length;++t){const s=oa(Object.freeze(e.concat([[r,t]])),o.items[t],n);if("number"==typeof s)t=s-1;else{if(s===ta)return ta;s===sa&&(o.items.splice(t,1),t-=1)}}"function"==typeof s&&"key"===r&&(s=s(t,e))}}return"function"==typeof s?s(t,e):s}ra.BREAK=ta,ra.SKIP=na,ra.REMOVE=sa,ra.itemAtPath=(e,t)=>{let n=e;for(const[s,r]of t){const e=n?.[s];if(!e||!("items"in e))return;n=e.items[r]}return n},ra.parentCollection=(e,t)=>{const n=ra.itemAtPath(e,t.slice(0,-1)),s=t[t.length-1][0],r=n?.[s];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};const ia="\ufeff",aa="",ca="",la="";function ua(e){switch(e){case ia:return"byte-order-mark";case aa:return"doc-mode";case ca:return"flow-error-end";case la:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const fa=Object.freeze(Object.defineProperty({__proto__:null,BOM:ia,DOCUMENT:aa,FLOW_END:ca,SCALAR:la,createScalarToken:function(e,t){const{implicitKey:n=!1,indent:s,inFlow:r=!1,offset:o=-1,type:i="PLAIN"}=t,a=ro({type:i,value:e},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),c=t.end??[{type:"newline",offset:-1,indent:s,source:"\n"}];switch(a[0]){case"|":case">":{const e=a.indexOf("\n"),t=a.substring(0,e),n=a.substring(e+1)+"\n",r=[{type:"block-scalar-header",offset:o,indent:s,source:t}];return Xi(r,c)||r.push({type:"newline",offset:-1,indent:s,source:"\n"}),{type:"block-scalar",offset:o,indent:s,props:r,source:n}}case'"':return{type:"double-quoted-scalar",offset:o,indent:s,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:o,indent:s,source:a,end:c};default:return{type:"scalar",offset:o,indent:s,source:a,end:c}}},isCollection:e=>!!e&&"items"in e,isScalar:e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type),prettyToken:function(e){switch(e){case ia:return"<BOM>";case aa:return"<DOC>";case ca:return"<FLOW_END>";case la:return"<SCALAR>";default:return JSON.stringify(e)}},resolveAsScalar:function(e,t=!0,n){if(e){const s=(e,t,s)=>{const r="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new _i([r,r+1],t,s);n(r,t,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return $i(e,t,s);case"block-scalar":return Pi({options:{strict:t}},e,s)}}return null},setScalarValue:function(e,t,n={}){let{afterKey:s=!1,implicitKey:r=!1,inFlow:o=!1,type:i}=n,a="indent"in e?e.indent:null;if(s&&"number"==typeof a&&(a+=2),!i)switch(e.type){case"single-quoted-scalar":i="QUOTE_SINGLE";break;case"double-quoted-scalar":i="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");i=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:i="PLAIN"}const c=ro({type:i,value:t},{implicitKey:r||null===a,indent:null!==a&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),s=t.substring(0,n),r=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=s,e.source=r}else{const{offset:t}=e,n="indent"in e?e.indent:-1,o=[{type:"block-scalar-header",offset:t,indent:n,source:s}];Xi(o,"end"in e?e.end:void 0)||o.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const s of Object.keys(e))"type"!==s&&"offset"!==s&&delete e[s];Object.assign(e,{type:"block-scalar",indent:n,props:o,source:r})}}(e,c);break;case'"':Qi(e,c,"double-quoted-scalar");break;case"'":Qi(e,c,"single-quoted-scalar");break;default:Qi(e,c,"scalar")}},stringify:e=>"type"in e?Zi(e):ea(e),tokenType:ua,visit:ra},Symbol.toStringTag,{value:"Module"}));function ha(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const da=new Set("0123456789ABCDEFabcdef"),pa=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),ma=new Set(",[]{}"),ga=new Set(" ,[]{}\n\r\t"),ya=e=>!e||ga.has(e);class va{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if("string"!=typeof e)throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&ha(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===ia&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length,n=e.indexOf("#");for(;-1!==n;){const s=e[n-1];if(" "===s||"\t"===s){t=n-1;break}n=e.indexOf("#",n+1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield aa,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if(("---"===e||"..."===e)&&ha(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===e?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ha(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&ha(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ya),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const s=this.getLine();if(null===s)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==s[0]||0===n&&(s.startsWith("---")||s.startsWith("..."))&&ha(s[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===s[0]||"}"===s[0])))return this.flowLevel=0,yield ca,yield*this.parseLineStart()}let r=0;for(;","===s[r];)r+=(yield*this.pushCount(1)),r+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(r+=(yield*this.pushIndicators()),s[r]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ya),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||ha(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf("\n",this.pos);if(-1!==s){for(;-1!==s;){const e=this.continueScalar(s+1);if(-1===e)break;s=n.indexOf("\n",e)}-1!==s&&(t=s-("\r"===n[s-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>ha(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let r=this.pos;e=this.buffer[r];++r)switch(e){case" ":n+=1;break;case"\n":t=r,n=0;break;case"\r":{const e=this.buffer[r+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(e=this.buffer[s];" "===e;)e=this.buffer[++s];if("\t"===e){for(;"\t"===e||" "===e||"\r"===e||"\n"===e;)e=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,s=this.buffer[e];"\r"===s&&(s=this.buffer[--e]);const r=e;for(;" "===s;)s=this.buffer[--e];if(!("\n"===s&&e>=this.pos&&e+1+n>r))break;t=e}return yield la,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,s=this.pos-1;for(;t=this.buffer[++s];)if(":"===t){const t=this.buffer[s+1];if(ha(t)||e&&ma.has(t))break;n=s}else if(ha(t)){let r=this.buffer[s+1];if("\r"===t&&("\n"===r?(s+=1,t="\n",r=this.buffer[s+1]):n=s),"#"===r||e&&ma.has(r))break;if("\n"===t){const e=this.continueScalar(s+1);if(-1===e)break;s=Math.max(s,e-2)}}else{if(e&&ma.has(t))break;n=s}return t||this.atEnd?(yield la,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ya))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(ha(t)||e&&ma.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!ha(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(pa.has(t))t=this.buffer[++e];else{if("%"!==t||!da.has(this.buffer[e+1])||!da.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class ba{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function wa(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function ka(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function xa(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ea(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Sa(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function _a(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||wa(t.start,"explicit-key-ind")||wa(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,xa(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Aa{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new va,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=ua(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&_a(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===ka(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==ka(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=Sa(Ea(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;"comment"===s?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],s=n?.value?.end;if(Array.isArray(s))return Array.prototype.push.apply(s,t.start),s.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent,s=n&&(t.sep||t.explicitKey)&&"seq-item-ind"!==this.type;let r=[];if(s&&t.sep&&!t.value){const n=[];for(let s=0;s<t.sep.length;++s){const r=t.sep[s];switch(r.type){case"newline":n.push(s);break;case"space":break;case"comment":r.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(r=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(s||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||t.explicitKey?s||t.value?(r.push(this.sourceToken),e.items.push({start:r,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(t.start.push(this.sourceToken),t.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(wa(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(xa(t.key)&&!wa(t.sep,"newline")){const e=Sa(t.start),n=t.key,s=t.sep;s.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:s}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(wa(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=Sa(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:r,key:null,sep:[this.sourceToken]}):wa(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(s||t.value?(e.items.push({start:r,key:n,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(n):(Object.assign(t,{key:n,sep:[]}),this.onKeyLine=!0))}default:{const t=this.startBlockValue(e);if(t)return n&&"block-seq"!==t.type&&e.items.push({start:r}),void this.stack.push(t)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;"comment"===s?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],s=n?.value?.end;if(Array.isArray(s))return Array.prototype.push.apply(s,t.start),s.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||wa(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=Sa(Ea(t));_a(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Sa(Ea(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Sa(Ea(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type)))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Oa(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new ba||null,prettyErrors:t}}function Na(e,t={}){const{lineCounter:n,prettyErrors:s}=Oa(t),r=new Aa(n?.addNewLine),o=new Yi(t);let i=null;for(const a of o.compose(r.parse(e),!0,e.length))if(i){if("silent"!==i.options.logLevel){i.errors.push(new _i(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else i=a;return s&&n&&(i.errors.forEach(Oi(e,n)),i.warnings.forEach(Oi(e,n))),i}const Ca=Object.freeze(Object.defineProperty({__proto__:null,Alias:Mr,CST:fa,Composer:Yi,Document:xi,Lexer:va,LineCounter:ba,Pair:mo,Parser:Aa,Scalar:$r,Schema:ki,YAMLError:Si,YAMLMap:ko,YAMLParseError:_i,YAMLSeq:Eo,YAMLWarning:Ai,isAlias:lr,isCollection:mr,isDocument:ur,isMap:fr,isNode:gr,isPair:hr,isScalar:dr,isSeq:pr,parse:function(e,t,n){let s;"function"==typeof t?s=t:void 0===n&&t&&"object"==typeof t&&(n=t);const r=Na(e,n);if(!r)return null;if(r.warnings.forEach((e=>ao(r.options.logLevel,e))),r.errors.length>0){if("silent"!==r.options.logLevel)throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))},parseAllDocuments:function(e,t={}){const{lineCounter:n,prettyErrors:s}=Oa(t),r=new Aa(n?.addNewLine),o=new Yi(t),i=Array.from(o.compose(r.parse(e)));if(s&&n)for(const a of i)a.errors.forEach(Oi(e,n)),a.warnings.forEach(Oi(e,n));return i.length>0?i:Object.assign([],{empty:!0},o.streamInfo())},parseDocument:Na,stringify:function(e,t,n){let s=null;if("function"==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return ur(e)&&!s?e.toString(n):new xi(e,s,n).toString(n)},visit:wr,visitAsync:xr},Symbol.toStringTag,{value:"Module"})),Ta=async(e="en")=>{const t=async e=>(await fetch(e)).text(),[n,s,r,o]=await Promise.all([t(`/locales/${e}/side.ftml`),t(`/locales/${e}/top.ftml`),t(`/locales/${e}/theme.css`),t(`/locales/${e}/messages.yaml`)]),i=Ca.parse(o);for(const a in i.actionarea){const e=i.actionarea[a],t=document.querySelector(`#actionarea-${a}`);if(t)if(Array.isArray(e)){const n=e.map((e=>`<li>${e}</li>`)).join("");Ds(t,n)}else"save"===a?t.value=e:Ds(t,e)}(async e=>{const t=document.getElementById("lang-select");if(!t)return;t.innerHTML="";const n=await fetch("/locales/index.yaml").then((e=>e.text())),s=Ca.parse(n);for(const r in s.lang){const n=document.createElement("option");n.value=r,n.label=s.lang[r],n.text=s.lang[r],r===e&&(n.selected=!0),t.appendChild(n)}})(e),Ds(document.querySelector("head > style#theme"),r),qs.postMessage({value:n,type:"side"}),qs.postMessage({value:s,type:"top"})},Ba=(e="FtmlStorage")=>{const t=localStorage.getItem(e);if(t){const e=JSON.parse(t);if(Ys.value=e.title,Js.value=e.page,Xs.value=e.side,e.page){const t={source:e.page,vars:{}};new Gs(t).parse().then((()=>{qs.postMessage({value:t.source,type:"page"})})).catch((e=>{console.error("Parsing failed with error: ",e)}))}if(e.side&&qs.postMessage({value:e.side,type:"side"}),e.title){const t=document.querySelector("#page-title");t&&(t.innerHTML=e.title)}}},Ia=e=>{if(Ys.value=e.title,Js.value=e.source,Xs.value="",e.source){const t={source:e.source,vars:{}};new Gs(t).parse().then((()=>{qs.postMessage({value:t.source,type:"page"})})).catch((e=>{console.error("Parsing failed with error: ",e)}))}if(e.title){const t=document.querySelector("#page-title");t&&(t.innerHTML=e.title)}},La=yt((e=>{const{target:t}=e;if(!(t instanceof HTMLTextAreaElement))return;const n=Ms(),s={title:Ys.value,page:Js.value,side:Xs.value},r=n?`FtmlStorage[${n}]`:"FtmlStorage";localStorage.setItem(r,JSON.stringify(s));const o={source:Js.value,vars:{}};new Gs(o).onEdit(e).then((()=>{qs.postMessage({value:o.source,type:"page"})})).catch((e=>{console.error("Parsing failed with error: ",e)}))}),1e3),ja=yt((e=>{const{target:t}=e;if(!(t instanceof HTMLTextAreaElement))return;const n=t.value,s=Ms(),r={title:Ys.value,page:Js.value,side:Xs.value},o=s?`FtmlStorage[${s}]`:"FtmlStorage";localStorage.setItem(o,JSON.stringify(r)),qs.postMessage({value:n,type:"side"})}),1e3);Js&&Js.addEventListener("input",La),Xs&&Xs.addEventListener("input",ja),Ys&&Ys.addEventListener("input",(e=>{const{target:t}=e;if(!(t instanceof HTMLInputElement))return;const n=t.value,s=document.querySelector("#page-title");s&&(s.innerHTML=n);const r=Ms(),o={title:Ys.value,page:Js.value,side:Xs.value},i=r?`FtmlStorage[${r}]`:"FtmlStorage";localStorage.setItem(i,JSON.stringify(o))})),tr&&tr.addEventListener("change",(function(){const e=this.value;Ta(e);const t={lang:e};localStorage.setItem("WPconfig",JSON.stringify(t))})),Qs&&Qs.addEventListener("click",(async()=>{const e={suggestedName:Ys.value||"undefined",types:[{description:"Foundation Text Markup Language",accept:{"text/plain":[".ftml"]}}]};try{const t=await window.showSaveFilePicker(e),n=await t.createWritable();await n.write(Js.value),await n.close()}catch(t){console.log(t)}})),Zs&&Zs.addEventListener("click",(async()=>{let e=Ms()||Ls();const t=new URL(window.location.href).pathname.split("/").filter((e=>e)),n=document.getElementById("password"),s=document.getElementById("password-encripted");let r=$s(n.value);n&&n.hasAttribute("disabled")&&s&&(r=s.getAttribute("value"));const o={shortid:e,title:Ys.value,source:`'${Js.value}`,createdby:js()};let i=!1;3===t.length&&"share"===t[0]&&"pw"===t[1]?(i=!0,o.password=r,o.pw="true"):2===t.length&&"share"===t[0]?n.value&&(i=!0,e=Ls(),o.password=r,o.pw="true"):n.value&&(i=!0,o.password=r,o.pw="true"),console.debug("Sending data to GAS:",o);try{const t=await async function(e){const t=new URLSearchParams(e).toString();return(await fetch(Fs,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t})).json()}(o);if(t.error){console.error("Error sending data to GAS:",t.error);const e=document.querySelector("#messages");e&&(e.innerHTML=t.error,e.style.padding="1em")}else window.location.href=i?`/share/pw/${e}`:`/share/${e}`}catch(a){console.error("Error sending data to GAS:",a)}})),er&&er.addEventListener("click",(async()=>{if(!Ms())return;const e=Ms(),t=await async function(e){return Hs({shortid:e,history:!0})}(e);t.error?console.error(t.error):function(e,t){const n=document.querySelector(".page-history tbody");for(;n?.firstChild;)n.removeChild(n.firstChild);const s=document.createElement("tr");["rev.","","flags","actions","by","date","comments"].forEach((e=>{const t=document.createElement("td");t.innerText=e,s.appendChild(t)})),n?.appendChild(s),t.forEach(((t,s)=>{console.debug(t);const r=document.createElement("tr");r.id=`revision-row-${t.revisionId}`;const o=document.createElement("td");o.innerText=String(s),r.appendChild(o);const i=document.createElement("td");r.appendChild(i);const a=document.createElement("td");a.innerText="N/A",r.appendChild(a);const c=document.createElement("td");c.style.width="5em",c.className="optionstd";const l=document.createElement("a");l.innerText="V",l.dataset.shortId=e,l.dataset.revisionId=t.revisionId.toString(),l.href="javascript:void(0)",l.className="view-link",c.appendChild(l);const u=document.createElement("a");u.innerText="S",u.dataset.shortId=e,u.dataset.revisionId=t.revisionId.toString(),u.href="javascript:void(0)",u.className="source-link",c.appendChild(u),r.appendChild(c);const f=document.createElement("td");f.innerText=t.createdBy,r.appendChild(f);const h=document.createElement("td");h.innerText=new Date(t.createdAt).toLocaleString(),r.appendChild(h);const d=document.createElement("td");d.innerText="N/A",r.appendChild(d),n?.appendChild(r)}))}(e,t.data)})),document.querySelector("head > style#innercss").innerHTML=".wj-clear-float-both{clear:both}table.wiki-content-table,table.wj-table{border-collapse:collapse;border-spacing:0;margin:.5em auto}table.wiki-content-table td,table.wj-table td{border:1px solid #666666;padding:.3em .7em}table.wiki-content-table th,table.wj-table th{border:1px solid #666666;padding:.3em .7em;background-color:#eee}.wj-align-center{text-align:center}.wj-align-left{text-align:left}.wj-align-right{text-align:right}.wj-align-justify{text-align:justify}#toc{margin:1em auto 1em 0;padding:0 .5em;border:1px dashed gray;background-color:#f7f7f7;display:table}#toc .title{font-weight:700;margin:.2em 0;padding:0 2em;text-align:center}#toc #toc-action-bar{padding:2px}#toc-list{margin:.5em 0}#toc.floatright{float:right;margin:1em}#toc.floatleft{float:left;margin:1em}.code,code{border:1px dashed #999999;background-color:#333;font-family:Andale Mono,Courier New,Courier,monospace;padding:0 .7em;margin:1em 0;overflow:auto}.footnote .f-heading,.equation .e-heading,.reference .r-heading{font-weight:700}.footnote .f-content,.reference .r-content{margin:.5em 0}.footnote .f-footer,.equation .e-footer,.reference .r-footer{font-size:90%}.footnotes-footer{margin:0;padding:.5em 0;height:1%}.footnotes-footer .title{margin:.5em 0;font-size:130%;font-weight:700}a.footnoteref{display:inline-block}a#account-topbutton:active+div#account-options,a#account-topbutton:focus+div#account-options{display:block!important}.wj-collapsible[open][data-show-top]>.wj-collapsible-button-top>.wj-collapsible-show-text{display:unset}code,.code{background-color:unset}#page-index{background-color:#f3f3f3;border:1px solid #CCC;padding:.5em 1em;margin:1em 0}.page-source{white-space:pre-wrap}.errors{color:#cc0f35;background:#feecf0;margin:.5em;font-size:1.2rem}\n",document.querySelector("head > style#collapsible").innerHTML=".wj-collapsible-block{display:block;line-height:normal;list-style:none;margin:0;padding:0}.wj-collapsible-block-link.wj-collapsible-block-folded,.wj-collapsible-block.folded>.wj-collapsible-block-folded,.wj-collapsible-block.unfolded>.wj-collapsible-block-unfolded{display:none}.colmod-block>ul,.colmod-block>ul>li{display:block;line-height:normal;list-style:none;margin:0;padding:0}.colmod-block>ul>li>ul,li.folded>.colmod-link-top a+a,li.folded>.colmod-content,li.folded>.colmod-link-end a,li.unfolded>.colmod-link-top a:first-child{display:none}.colmod-content{animation:colmod-fade-in .2s ease-in-out;animation-timing-function:cubic-bezier(.3649610494,0,.6350389506,1)}li.folded>.colmod-content{animation-name:none}@keyframes colmod-fade-in{0%{opacity:0}to{opacity:1}}[class|=colmod-link] div.foldable-list-container{display:inline}.colmod-collapsiblealt>[class|=colmod-link],.collapsiblealt>.colmod-block>ul>li>[class|=colmod-link]{margin:.5em 0;text-align:center}.colmod-collapsiblealt>[class|=colmod-link] a,.collapsiblealt>.colmod-block>ul>li>[class|=colmod-link] a{padding:.1em .5em;text-decoration:none;background-color:#f4f4f4;border:1px solid #aaaaaa;color:#000}.colmod-collapsiblealt>[class|=colmod-link] a:hover,.colmod-collapsiblealt>[class|=colmod-link] a:active,.collapsiblealt>.colmod-block>ul>li>[class|=colmod-link] a:hover,.collapsiblealt>.colmod-block>ul>li>[class|=colmod-link] a:active{background:#dddddd;text-decoration:none}\n",document.querySelector("head > style#init").innerHTML=':root{--colcode-background: #F0F0F2;--colcode-hover: #E8E8ED;--colcode-border: #D2D2D7;--colcode-selection: #3296FF20;--colcode-accent: #1262B5;--colcode-content: #222222;--colcode-comment: #666666;--colcode-commentdoc: #666688;--colcode-punct: #818D94;--colcode-markup: #2269A8;--colcode-link: #64A0FF;--colcode-special: #EC1C12;--colcode-invalid: #FF3214;--colcode-inserted: #54D169;--colcode-changed: #FF9614;--colcode-important: #FFCB6BEE;--colcode-highlight: #C878C8;--colcode-note: #5694D6;--colcode-keyword: #C708FF;--colcode-logical: #C708FF;--colcode-operator: #41B2D1;--colcode-storage: #41B2D1;--colcode-string: #10AB00;--colcode-entity: #10AB00;--colcode-type: #9C8922;--colcode-ident: #005296;--colcode-function: #3394CC;--colcode-constant: #BB5F00;--colcode-property: #EC1C12;--colcode-tag: #EC1C12;--colcode-id: #3394CC;--colcode-class: #10AB00;--colcode-attribute: #FFCB6B}.wj-user-info{display:inline-block}.wj-user-info .wj-user-info-link,.wj-user-info .wj-error-inline{display:inline-flex;align-items:center;text-decoration:none;vertical-align:text-bottom}.wj-user-info-avatar{width:16px;height:16px;padding:0;margin:0}.wj-user-info-avatar+.wj-user-info-name{line-height:16px}.wj-karma,.wj-karma svg{display:inline-block;height:16px;vertical-align:top}:root{--wj-karma-5: rgb(255, 45, 45);--wj-karma-4: rgb(236, 129, 14);--wj-karma-3: rgb(255, 242, 14);--wj-karma-2: rgb(97, 243, 40);--wj-karma-1: rgb(97, 243, 167);--wj-karma-n: rgb(64, 64, 64)}.wj-karma{--wj-karma-5-svg: var(--wj-karma-n);--wj-karma-4-svg: var(--wj-karma-n);--wj-karma-3-svg: var(--wj-karma-n);--wj-karma-2-svg: var(--wj-karma-n);--wj-karma-1-svg: var(--wj-karma-n)}.wj-karma[data-karma="5"]{--wj-karma-5-svg: var(--wj-karma-5);--wj-karma-4-svg: var(--wj-karma-4);--wj-karma-3-svg: var(--wj-karma-3);--wj-karma-2-svg: var(--wj-karma-2);--wj-karma-1-svg: var(--wj-karma-1)}.wj-karma[data-karma="4"]{--wj-karma-4-svg: var(--wj-karma-4);--wj-karma-3-svg: var(--wj-karma-3);--wj-karma-2-svg: var(--wj-karma-2);--wj-karma-1-svg: var(--wj-karma-1)}.wj-karma[data-karma="3"]{--wj-karma-3-svg: var(--wj-karma-3);--wj-karma-2-svg: var(--wj-karma-2);--wj-karma-1-svg: var(--wj-karma-1)}.wj-karma[data-karma="2"]{--wj-karma-2-svg: var(--wj-karma-2);--wj-karma-1-svg: var(--wj-karma-1)}.wj-karma[data-karma="1"]{--wj-karma-1-svg: var(--wj-karma-1)}.printuser img.small{padding:1px 9px 1px 0}.wj-image-container{display:initial}\n',document.addEventListener("DOMContentLoaded",(async()=>{const e=localStorage.getItem("WPconfig"),t=js(),n=document.querySelector(".wj-user-info.printuser"),s=document.querySelector("#search-top-box > div");if(n&&n.childNodes.forEach((e=>{3===e.nodeType&&"Default"===e.nodeValue.trim()&&(e.nodeValue=t)})),s){const e=document.createElement("img");e.src=`https://scp.ukwhatn.com/assets/image/layoutSupporter.png?site=wdp&name=${t}&id=0`,s.appendChild(e)}if(e){const t=JSON.parse(e);Ta(t.lang)}else Ta();!function(){const e=document.getElementById("page-index-list");if(e)for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith("FtmlStorage[")){const t=n.match(/\[([^\]]+)\]/)[1],s=JSON.parse(localStorage.getItem(n)).title||"Untitled",r=document.createElement("a");r.href=`/share/${t}`,r.textContent=s,r.target="_blank";const o=document.createElement("li");o.appendChild(r),e.appendChild(o)}}else console.error("page-index-list element not found.")}();const r=new URL(window.location.href).pathname.split("/").filter((e=>e));if(2===r.length&&"share"===r[0]){const e=r[1];try{const t=await Ks(e);t.error?Ba(`FtmlStorage[${e}]`):Ia(t.data)}catch(o){console.error("Error fetching data:",o),Ba(`FtmlStorage[${e}]`)}}else if(3===r.length&&"share"===r[0]&&"pw"===r[1]){const e=r[2],t=function(e){const t="FtmlPWHash_"+e+"=",n=decodeURIComponent(document.cookie).split(";");for(let s=0;s<n.length;s++){let e=n[s];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null}(e);let n,s;if(t){s=t;const e=document.getElementById("password"),n=document.getElementById("password-encripted");e&&(e.setAttribute("disabled","disabled"),e.setAttribute("placeholder","")),n&&n.setAttribute("value",s)}else document.body.style.display="none",n=prompt(""),document.body.style.display="",s=$s(n);try{const t=await async function(e,t){return Hs({shortid:e,password:t,pw:!0})}(e,s);t.error?Ia({title:"PASSWORD ERROR",source:""}):(Ia(t.data),function(e,t,n=7){var s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3);var r="expires="+s.toUTCString();document.cookie="FtmlPWHash_"+e+"="+t+";"+r+";path=/;Secure;"}(e,s))}catch(o){console.error("Error fetching data:",o)}}else Ba();document.body.addEventListener("click",(function(e){if(e.target&&"view-link"===e.target.className){if(document.getElementById("page-version-info")){const e=document.getElementById("page-version-info");e.parentNode.removeChild(e)}Ws(e.target.dataset.shortId,e.target.dataset.revisionId)}if(e.target&&"source-link"===e.target.className){!async function(e,t){const n=await Us(e,t);if(n&&n.data){const e=document.getElementById("history-subarea");e&&(e.style.display="block"),Ps(".page-source-title",`Page Source Revision Number: ${n.data.revisionNum}`),Ps(".page-source",n.data.source||"No source available")}}(e.target.dataset.shortId,e.target.dataset.revisionId)}}))}));
//# sourceMappingURL=main-4e5a009b.js.map
